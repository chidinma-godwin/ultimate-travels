{"version":3,"sources":["images/logo.svg","images/bahrain.jpg","components/Header.js","queries/places.js","queries/flightDetails.js","queries/checkOffer.js","queries/flightInspiration.js","queries/traveler.js","queries/visa.js","queries/hotel.js","queries/tour.js","queries/user.js","components/home/homeSubs/booking/booking_subComponents/Autocomplete.js","components/home/homeSubs/booking/booking_subComponents/PassengersCabinPopover.js","components/home/homeSubs/booking/booking_subComponents/Trip.js","components/hotel/HotelForm.js","components/home/homeSubs/booking/Booking.js","components/home/homeSubs/MainImage.js","components/home/homeSubs/TopFlightDeals.js","components/ErrorBoundary.js","components/home/homeSubs/FlightDealsQuery.js","components/admin/TourTable.js","components/home/homeSubs/tour/HolidayPackages.js","components/TourQuery.js","components/home/Home.js","components/Footer.js","components/home/homeSubs/tour/TourDetails.js","components/CheckBox.js","components/flightDetails/FilterResults.js","components/flightDetails/FlightResultList.js","components/flightDetails/SortResult.js","components/flightDetails/FlightResultHeading.js","components/flightDetails/FlightResultPagination.js","components/flightDetails/QueryResult.js","components/flightDetails/FlightQuery.js","components/CustomForm.js","components/flightDetails/TravelersInfo.js","components/flightDetails/SelectedFlightInfo.js","components/flightDetails/OfferAvailabilityResult.js","components/flightDetails/checkOfferAvailability.js","components/visa/PersonalInfo.js","components/visa/TravelInfo.js","components/visa/VisaForm.js","components/hotel/HotelResultList.js","components/hotel/HotelResultHeading.js","components/hotel/FilterHotels.js","components/hotel/HotelResult.js","components/hotel/HotelQuery.js","components/users/userPage/UserHeader.js","components/users/SideBar.js","components/admin/TablesPage.js","components/admin/Travelers.js","components/admin/TravelersQuery.js","components/admin/TourAvailabilityResult.js","components/admin/TourAvailabilityQuery.js","components/admin/TourQuery.js","components/admin/ShowTour.js","components/admin/TourDetailsResult.js","components/admin/TourDetailsQuery.js","components/users/userPage/Dashboard.js","components/users/userPage/UserPage.js","components/hotel/HotelOffers.js","components/hotel/ShowMore.js","components/hotel/GuestInfo.js","components/NetplusPayment.js","components/users/Login.js","App.js","serviceWorker.js","fontawesome.js","index.js"],"names":["module","exports","Header","props","Navbar","variant","expand","className","Container","fluid","Brand","as","Link","to","alt","src","logo","width","Toggle","aria-controls","icon","size","color","Collapse","id","Nav","style","marginTop","marginBottom","href","Dropdown","ButtonGroup","currency","Menu","Item","onClick","evt","handleCurrencyToggle","target","textContent","getPlacesQuery","gql","getFlightDetails","checkOfferQuery","getInspirationPlaces","getTravelers","addTraveler","addVisaRequest","getHotels","getHotelOffers","tourAvailabilityQuery","tourDetailsQuery","saveTourToDatabase","getToursFromDatabase","removeTourMutation","loginMutation","Autocomplete","onChange","selected","selectedOption","setState","handleAsyncChange","onKeyUp","console","log","key","keyCode","charCode","select","state","allowNew","multiple","isLoading","useCache","options","client","labelKey","option","name","iataCode","minLength","selectHintOnEnter","bsSize","onSearch","value","a","async","query","variables","keyword","then","res","data","places","catch","err","placeholder","React","Component","PassengersCabinPopover","increment","decrement","handleChange","cabin","handleChildrenChange","adults","children","c_age","infants","show","numAdults","numChildren","age","childrenAge","i","push","ageForm","Form","Group","Col","sm","Control","map","Fragment","Row","controlId","Label","xs","Table","bordered","Button","document","body","click","Trip","handleDateChange","date","item","prevState","set","returnDate","getTime","handleReturnDateChange","handleFromLocationChange","from","handleToLocationChange","destination","split","handleSubmit","preventDefault","origin","departureDate","forEach","val","toUpperCase","userInfo","travelClass","trim","join","currencyCode","singleTrip","undefined","multipletrip","toISOString","redirect","Map","Date","this","pathname","travellers","popover","Popover","padding","onSubmit","selectedCityOptions","city","md","lg","bind","border","calenderClassName","dateFormat","get","minDate","showDisabledMonthNavigation","placeholderText","disabled","ButtonToolbar","OverlayTrigger","trigger","rootClose","overlay","placement","FormControl","readOnly","type","HotelForm","checkOut","handleDestinationChange","childrenAges","filter","length","concat","checkIn","rooms","searchParams","Booking","calculateHeight","element","cardRef","height","getBoundingClientRect","changeImageHeight","handleAddTrip","heightChange","tripCount","handleRemoveTrip","Math","max","handleSingleTripChange","one","roundtrip","handleRoundTripChange","handleMultipleTripChange","handleDubaiVisa","activeTab","onResize","cityArray","Card","background","position","ref","Body","Tabs","activeKey","onSelect","Tab","title","eventKey","backgroundColor","FormCheck","inline","label","checked","marginLeft","handleWidth","handleHeight","MainImage","Image","maxWidth","bahrain","TopFlightDeals","handleBook","meta","dictionaries","showNextPage","showPreviousPage","pageNumbers","currentPage","fontSize","marginRight","CardDeck","flight","originLocation","locations","location","destinationLocation","toString","links","flightOffers","v","originLocationCode","address","cityName","details","detailedName","destinationLocationCode","originCity","destinationCity","Text","price","total","ErrorBoundary","error","errorInfo","whiteSpace","componentStack","FlightDealsQuery","dealsPerpage","viewBy","loading","Spinner","animation","role","deals","flightInspiration","indexOfLastDeal","indexOfFirstDeal","currentDeals","slice","ceil","TourTable","removeTour","update","store","readQuery","getDatabaseTours","tour","newData","writeQuery","mutation","display","tours","textDecoration","site_links","advertised_departures","Intl","NumberFormat","format","round","Number","amount","delay","hide","Tooltip","HolidayPackages","viewTourDetails","slug","redirectState","Img","images","image_href","thumbnail","Title","TourQuery","isAdmin","Home","Footer","TourDetails","maxHeight","description","defaultActiveKey","detail","included","detail_type","Checkbox","FilterResults","open","onClickAirline","airlines","onClickPrices","priceList","prices","priceValue","min","priceRange","onClickDuration","durationList","duration","durationValue","durationRange","onClickFlightTimes","flightTimes","onPriceSlide","render","handle","un","percent","toFixed","onDurationSlide","onOutboundTimeSlide","outboundTime","onInboundTimeSlide","inboundTime","floor","displayTime","number","hour","outboundTimeRange","inboundTimeRange","dictionaryData","joinedCarrierCodes","index","uniqueCarrierCodes","Array","Set","airline","code","find","aria-expanded","justifyContent","in","paddingLeft","stop","CheckBox","checkedStops","onChangeStops","checkedAirlines","onChangeAirline","accessibility","start","range","onSlide","onChangePrice","connect","onChangeDuration","step","onChangeDepartureTime","onChangeArrivalTime","FlightResultList","handleCheckOffer","selectedData","firstTripData","flightData","trip","averageDuration","itineraries","itinerary","durationMins","numStops","uniqueAirlinesList","accumulatedPrice","joinedQueryVariable","queryVariable","joinedData","inboundDuration","inboundItineraryDeparture","inboundDepartureTime","inboundArrivalTime","inboundItineraryArrival","inboundStops","outboundDuration","outboundItineraryDeparture","segments","departure","outboundDepartureTime","splittedTimeArray","at","outboundStops","outboundItineraryArrival","arrival","outboundArrivalTime","departureTime","arrivalTime","splittedDepartureTimeArray","splittedArrivalTimeArray","fontWeight","borderColor","carrierCode","flexDirection","alignItems","paddingRight","reduce","tripData","numberOfBookableSeats","SortResult","handleSortCheapest","handleSortFastest","handleFastestCardClick","handleCheapestCardClick","lowestPrice","lestDuration","paddingTop","alignSelf","FlightResultHeading","changeFlightQuery","info","lastDepartureDate","borderRadius","FlightResultPagination","flightsPerPage","changePage","showPrevPage","numberOfPages","Pagination","Prev","active","Ellipsis","Next","QueryResult","getPrices","priceArray","getDuration","durationArray","time","timeArray","mins","each","totalAvgDuration","totalPrice","handleShowAll","compareFunction","b","firstPrice","secondPrice","sortedArray","sort","firstDuration","secondDuration","unCheckedStops","unCheckedAirlines","resizeData","formattedData","showAllResultBtn","array","low","some","includes","calculatedTime","e","isChecked","arrayUnchecked","arrayChecked","uniqueArrayChecked","resizedArrayUnchecked","mergeData","prevData","newArrayChecked","checkedArray","allData","flightDetails","stopList","airlineList","segment","carriers","indexOfLastFlight","indexOfFirstFlight","currentFlights","return","FlightQuery","queryObj","Composed","adopt","result","CustomForm","elementType","labelClassName","formGroupClassName","showMore","plaintext","peekNextMonth","showMonthDropdown","showYearDropdown","dropdownMode","TravelersInfo","stringifyNumber","n","special","deca","flightOffer","dateOfBirth","firstName","middleName","lastName","email","phone","handleEmailChange","handleChangeFirstName","handleChangeMiddleName","handleChangeLastName","handleChangeTitle","onChangePhone","countAdult","countChildren","countInfant","travelerPricings","traveler","passengerPosition","travelerType","travelerId","inputProps","required","autoFocus","country","input","SelectedFlightInfo","unique","accumulator","travelerObj","uniqueTravelerPricings","basePrice","base","taxAndFees","refundableTaxes","toLowerCase","flightPrice","grandTotal","OfferAvailabilityResult","phoneNum","checkOffer","showAlert","hasWarnings","warnings","warnList","warn","status","Alert","onClose","dismissible","Heading","checkOfferAvailability","PersonalInfo","gender","nationality","getNames","employmentStatus","TravelInfo","plainText","passportNum","passportExpiryDate","travelHistory","VisaForm","componentDidMount","handleHideFooter","componentWillUnmount","HotelResultList","hotel","redirectHotelData","hotelData","media","ratings","hotelRatings","rating","numRatings","classname","uri","lines","offers","room","typeEstimated","category","HotelResultHeading","borderless","responsive","FilterHotels","onClickStars","openStars","textAlign","star","stars","onChangeStars","HotelResult","hotels","checkedStars","requiredArray","newArray","starMap","has","HotelQuery","cityCode","checkInDate","checkOutDate","roomQuantity","emptyData","UserHeader","fixed","username","SideBar","isMenuOpen","menuOpen","isOpen","menuClass","url","noOverlay","disableAutoFocus","onStateChange","TablesPage","striped","Travelers","allTravelers","createdAt","TravelersQuery","TourAvailabilityResult","selectedTour","searchTour","dataArray","Check","TourAvailabilityQuery","placesUrl","selectedPlaces","Tour","results","ShowTour","removeCountry","countries","values","selectedCountries","checkAvailability","placesList","replace","uniqueJoinedData","citiesUrl","handleCityChange","includeSelectAll","includeFilter","dropdownHeight","manySelectedPlaceholder","clearFilterOnClose","defaultFocusFilter","filterPlaceholder","match","params","city1","TourDetailsResult","selectedTourDetails","handleAddTour","saveTour","selectedTours","formattedTour","link","image","ok","saved","errorText","closeSuccessAlert","handleShowTours","tourDetails","selectedCurrency","visitedCountries","geography","visited_countries","tourOverviewLink","primary_country","TourDetailsQuery","tourData","Dashboard","UserPage","handleHideHeader","transition","path","exact","component","HotelOffers","offer","redirectOffer","hotelOffers","offerId","photo","Carousel","interval","Caption","text","ShowMore","args","self","str","adult","amenities","amenity","GuestInfo","NetplusPayment","class","action","Login","context","onloadRecaptcha","captchaUltimate","reset","verifyRecaptcha","recaptchaToken","token","signIn","password","aria-hidden","el","sitekey","onloadCallback","verifyCallback","uploadLink","createUploadLink","ApolloClient","cache","InMemoryCache","addTypename","App","choice","hideFooter","hideHeader","loadReCaptcha","Boolean","window","hostname","library","add","faPhoneAlt","faEnvelope","faWhatsappSquare","faBed","faBookOpen","faCar","faCalendarAlt","faChair","faUsers","faExchangeAlt","faSortDown","faCity","faPlane","faPlaneDeparture","faPlaneArrival","faPlus","faMinus","faLongArrowAltLeft","faLongArrowAltRight","faStar","faStarRegular","faMapMarkerAlt","faChevronCircleLeft","faChevronCircleRight","faBell","faUserCircle","faRedo","faTimes","faBars","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bfb5d8bd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.37964d0a.svg\";","module.exports = __webpack_public_path__ + \"static/media/bahrain.40a61f95.jpg\";","import React from \"react\";\r\nimport logo from \"../images/logo.svg\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport { Navbar, Nav, Container, ButtonGroup, Dropdown } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <Navbar variant=\"dark\" expand=\"lg\" className=\"main-nav\">\r\n      <Container fluid>\r\n        <Navbar.Brand as={Link} to=\"/\" className=\"d-flex\">\r\n          <img\r\n            alt=\"\"\r\n            src={logo}\r\n            width=\"32\"\r\n            // height=\"64\"\r\n            // style={{ marginRight: \"0.4em\" }}\r\n            className=\"d-inline-block align-top mr-4\"\r\n          />\r\n          <span className=\"align-self-center\">Ultimate Travels</span>\r\n        </Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\">\r\n          <FontAwesomeIcon icon={[\"fas\", \"bars\"]} size=\"lg\" color=\"#fff\" />\r\n        </Navbar.Toggle>\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"ml-md-auto\">\r\n            <NavLink\r\n              className=\"mr-3 header-link\"\r\n              style={{\r\n                marginTop: \"auto\",\r\n                marginBottom: \"auto\",\r\n              }}\r\n              to=\"/\"\r\n            >\r\n              Home\r\n            </NavLink>\r\n            <NavLink\r\n              className=\"mr-3 header-link\"\r\n              style={{\r\n                marginTop: \"auto\",\r\n                marginBottom: \"auto\",\r\n              }}\r\n              to=\"/login\"\r\n            >\r\n              Login\r\n            </NavLink>\r\n            <Nav.Link className=\"mr-3 header-link\" href=\"#contact\">\r\n              Contact\r\n            </Nav.Link>\r\n          </Nav>\r\n\r\n          <Dropdown as={ButtonGroup}>\r\n            <Dropdown.Toggle\r\n              id=\"currency\"\r\n              variant=\"default\"\r\n              className=\"text-light p-0 header-link\"\r\n            >\r\n              {props.currency}\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu className=\"currency-btn\">\r\n              <Dropdown.Item\r\n                onClick={(evt) =>\r\n                  props.handleCurrencyToggle(evt.target.textContent)\r\n                }\r\n              >\r\n                NGN\r\n              </Dropdown.Item>\r\n              <Dropdown.Item\r\n                onClick={(evt) =>\r\n                  props.handleCurrencyToggle(evt.target.textContent)\r\n                }\r\n              >\r\n                USD\r\n              </Dropdown.Item>\r\n              <Dropdown.Item\r\n                onClick={(evt) =>\r\n                  props.handleCurrencyToggle(evt.target.textContent)\r\n                }\r\n              >\r\n                GBP\r\n              </Dropdown.Item>\r\n              <Dropdown.Item\r\n                onClick={(evt) =>\r\n                  props.handleCurrencyToggle(evt.target.textContent)\r\n                }\r\n              >\r\n                EUR\r\n              </Dropdown.Item>\r\n              <Dropdown.Item\r\n                onClick={(evt) =>\r\n                  props.handleCurrencyToggle(evt.target.textContent)\r\n                }\r\n              >\r\n                CAD\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import gql from \"graphql-tag\";\r\n\r\nconst getPlacesQuery = gql`\r\n  query($keyword: String!) {\r\n    places(keyword: $keyword) {\r\n      subType\r\n      name\r\n      id\r\n      iataCode\r\n      address {\r\n        cityName\r\n        countryName\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport default getPlacesQuery;\r\n","import gql from \"graphql-tag\";\r\n\r\nconst getFlightDetails = gql`\r\n  query(\r\n    $originLocationCode: String\r\n    $destinationLocationCode: String\r\n    $departureDate: String\r\n    $returnDate: String\r\n    $adults: Int\r\n    $children: Int\r\n    $infants: Int\r\n    $travelClass: String\r\n    $includeAirlineCodes: String\r\n    $excludeAirlineCodes: String\r\n    $nonStop: String\r\n    $currencyCode: String\r\n    $max: Int\r\n  ) {\r\n    flightDetails(\r\n      originLocationCode: $originLocationCode\r\n      destinationLocationCode: $destinationLocationCode\r\n      departureDate: $departureDate\r\n      returnDate: $returnDate\r\n      adults: $adults\r\n      children: $children\r\n      infants: $infants\r\n      travelClass: $travelClass\r\n      includeAirlineCodes: $includeAirlineCodes\r\n      excludeAirlineCodes: $excludeAirlineCodes\r\n      nonStop: $nonStop\r\n      currencyCode: $currencyCode\r\n      max: $max\r\n    ) {\r\n      data {\r\n        type\r\n        id\r\n        source\r\n        instantTicketingRequired\r\n        nonHomogeneous\r\n        oneWay\r\n        lastTicketingDate\r\n        numberOfBookableSeats\r\n        itineraries {\r\n          duration\r\n          segments {\r\n            departure {\r\n              iataCode\r\n              at\r\n            }\r\n            arrival {\r\n              iataCode\r\n              terminal\r\n              at\r\n            }\r\n            carrierCode\r\n            number\r\n            aircraft {\r\n              code\r\n            }\r\n            operating {\r\n              carrierCode\r\n            }\r\n            id\r\n            numberOfStops\r\n            blacklistedInEU\r\n          }\r\n        }\r\n        price {\r\n          currency\r\n          grandTotal\r\n          total\r\n          base\r\n          fees {\r\n            amount\r\n            type\r\n          }\r\n        }\r\n        pricingOptions {\r\n          fareType\r\n          includedCheckedBagsOnly\r\n        }\r\n        validatingAirlineCodes\r\n        travelerPricings {\r\n          travelerId\r\n          fareOption\r\n          travelerType\r\n          associatedAdultId\r\n          price {\r\n            currency\r\n            total\r\n            base\r\n          }\r\n          fareDetailsBySegment {\r\n            segmentId\r\n            cabin\r\n            fareBasis\r\n            class\r\n            includedCheckedBags {\r\n              quantity\r\n            }\r\n          }\r\n        }\r\n      }\r\n      dictionaries {\r\n        carriers\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default getFlightDetails;\r\n","import gql from \"graphql-tag\";\r\n\r\nconst checkOfferQuery = gql`\r\n  query($input: OfferInput) {\r\n    checkOffer(input: $input) {\r\n      warnings {\r\n        code\r\n        title\r\n        detail\r\n        status\r\n      }\r\n      data {\r\n        flightOffers {\r\n          id\r\n          instantTicketingRequired\r\n          lastTicketingDate\r\n          itineraries {\r\n            segments {\r\n              departure {\r\n                iataCode\r\n                at\r\n              }\r\n              arrival {\r\n                iataCode\r\n                at\r\n              }\r\n              id\r\n              numberOfStops\r\n              carrierCode\r\n              duration\r\n            }\r\n          }\r\n          price {\r\n            currency\r\n            total\r\n            base\r\n            fees {\r\n              amount\r\n              type\r\n            }\r\n            grandTotal\r\n            billingCurrency\r\n          }\r\n          travelerPricings {\r\n            travelerId\r\n            fareOption\r\n            travelerType\r\n            price {\r\n              currency\r\n              total\r\n              base\r\n              taxes {\r\n                amount\r\n              }\r\n              refundableTaxes\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default checkOfferQuery;\r\n","import gql from \"graphql-tag\";\r\n\r\nconst getInspirationPlaces = gql`\r\n  query($origin: String, $departureDate: String, $viewBy: String) {\r\n    flightInspiration(\r\n      origin: $origin\r\n      departureDate: $departureDate\r\n      viewBy: $viewBy\r\n    ) {\r\n      meta {\r\n        currency\r\n        defaults {\r\n          departureDate\r\n          viewBy\r\n        }\r\n      }\r\n      data {\r\n        type\r\n        origin\r\n        destination\r\n        departureDate\r\n        returnDate\r\n        price {\r\n          total\r\n        }\r\n        links {\r\n          flightDates\r\n          flightOffers\r\n        }\r\n      }\r\n      dictionaries {\r\n        currencies\r\n        locations {\r\n          id\r\n          details {\r\n            subType\r\n            detailedName\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default getInspirationPlaces;\r\n","import gql from \"graphql-tag\";\r\n\r\nconst getTravelers = gql`\r\n  query {\r\n    allTravelers {\r\n      id\r\n      firstName\r\n      middleName\r\n      lastName\r\n      dateOfBirth\r\n      title\r\n      email\r\n      phoneNum\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\n\r\nconst addTraveler = gql`\r\n  mutation addTraveler($input: TravelerInfo!) {\r\n    addTraveler(input: $input) {\r\n      id\r\n      firstName\r\n      middleName\r\n      lastName\r\n      dateOfBirth\r\n      title\r\n      email\r\n      phoneNum\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport { getTravelers, addTraveler };\r\n","import gql from \"graphql-tag\";\r\n\r\nconst getVisaRequests = gql`\r\n  query {\r\n    allVisaRequest {\r\n      id\r\n      firstName\r\n      middleName\r\n      lastName\r\n      title\r\n      gender\r\n      dateOfBirth\r\n      status\r\n      phone\r\n      nationality\r\n      employmentStatus\r\n      address\r\n      departureDate\r\n      returnDate\r\n      travelHistory\r\n      destination\r\n      # selectedFile\r\n      passportExpiryDate\r\n      passportNum\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\n\r\nconst addVisaRequest = gql`\r\n  mutation addVisaRequest($input: VisaRequestInfo!) {\r\n    addVisaRequest(input: $input) {\r\n      id\r\n      firstName\r\n      middleName\r\n      lastName\r\n      title\r\n      gender\r\n      dateOfBirth\r\n      status\r\n      phoneNum\r\n      email\r\n      nationality\r\n      employmentStatus\r\n      address\r\n      departureDate\r\n      returnDate\r\n      travelHistory\r\n      destination\r\n      passportExpiryDate\r\n      passportNum\r\n      createdAt\r\n      # selectedFile\r\n    }\r\n  }\r\n`;\r\n\r\nexport { getVisaRequests, addVisaRequest };\r\n","import gql from \"graphql-tag\";\r\n\r\nconst getHotels = gql`\r\n  query(\r\n    $cityCode: String!\r\n    $checkInDate: String\r\n    $checkOutDate: String\r\n    $roomQuantity: Int\r\n    $adults: Int\r\n    $hotelName: String\r\n  ) {\r\n    hotels(\r\n      cityCode: $cityCode\r\n      checkInDate: $checkInDate\r\n      checkOutDate: $checkOutDate\r\n      roomQuantity: $roomQuantity\r\n      adults: $adults\r\n      hotelName: $hotelName\r\n    ) {\r\n      data {\r\n        type\r\n        hotel {\r\n          hotelId\r\n          name\r\n          rating\r\n          hotelDistance {\r\n            distance\r\n            distanceUnit\r\n          }\r\n          address {\r\n            lines\r\n            cityName\r\n          }\r\n          contact {\r\n            phone\r\n            fax\r\n            email\r\n          }\r\n          description {\r\n            lang\r\n            text\r\n          }\r\n          amenities\r\n          media {\r\n            uri\r\n            category\r\n          }\r\n        }\r\n        available\r\n        offers {\r\n          id\r\n          rateCode\r\n          description {\r\n            lang\r\n            text\r\n          }\r\n          boardType\r\n          room {\r\n            type\r\n            typeEstimated {\r\n              category\r\n            }\r\n            description {\r\n              lang\r\n              text\r\n            }\r\n          }\r\n          guests {\r\n            adults\r\n          }\r\n          price {\r\n            currency\r\n            total\r\n            variations {\r\n              average {\r\n                total\r\n              }\r\n            }\r\n            changes {\r\n              startDate\r\n              endDate\r\n              total\r\n            }\r\n          }\r\n          # policies{\r\n          #   guarantee{\r\n          #     creditCards\r\n          #     methods\r\n          #   }\r\n          #   paymentType\r\n          #   cancellation{\r\n          #     numberOfNights\r\n          #     deadline\r\n          #   }\r\n          # }\r\n        }\r\n        self\r\n      }\r\n      meta {\r\n        links {\r\n          next\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst getHotelOffers = gql`\r\n  query(\r\n    $hotelId: String!\r\n    $checkInDate: String\r\n    $checkOutDate: String\r\n    $roomQuantity: Int\r\n    $adults: Int\r\n  ) {\r\n    hotelOffers(\r\n      hotelId: $hotelId\r\n      checkInDate: $checkInDate\r\n      checkOutDate: $checkOutDate\r\n      roomQuantity: $roomQuantity\r\n      adults: $adults\r\n    ) {\r\n      data {\r\n        type\r\n        hotel {\r\n          hotelId\r\n          name\r\n          rating\r\n          hotelDistance {\r\n            distance\r\n            distanceUnit\r\n          }\r\n          address {\r\n            postalCode\r\n            lines\r\n            cityName\r\n          }\r\n          contact {\r\n            phone\r\n            fax\r\n            email\r\n          }\r\n          description {\r\n            lang\r\n            text\r\n          }\r\n          amenities\r\n          media {\r\n            uri\r\n            category\r\n          }\r\n        }\r\n        available\r\n        offers {\r\n          id\r\n          rateCode\r\n          description {\r\n            lang\r\n            text\r\n          }\r\n          boardType\r\n          room {\r\n            type\r\n            typeEstimated {\r\n              category\r\n            }\r\n            description {\r\n              lang\r\n              text\r\n            }\r\n          }\r\n          guests {\r\n            adults\r\n          }\r\n          price {\r\n            currency\r\n            total\r\n            variations {\r\n              average {\r\n                total\r\n              }\r\n            }\r\n            changes {\r\n              startDate\r\n              endDate\r\n              total\r\n            }\r\n          }\r\n          self\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport { getHotels, getHotelOffers };\r\n","import gql from \"graphql-tag\";\r\n\r\nconst tourAvailabilityQuery = gql`\r\n  query($name: String!, $page: Int) {\r\n    Tour(name: $name, page: $page) {\r\n      count\r\n      results {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst tourDetailsQuery = gql`\r\n  query($id: ID!) {\r\n    TourDetails(id: $id) {\r\n      id\r\n      name\r\n      slug\r\n      images {\r\n        type\r\n        image_href\r\n      }\r\n      description\r\n      details {\r\n        body\r\n        detail_type {\r\n          id\r\n          label\r\n        }\r\n      }\r\n      site_links {\r\n        type\r\n        href\r\n      }\r\n      advertised_departures {\r\n        currency\r\n        amount\r\n      }\r\n      geography {\r\n        primary_country {\r\n          id\r\n          name\r\n        }\r\n        visited_countries {\r\n          id\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst saveTourToDatabase = gql`\r\n  mutation($input: [TourInput]) {\r\n    saveTour(input: $input) {\r\n      ok\r\n    }\r\n  }\r\n`;\r\n\r\nconst getToursFromDatabase = gql`\r\n  query {\r\n    getDatabaseTours {\r\n      id\r\n      name\r\n      slug\r\n      images {\r\n        type\r\n        image_href\r\n      }\r\n      description\r\n      details {\r\n        body\r\n        detail_type {\r\n          id\r\n          label\r\n        }\r\n      }\r\n      site_links {\r\n        type\r\n        href\r\n      }\r\n      advertised_departures {\r\n        currency\r\n        amount\r\n      }\r\n      geography {\r\n        primary_country {\r\n          id\r\n          name\r\n        }\r\n        visited_countries {\r\n          id\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst removeTourMutation = gql`\r\n  mutation($id: ID!) {\r\n    removeTour(id: $id)\r\n  }\r\n`;\r\n\r\nexport {\r\n  tourAvailabilityQuery,\r\n  tourDetailsQuery,\r\n  saveTourToDatabase,\r\n  getToursFromDatabase,\r\n  removeTourMutation\r\n};\r\n","import gql from \"graphql-tag\";\r\n\r\nconst loginMutation = gql`\r\n  mutation($email: String!, $password: String!, $token: String!) {\r\n    signIn(email: $email, password: $password, token: $token) {\r\n      id\r\n      username\r\n      email\r\n    }\r\n  }\r\n`;\r\n\r\nexport { loginMutation };\r\n","import React from \"react\";\r\nimport { ApolloConsumer } from \"react-apollo\";\r\nimport { getPlacesQuery } from \"../../../../../queries\";\r\nimport { AsyncTypeahead } from \"react-bootstrap-typeahead\";\r\n\r\nclass Autocomplete extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      allowNew: false,\r\n      multiple: false,\r\n      isLoading: false,\r\n      useCache: true,\r\n      //selected: [],\r\n      options: [],\r\n    };\r\n  }\r\n\r\n  onChange = (selected) => {\r\n    let selectedOption = selected;\r\n    this.setState({ selected });\r\n    this.props.handleAsyncChange(selectedOption);\r\n  };\r\n\r\n  onKeyUp = (evt) => {\r\n    console.log(evt);\r\n    let key = evt.keyCode || evt.charCode;\r\n\r\n    if (key === 8 || key === 46) {\r\n      evt.target.select();\r\n      console.log(true);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ApolloConsumer>\r\n        {(client) => (\r\n          <AsyncTypeahead\r\n            {...this.state}\r\n            id=\"from\"\r\n            labelKey={(option) => `${option.name} (${option.iataCode})`}\r\n            isLoading={this.state.isLoading}\r\n            minLength={2}\r\n            selectHintOnEnter\r\n            bsSize=\"small\"\r\n            onChange={this.onChange}\r\n            onKeyUp={this.onKeyUp}\r\n            onSearch={async (value) => {\r\n              this.setState({ isLoading: true });\r\n              await client\r\n                .query({\r\n                  query: getPlacesQuery,\r\n                  variables: { keyword: value },\r\n                })\r\n                .then((res) => {\r\n                  console.log(res.data);\r\n                  this.setState({\r\n                    isLoading: false,\r\n                    options: res.data.places ? res.data.places : [],\r\n                  });\r\n                })\r\n                .catch((err) => {\r\n                  console.log(err);\r\n                });\r\n            }}\r\n            placeholder=\"Enter city name\"\r\n            selected={this.state.selected}\r\n            //  ref={(ref) => this._typeahead = ref}\r\n            options={this.state.options}\r\n          ></AsyncTypeahead>\r\n        )}\r\n      </ApolloConsumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Autocomplete;\r\n","import React from \"react\";\r\nimport { Form, Table, Col, Row, Button } from \"react-bootstrap\";\r\n\r\nfunction PassengersCabinPopover(props) {\r\n  let {\r\n    increment,\r\n    decrement,\r\n    handleChange,\r\n    handleChildrenChange,\r\n    cabin,\r\n    adults,\r\n    children,\r\n    c_age,\r\n    infants,\r\n    show,\r\n    numAdults,\r\n    numChildren,\r\n    age,\r\n  } = props;\r\n\r\n  // Put children ages option in an array\r\n  let childrenAge = [];\r\n  for (let i = 0; i < 18; i++) {\r\n    childrenAge.push(i);\r\n  }\r\n\r\n  // Put form groups for selecting children ages in an array\r\n  let ageForm = [];\r\n  for (let i = 0; i < age; i++) {\r\n    ageForm.push(\r\n      <Form.Group key={i} as={Col} sm=\"6\">\r\n        <Form.Control\r\n          as=\"select\"\r\n          name=\"c_age\"\r\n          id=\"c_age\"\r\n          // onChange={handleChildrenChange}\r\n          value={c_age}\r\n          size=\"sm\"\r\n        >\r\n          {childrenAge.map((age, i) => (\r\n            <option key={i}>{age}</option>\r\n          ))}\r\n        </Form.Control>\r\n      </Form.Group>\r\n    );\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      {show ? (\r\n        <Row className=\"mb-2\">\r\n          <Col>\r\n            <Form.Group controlId=\"cabin\"></Form.Group>\r\n            <Form.Label id=\"cabin\" className=\"mr-1\">\r\n              Cabin class:\r\n            </Form.Label>\r\n            <Form.Control\r\n              id=\"cabin\"\r\n              size=\"sm\"\r\n              as=\"select\"\r\n              onChange={handleChange}\r\n              value={cabin}\r\n            >\r\n              <option>--Choose a cabin class--</option>\r\n              <option>Economy</option>\r\n              <option>Premium Economy</option>\r\n              <option>Business</option>\r\n              <option>First Class</option>\r\n            </Form.Control>\r\n          </Col>\r\n        </Row>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <Row className=\"mb-2\">\r\n        <Form.Group as={Col} xs={12} sm={6}>\r\n          Adults <div>(11+ yrs)</div>\r\n        </Form.Group>\r\n        <Form.Group as={Col} xs={12} sm={6}>\r\n          <Table bordered>\r\n            <tbody>\r\n              <tr>\r\n                <td className=\"adults custom-btn\" onClick={decrement}>\r\n                  -\r\n                </td>\r\n                <td>{adults}</td>\r\n                <td\r\n                  className=\"adults custom-btn\"\r\n                  onClick={adults < numAdults ? increment : null}\r\n                >\r\n                  +\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </Table>\r\n        </Form.Group>\r\n      </Row>\r\n      <Row className=\"mb-2\">\r\n        <Form.Group as={Col} xs={12} sm={6}>\r\n          Children <div>(2-11 yrs)</div>\r\n        </Form.Group>\r\n        <Form.Group as={Col} xs={12} sm={6}>\r\n          <Table bordered>\r\n            <tbody>\r\n              <tr>\r\n                <td className=\"children custom-btn\" onClick={decrement}>\r\n                  -\r\n                </td>\r\n                <td>{children}</td>\r\n                <td\r\n                  className=\"children custom-btn\"\r\n                  onClick={children < numChildren ? increment : null}\r\n                >\r\n                  +\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </Table>\r\n        </Form.Group>\r\n      </Row>\r\n      {show ? (\r\n        <Row className=\"mb-2\">\r\n          <Form.Group as={Col} xs={12} sm={6}>\r\n            Infants <div>(below 2 yrs)</div>\r\n          </Form.Group>\r\n          <Form.Group as={Col} xs={12} sm={6}>\r\n            <Table bordered>\r\n              <tbody>\r\n                <tr>\r\n                  <td className=\"infants custom-btn\" onClick={decrement}>\r\n                    -\r\n                  </td>\r\n                  <td>{infants}</td>\r\n                  <td className=\"infants custom-btn\" onClick={increment}>\r\n                    +\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </Table>\r\n          </Form.Group>\r\n        </Row>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      <Form.Row>{ageForm}</Form.Row>\r\n      <Button onClick={() => document.body.click()}>Done</Button>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default PassengersCabinPopover;\r\n","import React from \"react\";\r\nimport {\r\n  FormControl,\r\n  Form,\r\n  Col,\r\n  Button,\r\n  ButtonToolbar,\r\n  OverlayTrigger,\r\n  Popover,\r\n} from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Autocomplete from \"./Autocomplete\";\r\nimport PassengersCabinPopover from \"./PassengersCabinPopover\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Map } from \"immutable\";\r\n\r\nclass Trip extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.userInfo = {};\r\n    this.state = {\r\n      from: new Map(),\r\n      destination: new Map(),\r\n      date: new Map([[\"firstCity\", new Date()]]),\r\n      returnDate: new Date(new Date().getTime() + 1 * 24 * 60 * 60 * 1000),\r\n      cabin: \"Economy\",\r\n      adults: 1,\r\n      infants: 0,\r\n      children: 0,\r\n      redirect: null,\r\n    };\r\n  }\r\n\r\n  handleDateChange = (name, date) => {\r\n    const item = name;\r\n    const value = date;\r\n    this.setState((prevState) => ({\r\n      date: prevState.date.set(item, value),\r\n      returnDate: date.getTime() + 1 * 24 * 60 * 60 * 1000,\r\n    }));\r\n  };\r\n\r\n  handleReturnDateChange = (returnDate) => {\r\n    this.setState({\r\n      returnDate: returnDate,\r\n    });\r\n  };\r\n\r\n  handleFromLocationChange = (name, selected) => {\r\n    const item = name;\r\n    const value = selected[0];\r\n    this.setState((prevState) => ({\r\n      from: prevState.from.set(item, value),\r\n    }));\r\n  };\r\n\r\n  handleToLocationChange = (name, selected) => {\r\n    const item = name;\r\n    const value = selected[0];\r\n    this.setState((prevState) => ({\r\n      destination: prevState.destination.set(item, value),\r\n    }));\r\n  };\r\n\r\n  increment = (evt) => {\r\n    const className = evt.target.className.split(\" \")[0];\r\n    this.setState((prevState) => ({\r\n      [className]: prevState[className] + 1,\r\n    }));\r\n  };\r\n\r\n  decrement = (evt) => {\r\n    const className = evt.target.className.split(\" \")[0];\r\n    if (className === \"adults\") {\r\n      this.setState((prevState) => ({\r\n        [className]: prevState[className] > 1 ? prevState[className] - 1 : 1,\r\n      }));\r\n    } else {\r\n      this.setState((prevState) => ({\r\n        [className]: prevState[className] ? prevState[className] - 1 : 0,\r\n      }));\r\n    }\r\n  };\r\n\r\n  handleChange = (evt) => {\r\n    this.setState({\r\n      [evt.target.id]: evt.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    // Declare variables to store the inputted traveler info\r\n    let origin = [];\r\n    let destination = [];\r\n    let departureDate = [];\r\n\r\n    // Push the key value pair of traveler details to the variables declared above\r\n    this.state.from.forEach((val, key) => origin.push([key, val]));\r\n    this.state.destination.forEach((val, key) => destination.push([key, val]));\r\n    this.state.date.forEach((val, key) => departureDate.push([key, val]));\r\n\r\n    const cabin = this.state.cabin.toUpperCase();\r\n\r\n    this.userInfo = {\r\n      travelClass:\r\n        cabin === \"Premium Economy\"\r\n          ? cabin.trim().split(\" \").join(\"_\")\r\n          : cabin === \"First Class\"\r\n          ? cabin.trim().split(\" \")[0]\r\n          : cabin,\r\n      children: this.state.children,\r\n      infants: this.state.infants,\r\n      currencyCode: this.props.currency,\r\n      // originLocationCode: this.state.from,\r\n      // destinationLocationCode: this.state.destination,\r\n      // originCity: this.state.from.address.cityName,\r\n      // destinationCity: this.state.destination.address.cityName,\r\n      departureDate: departureDate,\r\n      returnDate: this.props.singleTrip\r\n        ? undefined\r\n        : this.props.multipletrip\r\n        ? undefined\r\n        : this.state.returnDate.toISOString().split(\"T\")[0],\r\n      adults: this.state.adults,\r\n      from: origin,\r\n      to: destination,\r\n    };\r\n    console.log(this.userInfo);\r\n    this.setState({ redirect: \"/flightDetails\" });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return (\r\n        <Redirect\r\n          push\r\n          to={{\r\n            pathname: this.state.redirect,\r\n            state: {\r\n              userInfo: this.userInfo,\r\n              singleTrip: this.props.singleTrip,\r\n            },\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    let travellers =\r\n      this.state.adults + this.state.children + this.state.infants;\r\n    const popover = (\r\n      <Popover style={{ width: \"fitContent\", padding: \"1em\" }}>\r\n        <PassengersCabinPopover\r\n          handleChange={this.handleChange}\r\n          increment={this.increment}\r\n          decrement={this.decrement}\r\n          cabin={this.state.cabin}\r\n          adults={this.state.adults}\r\n          children={this.state.children}\r\n          infants={this.state.infants}\r\n          numAdults={6}\r\n          numChildren={4}\r\n          show={true}\r\n        />\r\n      </Popover>\r\n    );\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit}>\r\n        <Form.Row>\r\n          {this.props.selectedCityOptions.map((city, i) => {\r\n            return (\r\n              <React.Fragment key={i}>\r\n                <Col\r\n                  xs={12}\r\n                  sm={6}\r\n                  md={4}\r\n                  lg={this.props.multipletrip ? 4 : 2}\r\n                  className=\"mb-2\"\r\n                >\r\n                  <Form.Label className=\"mr-1\">Flying from</Form.Label>\r\n                  <Autocomplete\r\n                    handleAsyncChange={this.handleFromLocationChange.bind(\r\n                      this,\r\n                      city\r\n                    )}\r\n                  />\r\n                </Col>\r\n\r\n                <Col\r\n                  xs={12}\r\n                  sm={6}\r\n                  md={4}\r\n                  lg={this.props.multipletrip ? 4 : 2}\r\n                  className=\"mb-2\"\r\n                >\r\n                  <Form.Label className=\"mr-1\">Flying to</Form.Label>\r\n                  <Autocomplete\r\n                    handleAsyncChange={this.handleToLocationChange.bind(\r\n                      this,\r\n                      city\r\n                    )}\r\n                  />\r\n                </Col>\r\n\r\n                <Col\r\n                  xs={12}\r\n                  sm={6}\r\n                  md={4}\r\n                  lg={this.props.multipletrip ? 4 : 2}\r\n                  className=\"mb-2\"\r\n                >\r\n                  <Form.Label className=\"mr-1\">Depart</Form.Label>\r\n                  <Form.Control\r\n                    size=\"sm\"\r\n                    as=\"div\"\r\n                    style={{ border: \"none\", padding: \"0\" }}\r\n                  >\r\n                    <DatePicker\r\n                      calenderClassName=\"form-control\"\r\n                      dateFormat=\"dd/MM/yyyy\"\r\n                      selected={this.state.date.get(city)}\r\n                      value={this.state.date.get(city)}\r\n                      name={city}\r\n                      onChange={this.handleDateChange.bind(this, city)}\r\n                      minDate={new Date()}\r\n                      showDisabledMonthNavigation\r\n                    />\r\n                  </Form.Control>\r\n                </Col>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n\r\n          {this.props.multipletrip === false ? (\r\n            <Col xs={12} sm={6} md={4} lg={2} className=\"mb-2\">\r\n              <Form.Label className=\"mr-1\">Return</Form.Label>\r\n              <Form.Control\r\n                size=\"sm\"\r\n                as=\"div\"\r\n                style={{ border: \"none\", padding: \"0\" }}\r\n              >\r\n                <DatePicker\r\n                  calenderClassName=\"form-control\"\r\n                  dateFormat=\"dd/MM/yyyy\"\r\n                  selected={\r\n                    this.props.singleTrip ? null : this.state.returnDate\r\n                  }\r\n                  onChange={this.handleReturnDateChange}\r\n                  minDate={\r\n                    new Date(\r\n                      this.state.date.get(\"firstCity\").getTime() +\r\n                        1 * 24 * 60 * 60 * 1000\r\n                    )\r\n                  }\r\n                  showDisabledMonthNavigation\r\n                  placeholderText=\"(oneway)\"\r\n                  disabled={this.props.singleTrip}\r\n                />\r\n              </Form.Control>\r\n            </Col>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          <Col\r\n            xs={12}\r\n            sm={6}\r\n            md={5}\r\n            lg={this.props.multipletrip ? 4 : 2}\r\n            className=\"mb-2\"\r\n          >\r\n            <Form.Label className=\"mr-1\">Cabin & Passengers</Form.Label>\r\n            <ButtonToolbar>\r\n              <OverlayTrigger\r\n                trigger=\"click\"\r\n                rootClose\r\n                overlay={popover}\r\n                placement=\"top\"\r\n              >\r\n                <FormControl\r\n                  id=\"passengers\"\r\n                  className=\"form-control-sm\"\r\n                  value={`${travellers} ${\r\n                    (travellers === 1) & (this.state.adults === 1)\r\n                      ? \"adult\"\r\n                      : \"travellers\"\r\n                  }, ${this.state.cabin}`}\r\n                  readOnly\r\n                />\r\n              </OverlayTrigger>\r\n            </ButtonToolbar>\r\n          </Col>\r\n\r\n          <Col xs={12} sm={6} md={3} lg={this.props.multipletrip ? 4 : 2}>\r\n            <Form.Label className=\"mr-1\"></Form.Label>\r\n            <div style={{ width: \"fit-content\" }}>\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                Search flight\r\n              </Button>\r\n            </div>\r\n          </Col>\r\n        </Form.Row>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Trip;\r\n","import React from \"react\";\r\nimport {\r\n  Form,\r\n  Col,\r\n  Button,\r\n  Popover,\r\n  ButtonToolbar,\r\n  OverlayTrigger,\r\n} from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport Autocomplete from \"../home/homeSubs/booking/booking_subComponents/Autocomplete\";\r\nimport PassengersCabinPopover from \"../home/homeSubs/booking/booking_subComponents/PassengersCabinPopover\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass HotelForm extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      from: {},\r\n      checkIn: new Date(),\r\n      checkOut: new Date(new Date().getTime() + 1 * 24 * 60 * 60 * 1000),\r\n      adults: 1,\r\n      children: 0,\r\n      childrenAges: [],\r\n      c_age: 0,\r\n      rooms: 1,\r\n      age: 0,\r\n      redirect: null,\r\n    };\r\n  }\r\n\r\n  handleDateChange = (name, date) => {\r\n    console.log(date);\r\n    this.setState({\r\n      [name]: date,\r\n    });\r\n\r\n    // Make the checkout date a day more than the checkin date\r\n    if (name === \"checkIn\") {\r\n      this.setState({\r\n        checkOut: date.getTime() + 1 * 24 * 60 * 60 * 1000,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleDestinationChange = (selected) => {\r\n    this.setState({\r\n      from: selected[0],\r\n    });\r\n  };\r\n\r\n  increment = (evt) => {\r\n    const className = evt.target.className.split(\" \")[0];\r\n    this.setState((prevState) => {\r\n      if (className === \"adults\") {\r\n        return {\r\n          [className]: prevState[className] + 1,\r\n        };\r\n      } else {\r\n        return {\r\n          [className]: prevState[className] + 1,\r\n          age: prevState.age + 1,\r\n        };\r\n      }\r\n    });\r\n  };\r\n\r\n  decrement = (evt) => {\r\n    const className = evt.target.className.split(\" \")[0];\r\n    if (className === \"adults\") {\r\n      this.setState((prevState) => ({\r\n        [className]: prevState[className] > 1 ? prevState[className] - 1 : 1,\r\n      }));\r\n    } else {\r\n      this.setState((prevState) => ({\r\n        [className]: prevState[className] ? prevState[className] - 1 : 0,\r\n        age: prevState.age - 1,\r\n        childrenAges: prevState.childrenAges.filter(\r\n          (age, i) => i !== prevState.childrenAges.length - 1\r\n        ),\r\n      }));\r\n    }\r\n  };\r\n\r\n  handleChange = (evt) => {\r\n    this.setState({\r\n      [evt.target.id]: evt.target.value,\r\n    });\r\n  };\r\n\r\n  handleChildrenChange = (evt) => {\r\n    this.setState((prevState) => {\r\n      return {\r\n        [evt.target.id]: evt.target.value,\r\n        childrenAges: prevState.childrenAges.concat(evt.target.value),\r\n      };\r\n    });\r\n  };\r\n\r\n  handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    console.log(this.state);\r\n    this.setState({\r\n      redirect: \"/hotels\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return (\r\n        <Redirect\r\n          push\r\n          to={{\r\n            pathname: this.state.redirect,\r\n            state: { searchParams: this.state },\r\n          }}\r\n        />\r\n      );\r\n    }\r\n    const popover = (\r\n      <Popover style={{ width: \"fitContent\", padding: \"1.5em\" }}>\r\n        <PassengersCabinPopover\r\n          increment={this.increment}\r\n          decrement={this.decrement}\r\n          adults={this.state.adults}\r\n          children={this.state.children}\r\n          infants={this.state.infants}\r\n          handleChildrenChange={this.handleChildrenChange}\r\n          childrenAges={this.state.childrenAges}\r\n          c_age={this.state.c_age}\r\n          numAdults={9}\r\n          numChildren={4}\r\n          age={this.state.age}\r\n          show={false}\r\n        />\r\n      </Popover>\r\n    );\r\n\r\n    // console.log(this.state.childrenAges);\r\n\r\n    let travellers = this.state.adults + this.state.children;\r\n    return (\r\n      <Form onSubmit={this.handleSubmit}>\r\n        <Form.Row>\r\n          <Form.Group\r\n            controlId=\"destination\"\r\n            as={Col}\r\n            sm=\"6\"\r\n            md=\"4\"\r\n            lg=\"2\"\r\n            className=\"mb-2\"\r\n          >\r\n            <Form.Label className=\"mr-1\">City or Destination</Form.Label>\r\n            <Autocomplete handleAsyncChange={this.handleDestinationChange} />\r\n          </Form.Group>\r\n\r\n          <Form.Group\r\n            controlId=\"checkIn\"\r\n            as={Col}\r\n            sm=\"6\"\r\n            md=\"4\"\r\n            lg=\"2\"\r\n            className=\"mb-2\"\r\n          >\r\n            <Form.Label className=\"mr-1\">Check in</Form.Label>\r\n            <Form.Control\r\n              size=\"sm\"\r\n              as=\"div\"\r\n              style={{ border: \"none\", padding: \"0\" }}\r\n            >\r\n              <DatePicker\r\n                calenderClassName=\"form-control\"\r\n                selected={this.state.checkIn}\r\n                dateFormat=\"dd/MM/yyyy\"\r\n                minDate={new Date()}\r\n                showDisabledMonthNavigation\r\n                name=\"checkIn\"\r\n                value={this.state.checkIn}\r\n                id=\"checkInDate\"\r\n                onChange={this.handleDateChange.bind(this, \"checkIn\")}\r\n              />\r\n            </Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group\r\n            controlId=\"checkOut\"\r\n            as={Col}\r\n            sm=\"6\"\r\n            md=\"4\"\r\n            lg=\"2\"\r\n            className=\"mb-2\"\r\n          >\r\n            <Form.Label className=\"mr-1\">Check out</Form.Label>\r\n            <Form.Control\r\n              size=\"sm\"\r\n              as=\"div\"\r\n              style={{ border: \"none\", padding: \"0\" }}\r\n            >\r\n              <DatePicker\r\n                calenderClassName=\"form-control\"\r\n                dateFormat=\"dd/MM/yyyy\"\r\n                selected={this.state.checkOut}\r\n                // minDate={new Date()}\r\n                minDate={\r\n                  new Date(\r\n                    this.state.checkIn.getTime() + 1 * 24 * 60 * 60 * 1000\r\n                  )\r\n                }\r\n                showDisabledMonthNavigation\r\n                name=\"checkOut\"\r\n                value={this.state.checkOut}\r\n                id=\"checkOutDate\"\r\n                onChange={this.handleDateChange.bind(this, \"checkOut\")}\r\n              />\r\n            </Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group\r\n            controlId=\"number-of-rooms\"\r\n            as={Col}\r\n            sm=\"6\"\r\n            md=\"4\"\r\n            lg=\"2\"\r\n            className=\"mb-2\"\r\n          >\r\n            <Form.Label className=\"mr-1\">Number of Rooms</Form.Label>\r\n            <Form.Control\r\n              size=\"sm\"\r\n              name=\"rooms\"\r\n              value={this.state.rooms}\r\n              onChange={this.handleChange}\r\n              as=\"select\"\r\n            >\r\n              <option>1</option>\r\n              <option>2</option>\r\n              <option>3</option>\r\n              <option>4</option>\r\n              <option>5</option>\r\n              <option>6</option>\r\n              <option>7</option>\r\n              <option>8</option>\r\n              <option>9</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group\r\n            controlId=\"guests\"\r\n            as={Col}\r\n            sm=\"6\"\r\n            md=\"4\"\r\n            lg=\"2\"\r\n            className=\"mb-2\"\r\n          >\r\n            <Form.Label className=\"mr-1\">Guests</Form.Label>\r\n            <ButtonToolbar>\r\n              <OverlayTrigger\r\n                trigger=\"click\"\r\n                rootClose\r\n                overlay={popover}\r\n                placement=\"top\"\r\n              >\r\n                <Form.Control\r\n                  className=\"form-control-sm\"\r\n                  value={travellers}\r\n                  readOnly\r\n                />\r\n              </OverlayTrigger>\r\n            </ButtonToolbar>\r\n          </Form.Group>\r\n\r\n          <Form.Group\r\n            controlId=\"search\"\r\n            as={Col}\r\n            sm=\"6\"\r\n            md=\"4\"\r\n            lg=\"2\"\r\n            className=\"mb-2\"\r\n          >\r\n            <Form.Label className=\"mr-1\"></Form.Label>\r\n            <div style={{ width: \"fit-content\" }}>\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                Search\r\n              </Button>\r\n            </div>\r\n          </Form.Group>\r\n        </Form.Row>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HotelForm;\r\n","import React from \"react\";\r\nimport Trip from \"./booking_subComponents/Trip\";\r\nimport { Tabs, Tab, Card, FormCheck } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ReactResizeDetector from \"react-resize-detector\";\r\nimport HotelForm from \"../../../hotel/HotelForm\";\r\n\r\nclass Booking extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      singleTrip: false,\r\n      roundtrip: true,\r\n      multipletrip: false,\r\n      tripCount: 1,\r\n      activeTab: \"Flights\",\r\n      redirect: null,\r\n    };\r\n    this.heightChange = false;\r\n  }\r\n\r\n  calculateHeight = (element) => {\r\n    if (element) {\r\n      this.cardRef = element;\r\n      const height = element.getBoundingClientRect().height;\r\n      this.props.changeImageHeight(height);\r\n    }\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (this.heightChange) {\r\n      const height = this.cardRef.getBoundingClientRect().height;\r\n      this.props.changeImageHeight(height);\r\n      this.heightChange = false;\r\n    }\r\n  }\r\n\r\n  handleAddTrip = () => {\r\n    this.heightChange = true;\r\n    this.setState((prevState) => {\r\n      // this.selectedCityOptions.push(this.cityArray[prevState.tripCount]);\r\n      return { tripCount: prevState.tripCount + 1 };\r\n    });\r\n  };\r\n\r\n  handleRemoveTrip = () => {\r\n    this.heightChange = true;\r\n    this.setState((prevState) => {\r\n      //this.selectedCityOptions.pop();\r\n      return { tripCount: Math.max(prevState.tripCount - 1, 1) };\r\n    });\r\n  };\r\n\r\n  handleSingleTripChange = () => {\r\n    this.heightChange = true;\r\n    this.setState((prevState) => ({\r\n      singleTrip: !prevState.one,\r\n      tripCount: 1,\r\n      roundtrip: false,\r\n      multipletrip: false,\r\n    }));\r\n  };\r\n\r\n  handleRoundTripChange = () => {\r\n    this.heightChange = true;\r\n    this.setState((prevState) => ({\r\n      roundtrip: !prevState.roundtrip,\r\n      tripCount: 1,\r\n      singleTrip: false,\r\n      multipletrip: false,\r\n    }));\r\n  };\r\n\r\n  handleMultipleTripChange = () => {\r\n    this.heightChange = true;\r\n    //this.selectedCityOptions.push(this.cityArray[1]);\r\n    this.setState((prevState) => ({\r\n      multipletrip: !prevState.multipletrip,\r\n      tripCount: 2,\r\n      roundtrip: false,\r\n      singleTrip: false,\r\n    }));\r\n  };\r\n\r\n  handleDubaiVisa = (key) => {\r\n    this.heightChange = true;\r\n    this.setState({ activeTab: key });\r\n    if (key === \"UAE\") {\r\n      this.setState({\r\n        redirect: \"/visaApplicationForm\",\r\n      });\r\n    }\r\n  };\r\n\r\n  onResize = (width, height) => {\r\n    this.props.changeImageHeight(height);\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={this.state.redirect} />;\r\n    }\r\n\r\n    let cityArray = [\r\n      \"firstCity\",\r\n      \"secondCity\",\r\n      \"thirdCity\",\r\n      \"fourthCity\",\r\n      \"fifthCity\",\r\n      \"sixthCity\",\r\n    ];\r\n    let selectedCityOptions = [];\r\n\r\n    for (let i = 0; i < this.state.tripCount; i++) {\r\n      selectedCityOptions.push(cityArray[i]);\r\n    }\r\n\r\n    return (\r\n      <Card\r\n        style={{\r\n          background: \"none\",\r\n          border: \"none\",\r\n          position: \"absolute\",\r\n        }}\r\n        ref={this.calculateHeight}\r\n        // ref={cardElement => {\r\n        //   this.cardElement = cardElement;\r\n        // }}\r\n      >\r\n        <Card.Body>\r\n          <Tabs\r\n            className=\"booking-tabs\"\r\n            variant=\"tabs\"\r\n            activeKey={this.state.activeTab}\r\n            onSelect={this.handleDubaiVisa}\r\n          >\r\n            <Tab\r\n              title={\r\n                <span>\r\n                  <FontAwesomeIcon\r\n                    icon={[\"fas\", \"plane-departure\"]}\r\n                    className=\"mr-2\"\r\n                    size=\"lg\"\r\n                  />\r\n                  Flights\r\n                </span>\r\n              }\r\n              eventKey=\"Flights\"\r\n            >\r\n              <div\r\n                style={{\r\n                  padding: \"1em\",\r\n                  color: \"white\",\r\n                  backgroundColor: \"rgba(0,0,0,0.7)\",\r\n                }}\r\n              >\r\n                <FormCheck\r\n                  inline\r\n                  label=\"One Way\"\r\n                  type=\"radio\"\r\n                  name=\"trip\"\r\n                  id=\"one\"\r\n                  checked={this.state.singleTrip}\r\n                  onChange={this.handleSingleTripChange}\r\n                />\r\n                <FormCheck\r\n                  inline\r\n                  label=\"Round trip\"\r\n                  type=\"radio\"\r\n                  name=\"trip\"\r\n                  id=\"roundtrip\"\r\n                  checked={this.state.roundtrip}\r\n                  onChange={this.handleRoundTripChange}\r\n                />\r\n                <FormCheck\r\n                  inline\r\n                  label=\"Multiple Destination\"\r\n                  type=\"radio\"\r\n                  name=\"trip\"\r\n                  id=\"multipletrip\"\r\n                  checked={this.state.multipletrip}\r\n                  onChange={this.handleMultipleTripChange}\r\n                />\r\n                <br />\r\n                {this.state.multipletrip ? (\r\n                  <div style={{ width: \"fit-content\", marginLeft: \"auto\" }}>\r\n                    {this.state.tripCount < 6 ? (\r\n                      <span className=\"mr-4\" onClick={this.handleAddTrip}>\r\n                        <FontAwesomeIcon\r\n                          icon={[\"fas\", \"plus\"]}\r\n                          className=\"mr-2\"\r\n                          style={{ color: \"white\" }}\r\n                          size=\"lg\"\r\n                        />\r\n                        Add Trip\r\n                      </span>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    {this.state.tripCount > 2 ? (\r\n                      <span onClick={this.handleRemoveTrip}>\r\n                        <FontAwesomeIcon\r\n                          icon={[\"fas\", \"minus\"]}\r\n                          className=\"mr-2\"\r\n                          style={{ color: \"white\" }}\r\n                          size=\"lg\"\r\n                        />\r\n                        Remove\r\n                      </span>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                <br />\r\n\r\n                {/* {trips} */}\r\n                <Trip\r\n                  currency={this.props.currency}\r\n                  selectedCityOptions={selectedCityOptions}\r\n                  singleTrip={this.state.singleTrip}\r\n                  multipletrip={this.state.multipletrip}\r\n                />\r\n              </div>\r\n            </Tab>\r\n\r\n            <Tab\r\n              title={\r\n                <div>\r\n                  <span>\r\n                    <FontAwesomeIcon\r\n                      icon={[\"fas\", \"bed\"]}\r\n                      className=\"mr-2\"\r\n                      size=\"lg\"\r\n                    />\r\n                    Hotels\r\n                  </span>\r\n                </div>\r\n              }\r\n              eventKey=\"Hotel\"\r\n            >\r\n              <div\r\n                style={{\r\n                  padding: \"1em\",\r\n                  color: \"white\",\r\n                  backgroundColor: \"rgba(0,0,0,0.7)\",\r\n                }}\r\n              >\r\n                <HotelForm />\r\n              </div>\r\n            </Tab>\r\n\r\n            <Tab\r\n              title={\r\n                <span>\r\n                  <FontAwesomeIcon\r\n                    icon={[\"fas\", \"car\"]}\r\n                    className=\"mr-2\"\r\n                    size=\"lg\"\r\n                  />\r\n                  UAE Visa\r\n                </span>\r\n              }\r\n              eventKey=\"UAE\"\r\n            ></Tab>\r\n          </Tabs>\r\n          {/* <Nav.Item className=\"d-none d-lg-block\">\r\n                <Nav.Link href=\"#disabled\" disabled>\r\n                  <FontAwesomeIcon\r\n                    icon={[\"fas\", \"book-open\"]}\r\n                    className=\"mr-2\"\r\n    ;                //   style={{ color: \"blue\" }}\r\n                    size=\"lg\"\r\n                  />\r\n                  Check my trip\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            </Nav> */}\r\n        </Card.Body>\r\n        <ReactResizeDetector\r\n          handleWidth\r\n          handleHeight\r\n          onResize={this.onResize}\r\n        />\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Booking;\r\n","import React from \"react\";\r\nimport { Image } from \"react-bootstrap\";\r\nimport bahrain from \"../../../images/bahrain.jpg\";\r\nimport Booking from \"../homeSubs/booking/Booking\";\r\n\r\nclass MainImage extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      height: \"500px\",\r\n    };\r\n  }\r\n\r\n  changeImageHeight = (height) => {\r\n    this.setState({\r\n      height: height < 500 ? \"500px\" : `${height}px`,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"d-flex flex-column justify-content-center position-relative align-items-center p-0 clearfix\"\r\n        style={{ height: this.state.height }}\r\n      >\r\n        <Image\r\n          style={{ height: \"inherit\", maxWidth: \"100%\" }}\r\n          src={bahrain}\r\n          alt=\"Dubai water park\"\r\n          className=\"d-block w-100\"\r\n        />\r\n        <Booking\r\n          currency={this.props.currency}\r\n          changeImageHeight={(height) => this.changeImageHeight(height)}\r\n        />\r\n      </div>\r\n      // <Carousel interval={7000}>\r\n      //   <Carousel.Item>\r\n      //     <img\r\n      //       className=\"d-block w-100\"\r\n      //       style={{ maxHeight: \"430px\" }}\r\n      //       src={waterpark}\r\n      //       alt=\"Dubai water park\"\r\n      //     />\r\n      //     <Carousel.Caption>\r\n      //       <h3>First slide label</h3>\r\n      //       <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n      //     </Carousel.Caption>\r\n      //   </Carousel.Item>\r\n\r\n      //   <Carousel.Item>\r\n      //     <img\r\n      //       className=\"d-block w-100\"\r\n      //       style={{ maxHeight: \"430px\" }}\r\n      //       src={kuvajt}\r\n      //       alt=\"Dubai water park\"\r\n      //     />\r\n      //     <Carousel.Caption>\r\n      //       <h3>First slide label</h3>\r\n      //       <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n      //     </Carousel.Caption>\r\n      //   </Carousel.Item>\r\n\r\n      //   <Carousel.Item>\r\n      //     <img\r\n      //       className=\"d-block w-100\"\r\n      //       style={{ maxHeight: \"430px\" }}\r\n      //       src={beirutLebanon}\r\n      //       alt=\"Dubai water park\"\r\n      //     />\r\n      //     <Carousel.Caption>\r\n      //       <h3>First slide label</h3>\r\n      //       <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n      //     </Carousel.Caption>\r\n      //   </Carousel.Item>\r\n\r\n      //   <Carousel.Item>\r\n      //     <img\r\n      //       className=\"d-block w-100\"\r\n      //       style={{ maxHeight: \"430px\" }}\r\n      //       src={dohaQatar}\r\n      //       alt=\"Dubai water park\"\r\n      //     />\r\n      //     <Carousel.Caption>\r\n      //       <h3>First slide label</h3>\r\n      //       <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n      //     </Carousel.Caption>\r\n      //   </Carousel.Item>\r\n\r\n      //   <Carousel.Item>\r\n      //     <img\r\n      //       className=\"d-block w-100\"\r\n      //       style={{ maxHeight: \"430px\" }}\r\n      //       src={bahrain}\r\n      //       alt=\"Dubai water park\"\r\n      //     />\r\n      //     <Carousel.Caption>\r\n      //       <h3>First slide label</h3>\r\n      //       <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n      //     </Carousel.Caption>\r\n      //   </Carousel.Item>\r\n\r\n      //   <Carousel.Item>\r\n      //     <img\r\n      //       className=\"d-block w-100\"\r\n      //       style={{ maxHeight: \"430px\" }}\r\n      //       src={ritadhSaudi}\r\n      //       alt=\"Dubai water park\"\r\n      //     />\r\n      //     <Carousel.Caption>\r\n      //       <h3>First slide label</h3>\r\n      //       <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n      //     </Carousel.Caption>\r\n      //   </Carousel.Item>\r\n\r\n      //   <Carousel.Item>\r\n      //     <img\r\n      //       className=\"d-block w-100\"\r\n      //       style={{ maxHeight: \"430px\" }}\r\n      //       src={iran}\r\n      //       alt=\"Dubai water park\"\r\n      //     />\r\n      //     <Carousel.Caption>\r\n      //       <h3>First slide label</h3>\r\n      //       <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n      //     </Carousel.Caption>\r\n      //   </Carousel.Item>\r\n\r\n      //   <Carousel.Item>\r\n      //     <img\r\n      //       className=\"d-block w-100\"\r\n      //       style={{ maxHeight: \"430px\" }}\r\n      //       src={oman}\r\n      //       alt=\"Dubai water park\"\r\n      //     />\r\n      //     <Carousel.Caption>\r\n      //       <h3>First slide label</h3>\r\n      //       <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n      //     </Carousel.Caption>\r\n      //   </Carousel.Item>\r\n      // </Carousel>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainImage;\r\n","import React from \"react\";\r\nimport { Col, Row, Card, Button, CardDeck } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nclass TopFlightDeals extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      redirect: null,\r\n    };\r\n    this.userInfo = {};\r\n  }\r\n\r\n  handleBook = () => {\r\n    this.setState({ redirect: \"/flightDetails\" });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return (\r\n        <Redirect\r\n          push\r\n          to={{\r\n            pathname: this.state.redirect,\r\n            state: { userInfo: this.userInfo },\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    let {\r\n      data,\r\n      meta,\r\n      dictionaries,\r\n      showNextPage,\r\n      showPreviousPage,\r\n      pageNumbers,\r\n      currentPage,\r\n    } = this.props;\r\n    console.log(pageNumbers, currentPage);\r\n    return (\r\n      <Row>\r\n        {currentPage == 1 ? (\r\n          <Col sm={1}></Col>\r\n        ) : (\r\n          <Col sm={12} md={12} lg={1} className=\"align-self-center\">\r\n            <div onClick={showPreviousPage}>\r\n              <FontAwesomeIcon\r\n                icon={[\"fas\", \"chevron-circle-left\"]}\r\n                style={{\r\n                  color: \"purple\",\r\n                  fontSize: \"4em\",\r\n                }}\r\n              />\r\n            </div>\r\n          </Col>\r\n        )}\r\n        <Col\r\n          sm={\r\n            currentPage != 1 || currentPage < Math.max(...pageNumbers) ? 10 : 11\r\n          }\r\n          className=\"flight_deals\"\r\n          style={{ marginLeft: \"auto\", marginRight: \"auto\" }}\r\n        >\r\n          <CardDeck>\r\n            {data.map((flight) => {\r\n              let originLocation = dictionaries.locations.filter(\r\n                (location) => flight.origin === location.id\r\n              );\r\n              let destinationLocation = dictionaries.locations.filter(\r\n                (location) => flight.destination === location.id\r\n              );\r\n              let departureDate = new Date(flight.departureDate)\r\n                .toString()\r\n                .split(\" \");\r\n              let returnDate = new Date(flight.returnDate)\r\n                .toString()\r\n                .split(\" \");\r\n              //let from = [\"firstCity\", {iataCode: }]\r\n\r\n              // Collect the query variables from the link provided in the data and save them in an object\r\n              let flightUrl = flight.links.flightOffers;\r\n              let variables = flightUrl\r\n                .split(\"?\")[1]\r\n                .split(\"&\")\r\n                .map((v) => v.split(\"=\"));\r\n              variables.map((v) => {\r\n                this.userInfo[v[0]] = v[1];\r\n              });\r\n              this.userInfo.departureDate = [\r\n                [\"firstCity\", new Date(this.userInfo.departureDate)],\r\n              ];\r\n              this.userInfo.from = [\r\n                [\r\n                  \"firstCity\",\r\n                  {\r\n                    iataCode: this.userInfo.originLocationCode,\r\n                    address: {\r\n                      cityName: originLocation[0].details.detailedName,\r\n                    },\r\n                  },\r\n                ],\r\n              ];\r\n              this.userInfo.to = [\r\n                [\r\n                  \"firstCity\",\r\n                  {\r\n                    iataCode: this.userInfo.destinationLocationCode,\r\n                    address: {\r\n                      cityName: originLocation[0].details.detailedName,\r\n                    },\r\n                  },\r\n                ],\r\n              ];\r\n              this.userInfo.travelClass = \"ECONOMY\";\r\n              this.userInfo.originCity = originLocation[0].details.detailedName;\r\n              this.userInfo.destinationCity =\r\n                destinationLocation[0].details.detailedName;\r\n              console.log(this.userInfo);\r\n\r\n              return (\r\n                // <Col md={4} lg={3} key={flight.destination} className=\"mb-3\">\r\n                <Card key={flight.destination} className=\"mb-4\">\r\n                  <Card.Header\r\n                    style={{ backgroundColor: \"#f68220\", color: \"white\" }}\r\n                  >\r\n                    {originLocation[0].details.detailedName} to{\" \"}\r\n                    {destinationLocation[0].details.detailedName}\r\n                  </Card.Header>\r\n                  <Card.Body className=\"p-3\">\r\n                    <Card.Text>\r\n                      <span className=\"d-block\">\r\n                        From {flight.price.total} {meta.currency}\r\n                      </span>\r\n                      Available from\r\n                      <span className=\"d-block\">\r\n                        {`${departureDate[0]}, ${departureDate[2]} ${departureDate[1]}. ${departureDate[3]} - \r\n                  ${returnDate[0]}, ${returnDate[2]} ${returnDate[1]}. ${returnDate[3]}`}\r\n                      </span>\r\n                    </Card.Text>\r\n                    <Button variant=\"primary\" onClick={this.handleBook}>\r\n                      Book Now\r\n                    </Button>\r\n                  </Card.Body>\r\n                </Card>\r\n                // </Col>\r\n              );\r\n            })}\r\n          </CardDeck>\r\n        </Col>\r\n        {currentPage < Math.max(...pageNumbers) ? (\r\n          <Col sm={12} md={12} lg={1} className=\"align-self-center\">\r\n            <span onClick={showNextPage}>\r\n              <FontAwesomeIcon\r\n                icon={[\"fas\", \"chevron-circle-right\"]}\r\n                style={{\r\n                  color: \"purple\",\r\n                  fontSize: \"4em\",\r\n                }}\r\n              />\r\n            </span>\r\n          </Col>\r\n        ) : (\r\n          <Col sm={1}>\"\"</Col>\r\n        )}\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TopFlightDeals;\r\n","import React from \"react\";\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: null, errorInfo: null };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    // Catch errors in any components below and re-render with error message\r\n    this.setState({\r\n      error: error,\r\n      errorInfo: errorInfo\r\n    });\r\n    // You can also log error messages to an error reporting service here\r\n  }\r\n\r\n  render() {\r\n    if (this.state.error) {\r\n      // Error path\r\n      return (\r\n        <div>\r\n          <h2>Something went wrong.</h2>\r\n          <details style={{ whiteSpace: \"pre-wrap\" }}>\r\n            {this.state.error && this.state.error.toString()}\r\n            <br />\r\n            {this.state.errorInfo.componentStack}\r\n          </details>\r\n        </div>\r\n      );\r\n    }\r\n    // Normally, just render children\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { Row, Spinner } from \"react-bootstrap\";\r\nimport { getInspirationPlaces } from \"../../../queries\";\r\nimport TopFlightDeals from \"./TopFlightDeals\";\r\nimport ErrorBoundary from \"../../ErrorBoundary\";\r\n\r\nclass FlightDealsQuery extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      currentPage: 1,\r\n      dealsPerpage: 6,\r\n    };\r\n  }\r\n\r\n  showNextPage = () => {\r\n    this.setState((prevState) => {\r\n      console.log(this.state.currentPage);\r\n      return {\r\n        currentPage: prevState.currentPage + 1,\r\n      };\r\n    });\r\n  };\r\n\r\n  showPreviousPage = () => {\r\n    this.setState((prevState) => {\r\n      console.log(this.state.currentPage);\r\n      return {\r\n        currentPage: prevState.currentPage - 1,\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Query\r\n        query={getInspirationPlaces}\r\n        variables={{\r\n          origin: \"LON\",\r\n          //   departureDate: String\r\n          viewBy: \"COUNTRY\",\r\n        }}\r\n      >\r\n        {({ error, loading, data }) => {\r\n          if (loading)\r\n            return (\r\n              <div\r\n                className=\"flight_deal_status\"\r\n                style={{ backgroundColor: \"transparent\" }}\r\n              >\r\n                <Spinner\r\n                  animation=\"border\"\r\n                  size=\"lg\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                >\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </Spinner>\r\n              </div>\r\n            );\r\n          if (error) {\r\n            console.log(error);\r\n            return (\r\n              <div className=\"flight_deal_status\">\r\n                Sorry, we're presently unable to show top flight deals. Please\r\n                try again\r\n              </div>\r\n            );\r\n          }\r\n\r\n          console.log(data);\r\n\r\n          let { currentPage, dealsPerpage } = this.state;\r\n          const deals = data.flightInspiration\r\n            ? data.flightInspiration.data\r\n            : [];\r\n          const pageNumbers = [];\r\n\r\n          const indexOfLastDeal = currentPage * dealsPerpage;\r\n          const indexOfFirstDeal = indexOfLastDeal - dealsPerpage;\r\n          const currentDeals = deals.slice(indexOfFirstDeal, indexOfLastDeal);\r\n\r\n          for (let i = 1; i <= Math.ceil(deals.length / dealsPerpage); i++) {\r\n            pageNumbers.push(i);\r\n          }\r\n\r\n          console.log(this.state.currentPage);\r\n\r\n          // const emptyData = {};\r\n          // emptyData.flightInspiration = {};\r\n          // emptyData.flightInspiration.data = [];\r\n          const emptyData = [];\r\n          return data.flightInspiration ? (\r\n            <ErrorBoundary>\r\n              <TopFlightDeals\r\n                data={data.flightInspiration ? currentDeals : emptyData}\r\n                dictionaries={\r\n                  data.flightInspiration\r\n                    ? data.flightInspiration.dictionaries\r\n                    : {}\r\n                }\r\n                meta={data.flightInspiration ? data.flightInspiration.meta : {}}\r\n                showNextPage={this.showNextPage}\r\n                showPreviousPage={this.showPreviousPage}\r\n                pageNumbers={pageNumbers}\r\n                currentPage={this.state.currentPage}\r\n              />\r\n            </ErrorBoundary>\r\n          ) : (\r\n            <div className=\"flight_deal_status\">\r\n              Sorry, we're presently unable to show top flight deals. Please\r\n              reload the page\r\n            </div>\r\n          );\r\n        }}\r\n      </Query>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FlightDealsQuery;\r\n","import React from \"react\";\r\nimport { Card, OverlayTrigger, Tooltip, Row, Col } from \"react-bootstrap\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { removeTourMutation, getToursFromDatabase } from \"../../queries/tour\";\r\n\r\nexport default class TourTable extends React.Component {\r\n  removeTour = async (removeTour, id, data) => {\r\n    console.log(id);\r\n    try {\r\n      data = await removeTour({\r\n        variables: { id },\r\n        update: (store, { data: { removeTour } }) => {\r\n          if (!removeTour) return;\r\n\r\n          let data = store.readQuery({ query: getToursFromDatabase });\r\n          data = data.getDatabaseTours.filter(tour => tour.id != id);\r\n          let newData = {};\r\n          newData.getDatabaseTours = data;\r\n\r\n          store.writeQuery({ query: getToursFromDatabase, data: newData });\r\n        }\r\n      });\r\n      console.log(data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <Mutation mutation={removeTourMutation}>\r\n        {(removeTour, { data, loading, error }) => (\r\n          <Card\r\n            className=\"mt-2 mb-4\"\r\n            style={{\r\n              width: \"fit-content\",\r\n              display: \"block\",\r\n              marginLeft: \"auto\",\r\n              marginRight: \"auto\"\r\n            }}\r\n          >\r\n            <Card.Header>\r\n              Tours currently displayed on the home page are:\r\n            </Card.Header>\r\n            <Card.Body className=\"p-3\">\r\n              {this.props.tours.map(tour => (\r\n                <React.Fragment key={tour.id}>\r\n                  <Row>\r\n                    <Col sm={3} className=\"text-left\">\r\n                      {tour.name.split(\":\")[0]}\r\n                    </Col>\r\n                    <Col sm={6} className=\"text-left\">\r\n                      <a\r\n                        style={{ textDecoration: \"none\" }}\r\n                        href={tour.site_links[0].href}\r\n                      >\r\n                        {tour.site_links[0].href}\r\n                      </a>\r\n                    </Col>\r\n                    <Col sm={2} className=\"text-left\">\r\n                      {tour.advertised_departures.length\r\n                        ? new Intl.NumberFormat(\"en-NG\", {\r\n                            style: \"currency\",\r\n                            currency: tour.advertised_departures[0].currency\r\n                          }).format(\r\n                            Math.round(\r\n                              Number(tour.advertised_departures[0].amount)\r\n                            )\r\n                          )\r\n                        : \"No price available\"}\r\n                    </Col>\r\n                    <OverlayTrigger\r\n                      placement=\"bottom\"\r\n                      delay={{ show: 250, hide: 400 }}\r\n                      overlay={\r\n                        <Tooltip>\r\n                          Remove this country from tour destinations\r\n                        </Tooltip>\r\n                      }\r\n                    >\r\n                      <FontAwesomeIcon\r\n                        icon={[\"fas\", \"times\"]}\r\n                        size=\"lg\"\r\n                        style={{ color: \"rgb(168, 38, 38)\" }}\r\n                        onClick={() =>\r\n                          this.removeTour(removeTour, tour.id, data)\r\n                        }\r\n                      />\r\n                    </OverlayTrigger>\r\n                  </Row>\r\n                  <hr />\r\n                </React.Fragment>\r\n              ))}\r\n            </Card.Body>\r\n          </Card>\r\n        )}\r\n      </Mutation>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Card, Button, CardDeck, Container, Row, Col } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass HolidayPackages extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { tours } = this.props;\r\n    this.state = {\r\n      tours,\r\n      redirect: null,\r\n      redirectState: {},\r\n    };\r\n  }\r\n\r\n  viewTourDetails = (tour) => {\r\n    const { slug } = tour;\r\n    this.setState({\r\n      redirect: `/tourDetails/${slug}`,\r\n      redirectState: tour,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { tours, redirect, redirectState } = this.state;\r\n\r\n    if (redirect) {\r\n      return (\r\n        <Redirect\r\n          push\r\n          to={{ pathname: redirect, state: { tour: redirectState } }}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Row>\r\n        <Col\r\n          sm=\"10\"\r\n          className=\"tour\"\r\n          style={{ marginLeft: \"auto\", marginRight: \"auto\" }}\r\n        >\r\n          <CardDeck className=\"holiday\">\r\n            {tours.map((tour) => (\r\n              // const city = deal.city;\r\n              <Card key={tour.id} className=\"mb-4\">\r\n                <Card.Img\r\n                  variant=\"top\"\r\n                  src={tour.images[0].image_href}\r\n                  thumbnail=\"true\"\r\n                />\r\n                <Card.Body className=\"p-3 pb-1\">\r\n                  <Card.Title>{tour.name}</Card.Title>\r\n                  {/* <Card.Text>{deal.text}</Card.Text> */}\r\n                  <Button\r\n                    variant=\"primary\"\r\n                    style={{\r\n                      display: \"block\",\r\n                      marginLeft: \"auto\",\r\n                      marginRight: \"auto\",\r\n                    }}\r\n                    onClick={() => this.viewTourDetails(tour)}\r\n                  >\r\n                    View more\r\n                  </Button>\r\n                </Card.Body>\r\n              </Card>\r\n            ))}\r\n          </CardDeck>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HolidayPackages;\r\n","import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nimport { getToursFromDatabase } from \"../queries/tour\";\r\nimport TourTable from \"../components/admin/TourTable\";\r\nimport HolidayPackages from \"../components/home/homeSubs/tour/HolidayPackages\";\r\n\r\n// TODO: Authorization to determine the component that will be showed depending on the user role\r\nexport default class TourQuery extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      isAdmin: false\r\n    };\r\n  }\r\n  render() {\r\n    const { isAdmin } = this.state;\r\n    return (\r\n      <Query query={getToursFromDatabase}>\r\n        {({ loading, error, data }) => {\r\n          if (loading) {\r\n            return (\r\n              <div className=\"query_status\">\r\n                <Spinner\r\n                  animation=\"border\"\r\n                  size=\"lg\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                >\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </Spinner>\r\n              </div>\r\n            );\r\n          }\r\n          if (error) {\r\n            console.log(error);\r\n            return (\r\n              <div className=\"query_status\">\r\n                Sorry, we are currently unable to show available tours. Please\r\n                try again.\r\n              </div>\r\n            );\r\n          }\r\n\r\n          console.log(data);\r\n\r\n          const tours = data.getDatabaseTours;\r\n          if (!tours.length)\r\n            return (\r\n              <div className=\"query_status\">\r\n                There are currently no tours displayed on the home page.\r\n              </div>\r\n            );\r\n\r\n          if (isAdmin) return <TourTable tours={tours} />;\r\n          return <HolidayPackages tours={tours} />;\r\n        }}\r\n      </Query>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport MainImage from \"./homeSubs/MainImage\";\r\nimport FlightDealsQuery from \"./homeSubs/FlightDealsQuery\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport TourQuery from \"../TourQuery\";\r\n\r\nconst Home = (props) => {\r\n  const { currency } = props;\r\n  return (\r\n    <React.Fragment>\r\n      <MainImage currency={currency} />\r\n      <Container fluid>\r\n        {/* <Booking /> */}\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <h2 className=\"text-center\">Top flight Deals</h2>\r\n        <FlightDealsQuery />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <h2 className=\"text-center mb-3\">Top Holiday Packages</h2>\r\n        <TourQuery />\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer id=\"footer\">\r\n      <Container>\r\n        <Row>\r\n          <Col sm={6} lg={3}>\r\n            <section id=\"contact\">\r\n              <h5>Contact us</h5>\r\n              <p>\r\n                Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat\r\n                accusamus voluptatibus rem illo reiciendis hic iusto nemo\r\n                cupiditate facere. Quod ut doloremque magni dicta suscipit,\r\n                natus quo aliquam molestias nesciunt!\r\n              </p>\r\n            </section>\r\n          </Col>\r\n          <Col sm={6} lg={3}>\r\n            <section>\r\n              <h5>About us</h5>\r\n              <p>\r\n                Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat\r\n                accusamus voluptatibus rem illo reiciendis hic iusto nemo\r\n                cupiditate facere. Quod ut doloremque magni dicta suscipit,\r\n                natus quo aliquam molestias nesciunt!\r\n              </p>\r\n            </section>\r\n          </Col>\r\n          <Col sm={6} lg={3}>\r\n            <section>\r\n              <h5>Our Services</h5>\r\n              <p>\r\n                Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat\r\n                accusamus voluptatibus rem illo reiciendis hic iusto nemo\r\n                cupiditate facere. Quod ut doloremque magni dicta suscipit,\r\n                natus quo aliquam molestias nesciunt!\r\n              </p>\r\n            </section>\r\n          </Col>\r\n          <Col sm={6} lg={3}>\r\n            <section>\r\n              <h5>Quick links</h5>\r\n              <p>\r\n                Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat\r\n                accusamus voluptatibus rem illo reiciendis hic iusto nemo\r\n                cupiditate facere. Quod ut doloremque magni dicta suscipit,\r\n                natus quo aliquam molestias nesciunt!\r\n              </p>\r\n            </section>\r\n          </Col>\r\n          <Col sm={12}>\r\n            <p className=\"mt-1\">\r\n               2019 Ultimate Travels. All Rights Reserved.\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <div className=\"d-none d-lg-block bottom-nav\">\r\n        <ul className=\"nav nav-pills justify-content-around\">\r\n          <li>Contact us</li>\r\n          <li>\r\n            <FontAwesomeIcon\r\n              icon={[\"fab\", \"whatsapp-square\"]}\r\n              className=\"mr-2\"\r\n              style={{ color: \"green\" }}\r\n              size=\"lg\"\r\n            />\r\n            +2348161128204, +2349026622600\r\n          </li>\r\n          <li>\r\n            <i>\r\n              <FontAwesomeIcon\r\n                icon={[\"fas\", \"phone-alt\"]}\r\n                className=\"mr-2\"\r\n                style={{ color: \"green\" }}\r\n                size=\"lg\"\r\n              />\r\n              +2348161128204, +2349026622600\r\n            </i>\r\n          </li>\r\n          <li>\r\n            <i>\r\n              <FontAwesomeIcon\r\n                icon={[\"fas\", \"envelope\"]}\r\n                className=\"mr-2\"\r\n                style={{ color: \"green\" }}\r\n                size=\"lg\"\r\n              />\r\n              ultimatetravelsltd@gmail.com\r\n            </i>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      {/* <div id=\"bottom-nav\">\r\n        <p className=\"mb-0\"> 2019 Ultimate Travels. All Rights Reserved.</p>\r\n      </div> */}\r\n    </footer>\r\n  );\r\n};\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { Image, Card, Tabs, Tab, Container } from \"react-bootstrap\";\r\n\r\nclass TourDetails extends React.Component {\r\n  render() {\r\n    const { tour } = this.props.location.state;\r\n    return (\r\n      <React.Fragment>\r\n        <Image\r\n          className=\"d-block w-100\"\r\n          src={tour.images[0].image_href}\r\n          style={{ maxHeight: \"400px\" }}\r\n        />\r\n        <Container>\r\n          <h2 className=\"mt-5\">{tour.name}</h2>\r\n          <div>{tour.description}</div>\r\n          <Card className=\"mt-5 p-3\">\r\n            <Tabs\r\n              className=\"booking-tabs\"\r\n              defaultActiveKey={tour.details[0].id}\r\n              variant=\"tabs\"\r\n              id=\"tour-details\"\r\n            >\r\n              {tour.details.map(detail => {\r\n                const included = detail.body.split(\":\");\r\n                return (\r\n                  <Tab\r\n                    key={detail.detail_type.id}\r\n                    eventKey={detail.detail_type.id}\r\n                    title={detail.detail_type.label}\r\n                  >\r\n                    <div className=\"mt-5\">\r\n                      {detail.detail_type.label === \"What's Included\" ? (\r\n                        <ul>\r\n                          {included.map((item, i) => (\r\n                            <li>{item}</li>\r\n                          ))}\r\n                        </ul>\r\n                      ) : (\r\n                        detail.body\r\n                      )}\r\n                    </div>\r\n                  </Tab>\r\n                );\r\n              })}\r\n            </Tabs>\r\n          </Card>\r\n          <p className=\"mt-3\">\r\n            For bookings and reservations please call 08161128204 or email\r\n            tours@ultimatetravels.com\r\n          </p>\r\n        </Container>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TourDetails;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { FormCheck } from \"react-bootstrap\";\r\n\r\nconst Checkbox = ({\r\n  type = \"checkbox\",\r\n  name,\r\n  checked = true,\r\n  onChange,\r\n  label\r\n}) => (\r\n  <FormCheck\r\n    type={type}\r\n    label={label}\r\n    name={name}\r\n    checked={checked}\r\n    onChange={onChange}\r\n  />\r\n);\r\n\r\nCheckbox.propTypes = {\r\n  type: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n  checked: PropTypes.bool,\r\n  onChange: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Checkbox;\r\n","import React from \"react\";\r\nimport { Collapse, Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Nouislider from \"nouislider-react\";\r\nimport \"nouislider/distribute/nouislider.css\";\r\nimport CheckBox from \"../CheckBox\";\r\n\r\nclass FilterResults extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      open: true,\r\n      airlines: true,\r\n      prices: false,\r\n      flightTimes: true,\r\n      priceValue: [0, 100],\r\n      priceRange: { min: 0, max: 100 },\r\n      durationValue: [0, 100],\r\n      durationRange: { min: 0, max: 100 },\r\n      outboundTime: [0, 1439],\r\n      outboundTimeRange: { min: 0, max: 1439 },\r\n      inboundTime: [0, 1439],\r\n      inboundTimeRange: { min: 0, max: 1439 }\r\n    };\r\n  }\r\n\r\n  onClick = () => {\r\n    this.setState(prevState => ({\r\n      open: !prevState.open\r\n    }));\r\n  };\r\n\r\n  onClickAirline = evt => {\r\n    this.setState(prevState => ({\r\n      airlines: !prevState.airlines\r\n    }));\r\n  };\r\n\r\n  onClickPrices = () => {\r\n    let priceList = this.props.priceList;\r\n    this.setState(prevState => ({\r\n      prices: !prevState.prices,\r\n      priceValue: [Math.min(...priceList), Math.max(...priceList)],\r\n      priceRange: {\r\n        min: Math.min(...priceList),\r\n        max: Math.max(...priceList)\r\n      }\r\n    }));\r\n  };\r\n\r\n  onClickDuration = () => {\r\n    let durationList = this.props.durationList;\r\n    this.setState(prevState => ({\r\n      duration: !prevState.duration,\r\n      durationValue: [\r\n        Math.round(Math.min(...durationList.map(item => item[1]))),\r\n        Math.round(Math.max(...durationList.map(item => item[1])))\r\n      ],\r\n      durationRange: {\r\n        min: Math.min(...durationList.map(item => item[1])),\r\n        max: Math.max(...durationList.map(item => item[1]))\r\n      }\r\n    }));\r\n  };\r\n\r\n  onClickFlightTimes = evt => {\r\n    this.setState(prevState => ({\r\n      flightTimes: !prevState.flightTimes\r\n    }));\r\n  };\r\n\r\n  onPriceSlide = (render, handle, value, un, percent) => {\r\n    this.setState({\r\n      priceValue: [value[0].toFixed(2), value[1].toFixed(2)]\r\n    });\r\n  };\r\n\r\n  onDurationSlide = (render, handle, value, un, percent) => {\r\n    this.setState({\r\n      durationValue: [\r\n        Math.min(Math.round(...this.props.durationList.map(item => item[1]))),\r\n        Math.round(value[0])\r\n      ]\r\n    });\r\n  };\r\n\r\n  onOutboundTimeSlide = (render, handle, value, un, percent) => {\r\n    console.log(value);\r\n    this.setState({\r\n      outboundTime: [Math.round(value[0]), Math.round(value[1])]\r\n    });\r\n  };\r\n\r\n  onInboundTimeSlide = (render, handle, value, un, percent) => {\r\n    console.log(value);\r\n    this.setState({\r\n      inboundTime: [Math.floor(value[0]), Math.floor(value[1])]\r\n    });\r\n  };\r\n\r\n  displayTime = number => {\r\n    let hour = Math.floor(number / 60);\r\n    let min = number % 60;\r\n    let calcTime;\r\n    if (min < 10) {\r\n      calcTime = `${hour}.0${min}`;\r\n    } else {\r\n      calcTime = `${hour}.${min}`;\r\n    }\r\n    return calcTime;\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state);\r\n    let dictionaryData = this.props.dictionaryData;\r\n\r\n    // Join the dictionary data into a single array\r\n    let joinedCarrierCodes = dictionaryData[0].concat(\r\n      ...dictionaryData.filter((item, index) => index >= 1)\r\n    );\r\n    // if (index >= 1) {\r\n    //   return item;\r\n    // }\r\n    // })\r\n    // );\r\n\r\n    // Remove duplicate airlines\r\n    let uniqueCarrierCodes = Array.from(\r\n      new Set(joinedCarrierCodes.map(airline => airline[0]))\r\n    ).map(code => joinedCarrierCodes.find(airline => airline[0] === code));\r\n\r\n    console.log(uniqueCarrierCodes);\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          className=\"filter_flight\"\r\n          // style={{\r\n          //   backgroundColor: \"#41225f\",\r\n          //   padding: \"0.5em\",\r\n          //   textAlign: \"center\",\r\n          //   color: \"white\"\r\n          // }}\r\n        >\r\n          Filter Results\r\n        </div>\r\n\r\n        <div style={{ backgroundColor: \"white\", width: \"inherit\" }}>\r\n          <Button\r\n            className=\"filter-btn\"\r\n            variant=\"light\"\r\n            onClick={this.onClick}\r\n            aria-expanded={this.state.open}\r\n            aria-controls=\"stops\"\r\n            style={{\r\n              width: \"inherit\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              backgroundColor: \"white\"\r\n            }}\r\n          >\r\n            <span>Stops</span>\r\n            <FontAwesomeIcon\r\n              icon={[\"fas\", \"sort-down\"]}\r\n              style={{ color: \"black\" }}\r\n              size=\"lg\"\r\n            />\r\n          </Button>\r\n\r\n          <Collapse in={this.state.open}>\r\n            <div id=\"stops\" style={{ paddingLeft: \"3em\" }}>\r\n              {[\r\n                [\"1\", \"None\"],\r\n                [\"2\", \"1 Stop\"],\r\n                [\"3\", \"2+ Stops\"]\r\n              ].map(stop => (\r\n                <CheckBox\r\n                  key={stop[0]}\r\n                  type=\"checkbox\"\r\n                  label={stop[1]}\r\n                  id={stop[0]}\r\n                  name={stop[0]}\r\n                  checked={this.props.checkedStops.get(stop[0])}\r\n                  onChange={this.props.onChangeStops}\r\n                />\r\n              ))}\r\n            </div>\r\n          </Collapse>\r\n\r\n          <hr />\r\n\r\n          <Button\r\n            className=\"filter-btn\"\r\n            variant=\"light\"\r\n            onClick={this.onClickAirline}\r\n            aria-expanded={this.state.airlines}\r\n            aria-controls=\"airlines\"\r\n            style={{\r\n              width: \"inherit\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              backgroundColor: \"white\"\r\n            }}\r\n          >\r\n            <span>Airlines</span>\r\n            <FontAwesomeIcon\r\n              icon={[\"fas\", \"sort-down\"]}\r\n              style={{ color: \"black\" }}\r\n              size=\"lg\"\r\n            />\r\n          </Button>\r\n\r\n          <Collapse in={this.state.airlines}>\r\n            <div id=\"airlines\" style={{ paddingLeft: \"3em\" }}>\r\n              {uniqueCarrierCodes.map(airline => (\r\n                <CheckBox\r\n                  key={airline[0]}\r\n                  type=\"checkbox\"\r\n                  label={airline[1]}\r\n                  name={airline[0]}\r\n                  id={airline[1]}\r\n                  checked={this.props.checkedAirlines.get(airline[0])}\r\n                  onChange={this.props.onChangeAirline}\r\n                />\r\n              ))}\r\n              {/* {this.props.flightDetails.dictionaries.carriers.map(airline => (\r\n                <FormCheck\r\n                  key={airline[0]}\r\n                  type=\"checkbox\"\r\n                  label={airline[1]}\r\n                  id={airline[0]}\r\n                  checked={this.state.airlineChecked}\r\n                  onChange={()=> this.props.onChangeAirline()}\r\n                />\r\n              ))} */}\r\n            </div>\r\n          </Collapse>\r\n\r\n          <hr />\r\n\r\n          <Button\r\n            className=\"filter-btn mb-2\"\r\n            variant=\"light\"\r\n            onClick={this.onClickPrices}\r\n            aria-expanded={this.state.prices}\r\n            aria-controls=\"prices\"\r\n            style={{\r\n              width: \"inherit\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              backgroundColor: \"white\"\r\n            }}\r\n          >\r\n            <span>Price Range</span>\r\n            <FontAwesomeIcon\r\n              icon={[\"fas\", \"sort-down\"]}\r\n              style={{ color: \"black\" }}\r\n              size=\"lg\"\r\n            />\r\n          </Button>\r\n          <Collapse in={this.state.prices}>\r\n            <div id=\"prices\">\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  marginLeft: \"2em\",\r\n                  marginRight: \"2em\"\r\n                }}\r\n              >\r\n                <span>{this.state.priceValue[0]}</span>\r\n                <span>{this.state.priceValue[1]}</span>\r\n              </div>\r\n              <Nouislider\r\n                accessibility\r\n                start={this.state.priceValue}\r\n                range={this.state.priceRange}\r\n                onSlide={this.onPriceSlide}\r\n                onChange={this.props.onChangePrice}\r\n                // pips={{ mode: \"count\", values: 5 }}\r\n                connect\r\n              />\r\n            </div>\r\n          </Collapse>\r\n\r\n          <hr />\r\n\r\n          <Button\r\n            className=\"filter-btn mb-2\"\r\n            variant=\"light\"\r\n            onClick={this.onClickDuration}\r\n            aria-expanded={this.state.duration}\r\n            aria-controls=\"duration\"\r\n            style={{\r\n              width: \"inherit\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              backgroundColor: \"white\"\r\n            }}\r\n          >\r\n            <span>Journey Duration</span>\r\n            <FontAwesomeIcon\r\n              icon={[\"fas\", \"sort-down\"]}\r\n              style={{ color: \"black\" }}\r\n              size=\"lg\"\r\n            />\r\n          </Button>\r\n\r\n          <Collapse in={this.state.duration}>\r\n            <div id=\"duration\">\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  marginLeft: \"2em\",\r\n                  marginRight: \"2em\"\r\n                }}\r\n              >\r\n                <span>{`${this.displayTime(\r\n                  this.state.durationValue[0]\r\n                )} hours`}</span>\r\n                <span>\r\n                  {`${this.displayTime(this.state.durationValue[1])} hours`}}\r\n                </span>\r\n              </div>\r\n              {/* <div\r\n                style={{ marginLeft: \"2em\", marginRight: \"2em\" }}\r\n              >{`${this.displayTime(\r\n                this.state.durationValue[0]\r\n              )} hours - ${this.displayTime(\r\n                this.state.durationValue[1]\r\n              )} hours`}</div> */}\r\n              <Nouislider\r\n                accessibility\r\n                // step={1}\r\n                start={this.state.durationValue[1]}\r\n                range={this.state.durationRange}\r\n                onSlide={this.onDurationSlide}\r\n                connect=\"lower\"\r\n                onChange={this.props.onChangeDuration}\r\n              />\r\n            </div>\r\n          </Collapse>\r\n\r\n          <hr />\r\n\r\n          <Button\r\n            className=\"filter-btn mb-2\"\r\n            variant=\"light\"\r\n            onClick={this.onClickFlightTimes}\r\n            aria-expanded={this.state.flightTimes}\r\n            aria-controls=\"flightTimes\"\r\n            style={{\r\n              width: \"inherit\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              backgroundColor: \"white\"\r\n            }}\r\n          >\r\n            <span>Flight Times</span>\r\n            <FontAwesomeIcon\r\n              icon={[\"fas\", \"sort-down\"]}\r\n              style={{ color: \"black\" }}\r\n              size=\"lg\"\r\n            />\r\n          </Button>\r\n\r\n          <Collapse in={this.state.flightTimes}>\r\n            <div id=\"flightTimes\">\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  marginLeft: \"2em\",\r\n                  marginRight: \"2em\"\r\n                }}\r\n              >\r\n                <span>{this.displayTime(this.state.outboundTime[0])}</span>\r\n                <span>Departure</span>\r\n                <span>{this.displayTime(this.state.outboundTime[1])}</span>\r\n              </div>\r\n\r\n              <Nouislider\r\n                accessibility\r\n                step={1}\r\n                start={this.state.outboundTime}\r\n                range={this.state.outboundTimeRange}\r\n                onSlide={this.onOutboundTimeSlide}\r\n                onChange={this.props.onChangeDepartureTime}\r\n                connect\r\n              />\r\n              {this.props.returnDate !== undefined ? (\r\n                <>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      justifyContent: \"space-between\",\r\n                      marginLeft: \"2em\",\r\n                      marginRight: \"2em\"\r\n                    }}\r\n                  >\r\n                    <span>{this.displayTime(this.state.inboundTime[0])}</span>\r\n                    <span>Arrival</span>\r\n                    <span>{this.displayTime(this.state.inboundTime[1])}</span>\r\n                  </div>\r\n                  <Nouislider\r\n                    accessibility\r\n                    step={1}\r\n                    start={this.state.inboundTime}\r\n                    range={this.state.inboundTimeRange}\r\n                    onSlide={this.onInboundTimeSlide}\r\n                    onChange={this.props.onChangeArrivalTime}\r\n                    connect\r\n                  />\r\n                </>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          </Collapse>\r\n          <hr />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FilterResults;\r\n","import React from \"react\";\r\nimport { Row, Col, Button, Card, Image, CardDeck } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nclass FlightResultList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      redirect: null,\r\n      joinedQueryVariable: {}\r\n    };\r\n  }\r\n\r\n  handleCheckOffer = id => {\r\n    this.setState(() => {\r\n      let index;\r\n      let selectedData = [];\r\n      let firstTripData = this.props.flightData[0].filter((flight, i) => {\r\n        index = i;\r\n        return flight.id === id;\r\n      });\r\n      selectedData.push(firstTripData);\r\n      for (let i = 1; i < this.props.flightData.length; i++) {\r\n        selectedData.push([this.props.flightData[i][index]]);\r\n      }\r\n      console.log(index);\r\n      console.log(firstTripData);\r\n      console.log(selectedData);\r\n      console.log(this.props.flightData[0]);\r\n\r\n      // Format the data to match the checkOfferQuery argument before passing it\r\n      selectedData.map(trip =>\r\n        trip.map(data => {\r\n          delete data.averageDuration;\r\n          data.itineraries.map(itinerary => delete itinerary.durationMins);\r\n          if (data.numStops) delete data.numStops;\r\n          if (data.uniqueAirlinesList) delete data.uniqueAirlinesList;\r\n          if (data.accumulatedPrice) delete data.accumulatedPrice;\r\n          return data;\r\n        })\r\n      );\r\n\r\n      let joinedQueryVariable = [];\r\n\r\n      for (let i = 0; i < selectedData.length; i++) {\r\n        let queryVariable = {};\r\n        queryVariable.data = {};\r\n        queryVariable.data.type = \"flight-offers-pricing\";\r\n        queryVariable.data.flightOffers = selectedData[i];\r\n        joinedQueryVariable.push(queryVariable);\r\n      }\r\n\r\n      console.log(joinedQueryVariable);\r\n      return {\r\n        redirect: \"/checkOfferAvailability\",\r\n        joinedQueryVariable\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      if (this.state.redirect) {\r\n        return (\r\n          <Redirect\r\n            push\r\n            to={{\r\n              pathname: this.state.redirect,\r\n              state: {\r\n                joinedQueryVariable: this.state.joinedQueryVariable,\r\n                userInfo: this.props.userInfo\r\n              }\r\n            }}\r\n          />\r\n        );\r\n      }\r\n    }\r\n    return (\r\n      <CardDeck>\r\n        {/* present the flight result in an array of cards */}\r\n        {/* a[0].map((b,c)=> {let k=[]; k.push(b); for(let i=1; i<a.length; i++){k.push(a[i][c])}; w.push(k)}) */}\r\n        {this.props.flightData[0].length > 0\r\n          ? this.props.flightData[0].map((flight, index) => {\r\n              let joinedData = [];\r\n              joinedData.push(flight);\r\n              for (let i = 1; i < this.props.flightData.length; i++) {\r\n                joinedData.push(this.props.flightData[i][index]);\r\n              }\r\n              // declare outbound flight variables\r\n              let outboundDuration = joinedData.map(flight =>\r\n                flight.itineraries[0].duration.slice(2).split(\"H\")\r\n              );\r\n              let outboundItineraryDeparture = joinedData.map(\r\n                flight => flight.itineraries[0].segments[0].departure\r\n              );\r\n              let outboundDepartureTime = joinedData.map(flight => {\r\n                let time = flight.itineraries[0].segments[0].departure.at.split(\r\n                  \"T\"\r\n                )[1];\r\n                let splittedTimeArray = time.split(\":\");\r\n                return `${splittedTimeArray[0]}:${splittedTimeArray[1]}`;\r\n              });\r\n              let outboundStops = joinedData.map(\r\n                flight => flight.itineraries[0].segments.length - 1\r\n              );\r\n              let outboundItineraryArrival = joinedData.map(\r\n                flight =>\r\n                  flight.itineraries[0].segments[\r\n                    flight.itineraries[0].segments.length - 1\r\n                  ].arrival\r\n              );\r\n              let outboundArrivalTime = joinedData.map(flight => {\r\n                let time = flight.itineraries[0].segments[\r\n                  flight.itineraries[0].segments.length - 1\r\n                ].arrival.at.split(\"T\")[1];\r\n                let splittedTimeArray = time.split(\":\");\r\n                return `${splittedTimeArray[0]}:${splittedTimeArray[1]}`;\r\n              });\r\n\r\n              // declare inbound flight variables\r\n              let inboundDuration,\r\n                inboundItineraryDeparture,\r\n                inboundDepartureTime,\r\n                inboundArrivalTime,\r\n                inboundItineraryArrival,\r\n                inboundStops;\r\n              if (flight.itineraries.length > 1) {\r\n                let departureTime = flight.itineraries[0].segments[0].departure.at.split(\r\n                  \"T\"\r\n                )[1];\r\n                let arrivalTime = flight.itineraries[1].segments[\r\n                  flight.itineraries[1].segments.length - 1\r\n                ].arrival.at.split(\"T\")[1];\r\n\r\n                let splittedDepartureTimeArray = departureTime.split(\":\");\r\n                let splittedArrivalTimeArray = arrivalTime.split(\":\");\r\n                inboundDuration = flight.itineraries[1].duration\r\n                  .slice(2)\r\n                  .split(\"H\");\r\n                inboundItineraryDeparture =\r\n                  flight.itineraries[1].segments[0].departure;\r\n                inboundDepartureTime = `${splittedDepartureTimeArray[0]}:${splittedDepartureTimeArray[1]}`;\r\n\r\n                inboundStops = flight.itineraries[1].segments.length - 1;\r\n                inboundItineraryArrival =\r\n                  flight.itineraries[1].segments[\r\n                    flight.itineraries[1].segments.length - 1\r\n                  ].arrival;\r\n                inboundArrivalTime = `${splittedArrivalTimeArray[0]}:${splittedArrivalTimeArray[1]}`;\r\n              }\r\n              let length = flight.itineraries.length;\r\n\r\n              return (\r\n                <Card\r\n                  key={flight.id}\r\n                  className=\"mb-3\"\r\n                  style={{ fontWeight: \"bold\", borderColor: \"#f68220\" }}\r\n                  // style={{ width: \"68%\", marginLeft: \"auto\" }}\r\n                >\r\n                  <Card.Body>\r\n                    <Row className=\"mb-2\">\r\n                      <Col\r\n                        sm={12}\r\n                        md={10}\r\n                        className={length === 1 ? \"align-self-center\" : \"\"}\r\n                      >\r\n                        {joinedData.map((flight, i) => {\r\n                          return (\r\n                            <Row key={i} className=\"align-items-center mb-3\">\r\n                              <Col xs={6} md={3}>\r\n                                <div>\r\n                                  <Image\r\n                                    src={`https://daisycon.io/images/airline/?width=300&height=150&color=ffffff&iata=${flight.itineraries[0].segments[0].carrierCode}`}\r\n                                    fluid\r\n                                  />\r\n                                </div>\r\n                              </Col>\r\n                              <Col\r\n                                xs={12}\r\n                                md={9}\r\n                                style={{\r\n                                  display: \"flex\",\r\n                                  justifyContent: \"center\"\r\n                                }}\r\n                              >\r\n                                {`${outboundItineraryDeparture[i].iataCode} ${outboundDepartureTime[i]}`}\r\n                                <FontAwesomeIcon\r\n                                  icon={[\"fas\", \"long-arrow-alt-right\"]}\r\n                                  className=\"mr-1 ml-1\"\r\n                                  style={{ color: \"blue\" }}\r\n                                  size=\"lg\"\r\n                                />\r\n                                {`${outboundDuration[i][0]}H ${\r\n                                  outboundDuration[i][1]\r\n                                }  |  ${outboundStops[i]} ${\r\n                                  outboundStops[i] > 1 ? \"stops\" : \"stop\"\r\n                                }`}\r\n                                <FontAwesomeIcon\r\n                                  icon={[\"fas\", \"long-arrow-alt-right\"]}\r\n                                  className=\"mr-1 ml-1\"\r\n                                  style={{ color: \"blue\" }}\r\n                                  size=\"lg\"\r\n                                />{\" \"}\r\n                                {`${outboundItineraryArrival[i].iataCode} ${outboundArrivalTime[i]}`}\r\n                              </Col>\r\n                            </Row>\r\n                          );\r\n                        })}\r\n\r\n                        {flight.itineraries.length > 1 ? (\r\n                          <Row className=\"align-items-center\">\r\n                            <Col xs={6} md={3}>\r\n                              <div>\r\n                                <Image\r\n                                  src={`https://daisycon.io/images/airline/?width=300&height=150&color=ffffff&iata=${\r\n                                    flight.itineraries[1].segments[\r\n                                      flight.itineraries[1].segments.length - 1\r\n                                    ].carrierCode\r\n                                  }`}\r\n                                  fluid\r\n                                />\r\n                              </div>\r\n                            </Col>\r\n\r\n                            <Col\r\n                              xs={12}\r\n                              md={9}\r\n                              style={{\r\n                                display: \"flex\",\r\n                                justifyContent: \"center\"\r\n                              }}\r\n                            >\r\n                              {`${inboundItineraryDeparture.iataCode} ${inboundDepartureTime}`}{\" \"}\r\n                              <FontAwesomeIcon\r\n                                icon={[\"fas\", \"long-arrow-alt-right\"]}\r\n                                className=\"mr-1 ml-1\"\r\n                                style={{ color: \"blue\" }}\r\n                                size=\"lg\"\r\n                              />\r\n                              {`${inboundDuration[0]}H ${\r\n                                inboundDuration[1]\r\n                              }  |  ${inboundStops} ${\r\n                                inboundStops > 1 ? \"stops\" : \"stop\"\r\n                              }`}{\" \"}\r\n                              <FontAwesomeIcon\r\n                                icon={[\"fas\", \"long-arrow-alt-right\"]}\r\n                                className=\"mr-1 ml-1\"\r\n                                style={{ color: \"blue\" }}\r\n                                size=\"lg\"\r\n                              />{\" \"}\r\n                              {`${inboundItineraryArrival.iataCode} ${inboundArrivalTime}`}\r\n                            </Col>\r\n                          </Row>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                      </Col>\r\n\r\n                      <Col\r\n                        sm={12}\r\n                        md={2}\r\n                        style={{\r\n                          display: \"flex\",\r\n                          flexDirection: \"column\",\r\n                          alignItems: \"flex-end\",\r\n                          paddingRight: \"1.5em\"\r\n                        }}\r\n                      >\r\n                        {/* {`${prices.length} ${\r\n                                prices.length > 1 ? \"deals\" : \"deal\"\r\n                              } from`} */}\r\n                        <div>\r\n                          {new Intl.NumberFormat(\"en-NG\", {\r\n                            style: \"currency\",\r\n                            currency: this.props.currency\r\n                          }).format(\r\n                            Number(\r\n                              joinedData\r\n                                .reduce(\r\n                                  (total, tripData) =>\r\n                                    total + tripData.price.total * 1,\r\n                                  0\r\n                                )\r\n                                .toFixed(2)\r\n                            )\r\n                          )}\r\n                          {/* <span>&#8358;</span>\r\n                          {`${joinedData\r\n                            .reduce(\r\n                              (total, tripData) =>\r\n                                total + tripData.price.total * 1,\r\n                              0\r\n                            )\r\n                            .toFixed(2)}`} */}\r\n                        </div>\r\n\r\n                        {this.props.flightData.length === 1 ? (\r\n                          <div\r\n                            className=\"mt-2 mb-2\"\r\n                            style={{\r\n                              border: \"1px solid green\",\r\n                              width: \"fit-content\",\r\n                              padding: \"0.5em\"\r\n                            }}\r\n                          >\r\n                            {`${flight.numberOfBookableSeats} seats left`}\r\n                          </div>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n\r\n                        <div>\r\n                          <Button\r\n                            onClick={() => this.handleCheckOffer(flight.id)}\r\n                          >\r\n                            {/* <a href=\"#\" style={{ color: \"white\" }}> */}\r\n                            Select\r\n                            {/* </a> */}\r\n                          </Button>\r\n                        </div>\r\n                      </Col>\r\n                      <br />\r\n                      <br />\r\n                    </Row>\r\n                  </Card.Body>\r\n                </Card>\r\n              );\r\n            })\r\n          : \"No result matches your search\"}\r\n      </CardDeck>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FlightResultList;\r\n","import React from \"react\";\r\nimport { Button, Card } from \"react-bootstrap\";\r\n\r\nfunction SortResult(props) {\r\n  let {\r\n    handleSortCheapest,\r\n    handleSortFastest,\r\n    handleFastestCardClick,\r\n    handleCheapestCardClick,\r\n    durationList,\r\n    priceList,\r\n    displayTime,\r\n    currency\r\n  } = props;\r\n\r\n  // Get the duration and price of the cheapest and fastest flight\r\n  let lowestPrice = 0;\r\n  let lestDuration = 0;\r\n  for (let i = 1; i < durationList.length; i++) {\r\n    if (durationList[i][0] < durationList[lowestPrice][0]) lowestPrice = i;\r\n    if (durationList[i][1] < durationList[lestDuration][1]) lestDuration = i;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"relative\",\r\n          width: \"100%\",\r\n          justifyContent: \"space-between\",\r\n          marginBottom: \"1.7em\"\r\n        }}\r\n      >\r\n        <Card style={{ width: \"45%\" }} onClick={() => handleFastestCardClick()}>\r\n          <Card.Header className=\"filter_flight\">Fastest</Card.Header>\r\n\r\n          <Card.Title>\r\n            <div\r\n              style={{\r\n                color: \"blue\",\r\n                fontSize: \"18px\",\r\n                paddingLeft: \"1em\",\r\n                paddingTop: \"1em\"\r\n              }}\r\n            >\r\n              {durationList.length > 0\r\n                ? new Intl.NumberFormat(\"en-NG\", {\r\n                    style: \"currency\",\r\n                    currency: currency\r\n                  }).format(Number(durationList[lestDuration][0].toFixed(2)))\r\n                : null}\r\n              {/* <span>&#8358;</span>\r\n              {durationList.length > 0\r\n                ? Number(durationList[lestDuration][0].toFixed(2))\r\n                : \"\"} */}\r\n            </div>\r\n          </Card.Title>\r\n\r\n          <Card.Body>\r\n            {displayTime(\r\n              Math.round(Math.min(...durationList.map(item => item[1])))\r\n            )}\r\n          </Card.Body>\r\n        </Card>\r\n\r\n        <Card\r\n          style={{ width: \"45%\" }}\r\n          onClick={() => handleCheapestCardClick()}\r\n        >\r\n          <Card.Header className=\"filter_flight\">Cheapest</Card.Header>\r\n\r\n          <Card.Title>\r\n            <div\r\n              style={{\r\n                color: \"blue\",\r\n                fontSize: \"18px\",\r\n                paddingLeft: \"1em\",\r\n                paddingTop: \"1em\"\r\n              }}\r\n            >\r\n              {new Intl.NumberFormat(\"en-NG\", {\r\n                style: \"currency\",\r\n                currency: currency\r\n              }).format(Math.min(...priceList))}\r\n              {/* <span>&#8358;</span>\r\n\r\n              {Math.min(...priceList)} */}\r\n            </div>\r\n          </Card.Title>\r\n\r\n          <Card.Body>\r\n            {durationList.length > 0\r\n              ? displayTime(Math.floor(durationList[lowestPrice][1]))\r\n              : \"\"}\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          width: \"fit-content\",\r\n          marginLeft: \"auto\",\r\n          marginBottom: \"1.5em\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <span\r\n          className=\"mr-3\"\r\n          style={{ fontWeight: \"bold\", alignSelf: \"center\" }}\r\n        >\r\n          Sort By\r\n        </span>\r\n        <span className=\"mr-3\">\r\n          <Button className=\"sort-btn\" onClick={() => handleSortCheapest()}>\r\n            Cheapest\r\n          </Button>\r\n        </span>\r\n        <span>\r\n          <Button className=\"sort-btn\" onClick={() => handleSortFastest()}>\r\n            Fastest\r\n          </Button>\r\n        </span>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default SortResult;\r\n","import React from \"react\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass FlightResultHeading extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      redirect: null\r\n    };\r\n  }\r\n\r\n  changeFlightQuery = () => {\r\n    this.setState({\r\n      redirect: \"/\"\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return (\r\n        <Redirect\r\n          push\r\n          to={{\r\n            pathname: this.state.redirect,\r\n            state: {\r\n              userInfo: this.props.userInfo\r\n            }\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    let info = this.props.userInfo;\r\n    let originCity = info.from[0][1].address.cityName;\r\n    let originLocationCode = info.from[0][1].iataCode;\r\n    let destinationCity = info.to[info.to.length - 1][1].address.cityName;\r\n    let destinationLocationCode = info.to[info.to.length - 1][1].iataCode;\r\n    let departureDate = info.departureDate[0][1].toISOString().split(\"T\")[0];\r\n    let lastDepartureDate =\r\n      info.departureDate.length > 1\r\n        ? info.departureDate[info.departureDate.length - 1][1]\r\n            .toISOString()\r\n            .split(\"T\")[0]\r\n        : \"\";\r\n    return (\r\n      <div\r\n        style={{\r\n          // backgroundColor: \"rgb(65, 65, 66)\",\r\n          backgroundColor: \"#dee2e6\",\r\n          borderRadius: \"20px\",\r\n          color: \"black\",\r\n          padding: \"1.5em\",\r\n          marginBottom: \"1.5em\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\"\r\n        }}\r\n      >\r\n        <div>\r\n          <div className=\"text-center\">\r\n            {`${originCity} (${originLocationCode})`}\r\n            <FontAwesomeIcon\r\n              icon={\r\n                this.props.singleTrip\r\n                  ? [\"fas\", \"long-arrow-alt-right\"]\r\n                  : [\"fas\", \"exchange-alt\"]\r\n              }\r\n              className=\"mr-3 ml-3\"\r\n              style={{ color: \"#f68220\" }}\r\n              size=\"lg\"\r\n            />\r\n            {`${destinationCity} (${destinationLocationCode})`}\r\n          </div>\r\n          <div className=\"text-center\">{`${departureDate} - ${\r\n            info.returnDate ? info.returnDate : lastDepartureDate\r\n          }  |  ${info.adults} \r\n                  ${info.adults === \"1\" ? \"Adult\" : \"Adults\"}  | ${\r\n            info.children > 1\r\n              ? info.children + \" children |\"\r\n              : info.children == 1\r\n              ? info.children + \" child |\"\r\n              : \"\"\r\n          }  ${\r\n            info.infants > 1\r\n              ? info.infants + \" infants |\"\r\n              : info.infants == 1\r\n              ? info.infants + \" infant |\"\r\n              : \"\"\r\n          }\r\n                 ${info.travelClass}`}</div>\r\n        </div>\r\n        <div>\r\n          <Button\r\n            style={{\r\n              // backgroundColor: \"#41225f\",\r\n              display: \"block\",\r\n              marginLeft: \"auto\",\r\n              borderRadius: \"10px\"\r\n            }}\r\n            onClick={this.changeFlightQuery}\r\n          >\r\n            Change\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FlightResultHeading;\r\n","import React from \"react\";\r\nimport { Pagination } from \"react-bootstrap\";\r\n\r\nconst FlightResultPagination = props => {\r\n  let {\r\n    currentPage,\r\n    flightsPerPage,\r\n    flightData,\r\n    changePage,\r\n    showPrevPage,\r\n    showNextPage\r\n  } = props;\r\n\r\n  /* Format the array to be passed to the pagination to show only prev, first, last, next, \r\n    current page anda number before and after the current page */\r\n\r\n  let pageNumbers = [];\r\n  let numberOfPages = Math.ceil(flightData[0].length / flightsPerPage);\r\n\r\n  if (currentPage > 1)\r\n    pageNumbers.push(<Pagination.Prev key=\"a\" onClick={showPrevPage} />);\r\n\r\n  for (let i = 1; i <= numberOfPages; i++) {\r\n    if (i === 1) {\r\n      pageNumbers.push(\r\n        <Pagination.Item\r\n          key={i}\r\n          active={i === currentPage}\r\n          onClick={() => changePage(i)}\r\n        >\r\n          {i}\r\n        </Pagination.Item>\r\n      );\r\n    }\r\n  }\r\n\r\n  if (currentPage >= 4) pageNumbers.push(<Pagination.Ellipsis key=\"b\" />);\r\n\r\n  for (let i = 1; i <= numberOfPages; i++) {\r\n    if (\r\n      i >= currentPage - 1 &&\r\n      i <= currentPage + 1 &&\r\n      i > 1 &&\r\n      i < numberOfPages\r\n    ) {\r\n      pageNumbers.push(\r\n        <Pagination.Item\r\n          key={i}\r\n          active={i === currentPage}\r\n          onClick={() => changePage(i)}\r\n        >\r\n          {i}\r\n        </Pagination.Item>\r\n      );\r\n    }\r\n  }\r\n\r\n  if (currentPage <= numberOfPages - 3)\r\n    pageNumbers.push(<Pagination.Ellipsis key=\"c\" />);\r\n\r\n  for (let i = 1; i <= numberOfPages; i++) {\r\n    if (i === numberOfPages) {\r\n      pageNumbers.push(\r\n        <Pagination.Item\r\n          key={i}\r\n          active={i === currentPage}\r\n          onClick={() => changePage(i)}\r\n        >\r\n          {i}\r\n        </Pagination.Item>\r\n      );\r\n    }\r\n  }\r\n\r\n  if (currentPage < numberOfPages)\r\n    pageNumbers.push(<Pagination.Next key=\"d\" onClick={showNextPage} />);\r\n\r\n  console.log(pageNumbers);\r\n\r\n  return <Pagination>{pageNumbers}</Pagination>;\r\n};\r\n\r\nexport default FlightResultPagination;\r\n","import React from \"react\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\nimport FilterResults from \"./FilterResults\";\r\nimport FlightResultList from \"./FlightResultList\";\r\nimport SortResult from \"./SortResult\";\r\nimport FlightResultHeading from \"./FlightResultHeading\";\r\nimport { Map } from \"immutable\";\r\nimport FlightResultPagination from \"./FlightResultPagination\";\r\n\r\nclass QueryResult extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Add computed number of stops and unique airline list to the flightData\r\n    this.formattedData = this.props.allData\r\n      .map(tripData => tripData.flightDetails.data)\r\n      .map(trip =>\r\n        trip.map(flight => {\r\n          // Declare variables for airlines and number of stops\r\n          let stopList = [];\r\n          let airlineList = [];\r\n          let uniqueAirlinesList = [];\r\n\r\n          flight.itineraries.map(itinerary => {\r\n            // Push airlines to the list declared above\r\n            itinerary.segments.map(segment =>\r\n              airlineList.push(segment.carrierCode)\r\n            );\r\n\r\n            // Set number of stops greater than 2 to 3 for simplicity and push the nums to an array\r\n            if (itinerary.segments.length > 2) itinerary.segments.length = 3;\r\n            stopList.push(itinerary.segments.length);\r\n          });\r\n\r\n          // Add the unique airline list and computed number of stops to the data\r\n          uniqueAirlinesList = [...new Set(airlineList)];\r\n          flight.uniqueAirlinesList = uniqueAirlinesList;\r\n          flight.numStops = stopList;\r\n\r\n          return flight;\r\n        })\r\n      );\r\n\r\n    this.state = {\r\n      dictionaryData: this.props.allData.map(\r\n        tripData => tripData.flightDetails.dictionaries.carriers\r\n      ),\r\n      flightData: this.resizeData(this.formattedData),\r\n      showAllResultBtn: false,\r\n      checkedStops: new Map(),\r\n      checkedAirlines: new Map(),\r\n      currentPage: 1,\r\n      flightsPerPage: 10\r\n    };\r\n    this.priceList = this.getPrices(this.resizeData(this.formattedData));\r\n    this.durationList = this.getDuration(this.resizeData(this.formattedData));\r\n    this.unCheckedStops = [];\r\n    this.unCheckedAirlines = [];\r\n  }\r\n\r\n  // Function to put all flight prices in an array\r\n  getPrices = tripData => {\r\n    let priceArray = [];\r\n    console.log(tripData);\r\n\r\n    tripData[0].map((trip, index) => {\r\n      let total = 0;\r\n      for (let i = 0; i < tripData.length; i++) {\r\n        total += tripData[i][index].price.total * 1;\r\n      }\r\n      priceArray.push(Number(total.toFixed(2)));\r\n    });\r\n    // a.reduce((total, i) => total + i[1], 0);\r\n    tripData.map(trip =>\r\n      trip.map((flight, index) => (flight.accumulatedPrice = priceArray[index]))\r\n    );\r\n    // allJoinedData.map(joinedData =>\r\n    //   priceArray.push(\r\n    //     joinedData.reduce((total, trip) => total + trip.price.total * 1)\r\n    //   )\r\n    // );\r\n    console.log(priceArray);\r\n    return priceArray;\r\n  };\r\n\r\n  // Function to put average duration of outbound and inbound flight in an array\r\n  getDuration = tripData => {\r\n    let durationArray = [];\r\n    tripData.map(trip =>\r\n      trip.map(flight => {\r\n        // map through the itineraries to get the duration in two decimal places\r\n        let time = flight.itineraries.map(itinerary => {\r\n          let timeArray = itinerary.duration.slice(2, -1).split(\"H\");\r\n          // If there is no minute set the minute to 0\r\n          if (timeArray.length === 1) timeArray.push(0);\r\n\r\n          // convert the time to numbers then to minutes\r\n          let mins = timeArray[0] * 60 + timeArray[1] * 1;\r\n          itinerary.durationMins = mins;\r\n          return mins;\r\n        });\r\n\r\n        // Declare a variable for the price of each returned flight\r\n        let price = flight.price.total * 1;\r\n\r\n        // get the average duration from each flight\r\n        let sumDuration = time.reduce((total, each) => total + each, 0);\r\n        let averageDuration = sumDuration / time.length;\r\n\r\n        // add the average duration to the flight data array\r\n        flight.averageDuration = averageDuration;\r\n\r\n        // return an array containing the average durations and its corresponding price\r\n        return averageDuration;\r\n        // return durationArray.push([price, averageDuration]);\r\n      })\r\n    );\r\n    let totalAvgDuration = 0;\r\n    let totalPrice = 0;\r\n    tripData[0].map((trip, index) => {\r\n      totalAvgDuration = trip.averageDuration;\r\n      totalPrice = trip.price.total * 1;\r\n      for (let i = 1; i < tripData.length; i++) {\r\n        totalAvgDuration += tripData[i][index].averageDuration;\r\n        totalPrice += tripData[i][index].price.total * 1;\r\n      }\r\n      durationArray.push([totalPrice, totalAvgDuration]);\r\n    });\r\n    return durationArray;\r\n  };\r\n\r\n  handleSortCheapest = () => {\r\n    this.handleShowAll();\r\n    let compareFunction = (a, b) => {\r\n      let firstPrice = a.price.total * 1;\r\n      let secondPrice = b.price.total * 1;\r\n      return firstPrice < secondPrice ? -1 : firstPrice > secondPrice ? 1 : 0;\r\n    };\r\n    this.setState(prevState => {\r\n      // let sortedArray = prevState.flightData.sort(compareFunction);\r\n      let sortedArray = prevState.flightData.map(tripData =>\r\n        tripData.sort(compareFunction)\r\n      );\r\n      console.log(sortedArray);\r\n      return {\r\n        flightData: prevState.flightData\r\n      };\r\n    });\r\n  };\r\n\r\n  handleSortFastest = () => {\r\n    this.handleShowAll();\r\n    let compareFunction = (a, b) => {\r\n      let firstDuration = a.averageDuration;\r\n      let secondDuration = b.averageDuration;\r\n      return firstDuration < secondDuration\r\n        ? -1\r\n        : firstDuration > secondDuration\r\n        ? 1\r\n        : 0;\r\n    };\r\n    this.setState(prevState => {\r\n      let sortedArray = prevState.flightData.map(tripData =>\r\n        tripData.sort(compareFunction)\r\n      );\r\n      console.log(sortedArray);\r\n      return {\r\n        flightData: prevState.flightData\r\n      };\r\n    });\r\n  };\r\n\r\n  handleShowAll = () => {\r\n    this.unCheckedStops = [];\r\n    this.unCheckedAirlines = [];\r\n    this.setState({\r\n      flightData: this.resizeData(this.formattedData),\r\n      showAllResultBtn: false\r\n    });\r\n  };\r\n\r\n  handleCheapestCardClick = () => {\r\n    this.handleShowAll();\r\n    this.setState(prevState => {\r\n      let array = prevState.flightData.map(trip =>\r\n        trip.filter(\r\n          item => item.accumulatedPrice === Math.min(...this.priceList)\r\n        )\r\n      );\r\n      console.log(array);\r\n      // TODO: SOLOLEARN\r\n      //   let flightData = this.resizeData(array);\r\n      // const array = prevState.flightData.map((trip, index) => {\r\n      //   let low = 0;\r\n      //   if (trip[index].price.total * 1 < trip[low].price.total * 1) {\r\n      //     low = index;\r\n      //   }\r\n      //   return trip.filter(\r\n      //     item => item.price.total * 1 === trip[low].price.total * 1\r\n      //   );\r\n      //   // return [trip[low]];\r\n      // });\r\n      let flightData = this.resizeData(array);\r\n      return {\r\n        flightData,\r\n        currentPage: 1,\r\n        showAllResultBtn: true\r\n      };\r\n    });\r\n  };\r\n\r\n  handleFastestCardClick = () => {\r\n    this.handleShowAll();\r\n    this.setState(prevState => {\r\n      const flightData = prevState.flightData.map((trip, index) => {\r\n        let low = 0;\r\n        if (trip[index].averageDuration < trip[low].averageDuration) {\r\n          low = index;\r\n        }\r\n        return [trip[low]];\r\n      });\r\n\r\n      console.log(flightData);\r\n      return {\r\n        flightData,\r\n        currentPage: 1,\r\n        showAllResultBtn: true\r\n      };\r\n    });\r\n  };\r\n\r\n  onChangePrice = (render, handle, value, un, percent) => {\r\n    let flightData = this.formattedData;\r\n\r\n    this.setState(prevState => {\r\n      // if (flightData.length === 1) {\r\n      let array = flightData.map(trip =>\r\n        trip.filter(flight => {\r\n          this.priceList = this.priceList.filter(\r\n            price => price >= value[0] && price <= Math.round(value[1])\r\n          );\r\n          console.log(this.priceList);\r\n\r\n          return (\r\n            flight.accumulatedPrice >= value[0] &&\r\n            flight.accumulatedPrice <= Math.round(value[1]) &&\r\n            !flight.numStops.some(item => this.unCheckedStops.includes(item)) &&\r\n            !flight.uniqueAirlinesList.some(item =>\r\n              this.unCheckedAirlines.includes(item)\r\n            )\r\n          );\r\n        })\r\n      );\r\n      // }\r\n\r\n      console.log(array);\r\n      let newArrayChecked = this.resizeData(array);\r\n\r\n      return {\r\n        flightData: newArrayChecked,\r\n        showAllResultBtn: true\r\n      };\r\n    });\r\n  };\r\n\r\n  onChangeDuration = (render, handle, value, un, percent) => {\r\n    console.log(value);\r\n    let flightData = this.formattedData;\r\n\r\n    this.setState(prevState => {\r\n      let array = flightData.map(trip =>\r\n        trip.filter(flight => {\r\n          console.log(\r\n            flight.averageDuration <= Number(value[0].toFixed(2)),\r\n            !flight.numStops.some(item => this.unCheckedStops.includes(item)),\r\n            !flight.uniqueAirlinesList.some(item =>\r\n              this.unCheckedAirlines.includes(item)\r\n            ),\r\n            this.priceList.some(item => flight.accumulatedPrice == item)\r\n          );\r\n          return (\r\n            flight.averageDuration <= Number(value[0].toFixed(2)) &&\r\n            !flight.numStops.some(item => this.unCheckedStops.includes(item)) &&\r\n            !flight.uniqueAirlinesList.some(item =>\r\n              this.unCheckedAirlines.includes(item)\r\n            ) &&\r\n            this.priceList.some(item => flight.accumulatedPrice == item)\r\n          );\r\n        })\r\n      );\r\n      console.log(array);\r\n      return {\r\n        flightData: array,\r\n        showAllResultBtn: true\r\n      };\r\n    });\r\n  };\r\n\r\n  onChangeDepartureTime = (render, handle, value, un, percent) => {\r\n    let flightData = this.formattedData;\r\n    console.log(value);\r\n\r\n    this.setState(() => {\r\n      let array = flightData.map(trip =>\r\n        trip.filter(flight => {\r\n          // Split the flight time to get only hours and minutes\r\n          let splittedTimeArray = flight.itineraries[0].segments[0].departure.at\r\n            .split(\"T\")[1]\r\n            .split(\":\");\r\n\r\n          // Convert the flight time to minutes\r\n          let calculatedTime =\r\n            splittedTimeArray[0] * 60 + splittedTimeArray[1] * 1;\r\n          console.log(calculatedTime, value[0], value[1]);\r\n\r\n          return (\r\n            calculatedTime >= Math.round(value[0]) &&\r\n            calculatedTime <= Math.round(value[1]) &&\r\n            !flight.numStops.some(item => this.unCheckedStops.includes(item)) &&\r\n            !flight.uniqueAirlinesList.some(item =>\r\n              this.unCheckedAirlines.includes(item)\r\n            ) &&\r\n            this.priceList.some(item => flight.accumulatedPrice == item)\r\n          );\r\n        })\r\n      );\r\n\r\n      console.log(array);\r\n      let resizedArray = this.resizeData(array);\r\n      return {\r\n        flightData: resizedArray,\r\n        showAllResultBtn: true\r\n      };\r\n    });\r\n  };\r\n\r\n  onChangeArrivalTime = (render, handle, value, un, percent) => {\r\n    let flightData = this.formattedData;\r\n    this.getPrices(flightData);\r\n\r\n    this.setState(() => {\r\n      let array = flightData.map(trip =>\r\n        trip.filter(flight => {\r\n          // Split the flight time to get only hours and minutes\r\n          let splittedTimeArray = flight.itineraries[0].segments[\r\n            flight.itineraries[0].segments.length - 1\r\n          ].arrival.at\r\n            .split(\"T\")[1]\r\n            .split(\":\");\r\n\r\n          // Convert the flight time to minutes\r\n          let calculatedTime =\r\n            splittedTimeArray[0] * 60 + splittedTimeArray[1] * 1;\r\n          console.log(calculatedTime, value[0], value[1]);\r\n\r\n          return (\r\n            calculatedTime >= Math.round(value[0]) &&\r\n            calculatedTime <= Math.round(value[1]) &&\r\n            !flight.numStops.some(item => this.unCheckedStops.includes(item)) &&\r\n            !flight.uniqueAirlinesList.some(item =>\r\n              this.unCheckedAirlines.includes(item)\r\n            ) &&\r\n            this.priceList.some(item => flight.accumulatedPrice == item)\r\n          );\r\n        })\r\n      );\r\n\r\n      console.log(array);\r\n      let resizedArray = this.resizeData(array);\r\n      return {\r\n        flightData: resizedArray,\r\n        showAllResultBtn: true\r\n      };\r\n    });\r\n  };\r\n\r\n  displayTime = number => {\r\n    let hour = Math.floor(number / 60);\r\n    let min = number % 60;\r\n    let calcTime;\r\n    if (min < 10) {\r\n      calcTime = `${hour}h 0${min}m`;\r\n    } else {\r\n      calcTime = `${hour}h ${min}m`;\r\n    }\r\n    return calcTime;\r\n  };\r\n\r\n  onChangeStops = e => {\r\n    const item = e.target.name;\r\n    const isChecked = e.target.checked;\r\n    let flightData = this.formattedData;\r\n    // this.unCheckedStops = [];\r\n    this.setState(prevState => {\r\n      return {\r\n        checkedStops: prevState.checkedStops.set(item, isChecked)\r\n      };\r\n    });\r\n\r\n    console.log(this.unCheckedStops);\r\n\r\n    let arrayUnchecked = [];\r\n    let arrayChecked = [];\r\n    let uniqueArrayChecked = [];\r\n    let resizedArrayUnchecked = [];\r\n    this.setState(prevState => {\r\n      // return an array of flights in which no itinerary contains segments with the given number of stops\r\n      if (!isChecked) {\r\n        arrayUnchecked = prevState.flightData.map(trip =>\r\n          trip.filter(flight => {\r\n            console.log(flight);\r\n            return !flight.numStops.includes(item * 1);\r\n          })\r\n        );\r\n        this.unCheckedStops.push(item);\r\n        this.unCheckedStops = [...new Set(this.unCheckedStops)];\r\n\r\n        resizedArrayUnchecked = this.resizeData(arrayUnchecked);\r\n      }\r\n\r\n      // return an array of flights which contains segments with the given number of stops\r\n      if (isChecked) {\r\n        this.unCheckedStops = this.unCheckedStops.filter(stop => stop !== item);\r\n        arrayChecked = flightData.map(trip =>\r\n          trip.filter(flight => {\r\n            console.log(this.priceList);\r\n            console.log(\r\n              this.priceList.some(item => flight.accumulatedPrice == item)\r\n            );\r\n            return (\r\n              flight.numStops.includes(item * 1) &&\r\n              !flight.numStops.some(item =>\r\n                this.unCheckedStops.includes(item)\r\n              ) &&\r\n              !flight.uniqueAirlinesList.some(item =>\r\n                this.unCheckedAirlines.includes(item)\r\n              ) &&\r\n              this.priceList.some(item => flight.accumulatedPrice == item)\r\n            );\r\n          })\r\n        );\r\n\r\n        uniqueArrayChecked = this.mergeData(prevState.flightData, arrayChecked);\r\n      }\r\n\r\n      return {\r\n        flightData: isChecked ? uniqueArrayChecked : resizedArrayUnchecked,\r\n        showAllResultBtn: true\r\n      };\r\n    });\r\n  };\r\n\r\n  onChangeAirline = e => {\r\n    const item = e.target.name;\r\n    const isChecked = e.target.checked;\r\n    let flightData = this.formattedData;\r\n    // this.unCheckedAirlines = [];\r\n    this.setState(prevState => {\r\n      console.log(prevState.flightData);\r\n      return {\r\n        checkedAirlines: prevState.checkedAirlines.set(item, isChecked)\r\n      };\r\n    });\r\n    console.log(this.unCheckedAirlines);\r\n\r\n    let arrayUnchecked = [];\r\n    let arrayChecked = [];\r\n    let uniqueArrayChecked = [];\r\n    let resizedArrayUnchecked = [];\r\n    this.setState(prevState => {\r\n      // return an array of flights in which no itinerary contains segments with the given airlines\r\n      if (!isChecked) {\r\n        arrayUnchecked = prevState.flightData.map(trip =>\r\n          trip.filter(flight => {\r\n            return !flight.uniqueAirlinesList.includes(item);\r\n          })\r\n        );\r\n        this.unCheckedAirlines.push(item);\r\n        this.unCheckedAirlines = [...new Set(this.unCheckedAirlines)];\r\n\r\n        resizedArrayUnchecked = this.resizeData(arrayUnchecked);\r\n      }\r\n\r\n      // return an array of flights which contains segments with the given airlines\r\n      if (isChecked) {\r\n        this.unCheckedAirlines = this.unCheckedAirlines.filter(\r\n          airline => airline !== item\r\n        );\r\n        arrayChecked = flightData.map(trip =>\r\n          trip.filter(flight => {\r\n            return (\r\n              flight.uniqueAirlinesList.includes(item) &&\r\n              !flight.uniqueAirlinesList.some(item =>\r\n                this.unCheckedAirlines.includes(item)\r\n              ) &&\r\n              !flight.numStops.some(item =>\r\n                this.unCheckedStops.includes(item)\r\n              ) &&\r\n              this.priceList.includes(flight.accumulatedPrice)\r\n            );\r\n          })\r\n        );\r\n\r\n        uniqueArrayChecked = this.mergeData(prevState.flightData, arrayChecked);\r\n\r\n        console.log(uniqueArrayChecked);\r\n      }\r\n      return {\r\n        flightData: isChecked ? uniqueArrayChecked : resizedArrayUnchecked,\r\n        showAllResultBtn: true\r\n      };\r\n    });\r\n  };\r\n\r\n  resizeData = data => {\r\n    let minLength = Math.min(...data.map(trip => trip.length));\r\n    let sameSizeData = data.map(trip => {\r\n      trip.length > minLength\r\n        ? (trip.length = minLength)\r\n        : (trip.length = trip.length);\r\n      return trip;\r\n    });\r\n    return sameSizeData;\r\n  };\r\n\r\n  mergeData = (prevData, newData) => {\r\n    // Join the data\r\n    let newArrayChecked = prevData.map(trip =>\r\n      trip.concat(...this.resizeData(newData))\r\n    );\r\n    console.log(this.resizeData(newData));\r\n\r\n    // Remove duplicates\r\n    let uniqueArrayChecked = newArrayChecked.map(checkedArray => {\r\n      return Array.from(\r\n        new Set(checkedArray.map(flight => flight.id))\r\n      ).map(id => checkedArray.find(flight => flight.id === id));\r\n    });\r\n    return uniqueArrayChecked;\r\n  };\r\n\r\n  changePage = number => {\r\n    this.setState({\r\n      currentPage: number\r\n    });\r\n  };\r\n\r\n  showPrevPage = () => {\r\n    this.setState(prevState => {\r\n      return {\r\n        currentPage: prevState.currentPage - 1\r\n      };\r\n    });\r\n  };\r\n\r\n  showNextPage = () => {\r\n    this.setState(prevState => {\r\n      return {\r\n        currentPage: prevState.currentPage + 1\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      dictionaryData,\r\n      flightData,\r\n      currentPage,\r\n      flightsPerPage\r\n    } = this.state;\r\n\r\n    // Slice the flight data to return a specified result per page\r\n    const indexOfLastFlight = currentPage * flightsPerPage;\r\n    const indexOfFirstFlight = indexOfLastFlight - flightsPerPage;\r\n    const currentFlights = flightData.map(trip =>\r\n      trip.slice(indexOfFirstFlight, indexOfLastFlight)\r\n    );\r\n\r\n    return (\r\n      <Container\r\n        fluid\r\n        style={{\r\n          marginTop: \"2em\",\r\n          padding: \"3em\",\r\n          paddingTop: \"0\"\r\n        }}\r\n        className=\"flightResultContainer\"\r\n      >\r\n        {/* Component showing result heading */}\r\n        <FlightResultHeading\r\n          userInfo={this.props.userInfo}\r\n          singleTrip={this.props.singleTrip}\r\n        />\r\n\r\n        <Row>\r\n          <Col lg={3}>\r\n            {/* Component for filter options */}\r\n            <FilterResults\r\n              flightData={flightData}\r\n              dictionaryData={dictionaryData}\r\n              priceList={this.priceList}\r\n              durationList={this.durationList}\r\n              onChangePrice={this.onChangePrice}\r\n              onChangeDuration={this.onChangeDuration}\r\n              onChangeStops={this.onChangeStops}\r\n              checkedStops={this.state.checkedStops}\r\n              onChangeArrivalTime={this.onChangeArrivalTime}\r\n              onChangeDepartureTime={this.onChangeDepartureTime}\r\n              onChangeAirline={this.onChangeAirline}\r\n              checkedAirlines={this.state.checkedAirlines}\r\n              return={this.props.userInfo.returnDate}\r\n            />\r\n          </Col>\r\n\r\n          <Col lg={9} className=\"pl-4\">\r\n            {/* Component displaying sort options */}\r\n            <SortResult\r\n              handleSortCheapest={this.handleSortCheapest}\r\n              handleSortFastest={this.handleSortFastest}\r\n              displayTime={this.displayTime}\r\n              durationList={this.durationList}\r\n              priceList={this.priceList}\r\n              handleCheapestCardClick={this.handleCheapestCardClick}\r\n              handleFastestCardClick={this.handleFastestCardClick}\r\n              currency={this.props.currency}\r\n            />\r\n\r\n            {/* Show a button to display all result only if the data has been filtered or sorted */}\r\n            {this.state.showAllResultBtn ? (\r\n              <div className=\"d-block ml-auto mb-2\">\r\n                <Button onClick={this.handleShowAll}>Show All Results</Button>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n\r\n            {/* Component displaying flight results */}\r\n            <FlightResultList\r\n              flightData={currentFlights}\r\n              userInfo={this.props.userInfo}\r\n              currency={this.props.currency}\r\n            />\r\n            <br />\r\n            <br />\r\n\r\n            <FlightResultPagination\r\n              currentPage={currentPage}\r\n              flightsPerPage={flightsPerPage}\r\n              flightData={flightData}\r\n              changePage={this.changePage}\r\n              showPrevPage={this.showPrevPage}\r\n              showNextPage={this.showNextPage}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QueryResult;\r\n","import React from \"react\";\r\nimport { ProgressBar, Container, Spinner } from \"react-bootstrap\";\r\nimport { Query } from \"react-apollo\";\r\nimport { adopt } from \"react-adopt\";\r\nimport { getFlightDetails } from \"../../queries\";\r\nimport QueryResult from \"./QueryResult\";\r\n\r\nfunction FlightQuery(props) {\r\n  let { userInfo, singleTrip } = props.location.state;\r\n  let { currency } = props;\r\n  let queryObj = {};\r\n  userInfo.from.map((origin, i) => {\r\n    let key = origin[0];\r\n    return (queryObj[key] = ({ render }) => (\r\n      <Query\r\n        query={getFlightDetails}\r\n        variables={{\r\n          originLocationCode: origin[1].iataCode,\r\n          destinationLocationCode: userInfo.to[i][1].iataCode,\r\n          departureDate: userInfo.departureDate[i][1]\r\n            .toISOString()\r\n            .split(\"T\")[0],\r\n          returnDate: userInfo.returnDate,\r\n          adults: userInfo.adults * 1,\r\n          children: userInfo.children ? userInfo.children * 1 : undefined,\r\n          infants: userInfo.infants ? userInfo.infants * 1 : undefined,\r\n          travelClass: userInfo.travelClass ? userInfo.travelClass : undefined,\r\n          currencyCode: currency,\r\n        }}\r\n      >\r\n        {render}\r\n      </Query>\r\n    ));\r\n  });\r\n\r\n  console.log(queryObj);\r\n  const Composed = adopt(queryObj);\r\n\r\n  return (\r\n    <Composed>\r\n      {(result) => {\r\n        let allData = [];\r\n        for (let name in queryObj) {\r\n          if (result[name].loading)\r\n            return (\r\n              <div className=\"query_status\">\r\n                <Spinner\r\n                  animation=\"border\"\r\n                  size=\"lg\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                >\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </Spinner>\r\n              </div>\r\n            );\r\n          if (result[name].error) {\r\n            console.log(result[name].error);\r\n            return (\r\n              <div className=\"query_status\">\r\n                Sorry, we are currently unable to retrieve flight data. Please\r\n                try again.\r\n              </div>\r\n            );\r\n          }\r\n          allData.push(result[name].data);\r\n        }\r\n        console.log(allData);\r\n\r\n        if (allData.some((tripData) => tripData.flightDetails === null)) {\r\n          return (\r\n            <div className=\"query_status\">\r\n              No Result Found, please try again\r\n            </div>\r\n          );\r\n        }\r\n\r\n        return (\r\n          <QueryResult\r\n            allData={allData}\r\n            userInfo={userInfo}\r\n            singleTrip={singleTrip}\r\n            currency={currency}\r\n          />\r\n        );\r\n      }}\r\n    </Composed>\r\n  );\r\n}\r\n\r\nexport default FlightQuery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Form, Col } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\n\r\nconst CustomForm = ({\r\n  controlId,\r\n  elementType,\r\n  placeholder,\r\n  placeholderText,\r\n  label,\r\n  lg,\r\n  md,\r\n  sm,\r\n  xs,\r\n  value = \"\",\r\n  name,\r\n  onChange,\r\n  option,\r\n  selected = \"\",\r\n  labelClassName,\r\n  formGroupClassName,\r\n  showMore = true,\r\n  minDate = undefined,\r\n  plaintext = false,\r\n  type = \"text\"\r\n}) => {\r\n  if (elementType === \"select\") {\r\n    return (\r\n      <Form.Group\r\n        controlId={controlId}\r\n        className={formGroupClassName}\r\n        as={Col}\r\n        lg={lg}\r\n        md={md}\r\n        sm={sm}\r\n        xs={xs}\r\n      >\r\n        <Form.Label className={labelClassName}>{label}</Form.Label>\r\n        <Form.Control\r\n          as={elementType}\r\n          value={value}\r\n          onChange={onChange}\r\n          name={name}\r\n          size=\"sm\"\r\n          plaintext={plaintext}\r\n        >\r\n          {option}\r\n        </Form.Control>\r\n      </Form.Group>\r\n    );\r\n  } else if (elementType === \"div\") {\r\n    return (\r\n      <Form.Group\r\n        controlId={controlId}\r\n        as={Col}\r\n        lg={lg}\r\n        md={md}\r\n        sm={sm}\r\n        xs={xs}\r\n      >\r\n        <Form.Label className={labelClassName}>{label}</Form.Label>\r\n        <Form.Control\r\n          as={elementType}\r\n          size=\"sm\"\r\n          style={{ border: \"none\", padding: \"0\" }}\r\n        >\r\n          <DatePicker\r\n            selected={selected}\r\n            dateFormat=\"dd/MM/yyyy\"\r\n            name={name}\r\n            placeholderText={placeholderText}\r\n            peekNextMonth={showMore}\r\n            showMonthDropdown={showMore}\r\n            showYearDropdown={showMore}\r\n            dropdownMode={showMore ? \"select\" : undefined}\r\n            minDate={minDate}\r\n            onChange={onChange}\r\n          />\r\n        </Form.Control>\r\n      </Form.Group>\r\n    );\r\n  } else {\r\n    return (\r\n      <Form.Group\r\n        controlId={controlId}\r\n        as={Col}\r\n        lg={lg}\r\n        md={md}\r\n        sm={sm}\r\n        xs={xs}\r\n      >\r\n        <Form.Label className={labelClassName}>{label}</Form.Label>\r\n        <Form.Control\r\n          placeholder={placeholder}\r\n          value={value}\r\n          onChange={onChange}\r\n          name={name}\r\n          size=\"sm\"\r\n          type={type}\r\n          plaintext={plaintext}\r\n        ></Form.Control>\r\n      </Form.Group>\r\n    );\r\n  }\r\n};\r\n\r\nCustomForm.propTypes = {\r\n  controlId: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  type: PropTypes.string,\r\n  value: PropTypes.any,\r\n  placeholder: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  elementType: PropTypes.string,\r\n  option: PropTypes.node,\r\n  labelClassName: PropTypes.string,\r\n  formGroupClassName: PropTypes.string,\r\n  showMore: PropTypes.bool,\r\n  minDate: PropTypes.node,\r\n  plaintext: PropTypes.bool,\r\n  lg: PropTypes.string,\r\n  md: PropTypes.string,\r\n  sm: PropTypes.string,\r\n  xs: PropTypes.string\r\n};\r\n\r\nexport default CustomForm;\r\n","import React from \"react\";\r\nimport { Card, Form, Col, Button } from \"react-bootstrap\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport PhoneInput from \"react-phone-input-2\";\r\nimport \"react-phone-input-2/lib/style.css\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport { addTraveler } from \"../../queries\";\r\nimport CustomForm from \"../CustomForm\";\r\n\r\nconst TravelersInfo = (props) => {\r\n  const stringifyNumber = (n) => {\r\n    let special = [\r\n      \"Zeroth\",\r\n      \"First\",\r\n      \"Second\",\r\n      \"Third\",\r\n      \"Fourth\",\r\n      \"Fifth\",\r\n      \"Sixth\",\r\n      \"Seventh\",\r\n      \"Eighth\",\r\n      \"Ninth\",\r\n      \"Tenth\",\r\n      \"Eleventh\",\r\n      \"Twelfth\",\r\n      \"Thirteenth\",\r\n      \"Fourteenth\",\r\n      \"Fifteenth\",\r\n      \"Sixteenth\",\r\n      \"Seventeenth\",\r\n      \"Eighteenth\",\r\n      \"Nineteenth\",\r\n    ];\r\n    let deca = [\r\n      \"Twent\",\r\n      \"Thirt\",\r\n      \"Fort\",\r\n      \"Fift\",\r\n      \"Sixt\",\r\n      \"Sevent\",\r\n      \"Eight\",\r\n      \"Ninet\",\r\n    ];\r\n\r\n    if (n < 20) return special[n];\r\n    if (n % 10 === 0) return deca[Math.floor(n / 10) - 2] + \"ieth\";\r\n    return deca[Math.floor(n / 10) - 2] + \"y-\" + special[n % 10];\r\n  };\r\n\r\n  let {\r\n    flightOffer,\r\n    dateOfBirth,\r\n    firstName,\r\n    middleName,\r\n    lastName,\r\n    title,\r\n    email,\r\n    phone,\r\n  } = props.data;\r\n  let {\r\n    handleDateChange,\r\n    handleEmailChange,\r\n    handleChangeFirstName,\r\n    handleChangeMiddleName,\r\n    handleChangeLastName,\r\n    handleChangeTitle,\r\n    onChangePhone,\r\n    handleSubmit,\r\n  } = props;\r\n  flightOffer.countAdult = 0;\r\n  flightOffer.countChildren = 0;\r\n  flightOffer.countInfant = 0;\r\n  return (\r\n    <Mutation mutation={addTraveler}>\r\n      {(addTraveler) => (\r\n        <Card>\r\n          <Card.Header\r\n            style={{\r\n              fontSize: \"1.5em\",\r\n              backgroundColor: \"#f68220\",\r\n              color: \"white\",\r\n            }}\r\n          >\r\n            TRAVELLER'S INFORMATION\r\n          </Card.Header>\r\n          <Card.Body className=\"mb-3 p-3\">\r\n            <Form>\r\n              {flightOffer[0].travelerPricings.map((traveler) => {\r\n                let type = \"\";\r\n                let passengerPosition = 0;\r\n                if (traveler.travelerType === \"ADULT\") {\r\n                  flightOffer.countAdult += 1;\r\n                  type = \"Adult\";\r\n                  passengerPosition = stringifyNumber(flightOffer.countAdult);\r\n                }\r\n                if (traveler.travelerType === \"CHILD\") {\r\n                  flightOffer.countChildren += 1;\r\n                  type = \"Child\";\r\n                  passengerPosition = stringifyNumber(\r\n                    flightOffer.countChildren\r\n                  );\r\n                }\r\n                if (traveler.travelerType === \"INFANT\") {\r\n                  flightOffer.countInfant += 1;\r\n                  type = \"Infant\";\r\n                  passengerPosition = stringifyNumber(flightOffer.countInfant);\r\n                }\r\n                return (\r\n                  <div key={traveler.travelerId} className=\"mb-4\">\r\n                    <Card.Title>\r\n                      {traveler.travelerId === \"1\"\r\n                        ? \"Adult (Primary Contact)\"\r\n                        : `${passengerPosition} ${type}`}\r\n                    </Card.Title>\r\n                    <Form.Row>\r\n                      <CustomForm\r\n                        controlId={`firstname${traveler.travelerId}`}\r\n                        label=\"First Name\"\r\n                        name={`firstname${type}${traveler.travelerId}`}\r\n                        placeholder=\"Enter First Name\"\r\n                        value={firstName.get(\r\n                          `firstname${type}${traveler.travelerId}`\r\n                        )}\r\n                        onChange={handleChangeFirstName}\r\n                        lg=\"4\"\r\n                        md=\"6\"\r\n                        sm=\"12\"\r\n                      />\r\n\r\n                      <CustomForm\r\n                        controlId={`middlename${traveler.travelerId}`}\r\n                        label=\"Middle Name\"\r\n                        name={`middlename${type}${traveler.travelerId}`}\r\n                        placeholder=\"Enter Middle Name\"\r\n                        value={middleName.get(\r\n                          `middlename${type}${traveler.travelerId}`\r\n                        )}\r\n                        onChange={handleChangeMiddleName}\r\n                        lg=\"4\"\r\n                        md=\"6\"\r\n                        sm=\"12\"\r\n                      />\r\n\r\n                      <CustomForm\r\n                        controlId={`lastname${traveler.travelerId}`}\r\n                        label=\"Last Name\"\r\n                        name={`lastname${type}${traveler.travelerId}`}\r\n                        placeholder=\"Enter Last Name\"\r\n                        value={lastName.get(\r\n                          `lastname${type}${traveler.travelerId}`\r\n                        )}\r\n                        onChange={handleChangeLastName}\r\n                        lg=\"4\"\r\n                        md=\"6\"\r\n                        sm=\"12\"\r\n                      />\r\n\r\n                      <CustomForm\r\n                        controlId={`title${traveler.travelerId}`}\r\n                        label=\"Title\"\r\n                        name={`title${type}${traveler.travelerId}`}\r\n                        elementType=\"select\"\r\n                        value={title.get(`title${type}${traveler.travelerId}`)}\r\n                        onChange={handleChangeTitle}\r\n                        option={\r\n                          <>\r\n                            <option>Mr</option>\r\n                            <option>Mrs</option>\r\n                            <option>Miss</option>\r\n                          </>\r\n                        }\r\n                        lg=\"6\"\r\n                        md=\"6\"\r\n                        sm=\"12\"\r\n                      />\r\n\r\n                      <CustomForm\r\n                        controlId={`date-of-birth${traveler.travelerId}`}\r\n                        elementType=\"div\"\r\n                        label=\"Date of Birth\"\r\n                        name={`dateOfBirth-${type}${traveler.travelerId}`}\r\n                        value={dateOfBirth.get(\r\n                          `dateOfBirth-${type}${traveler.travelerId}`\r\n                        )}\r\n                        id=\"date\"\r\n                        onChange={handleDateChange.bind(\r\n                          this,\r\n                          `dateOfBirth-${type}${traveler.travelerId}`\r\n                        )}\r\n                        placeholderText=\"DD/MM/YYYY\"\r\n                        selected={dateOfBirth.get(\r\n                          `dateOfBirth-${type}${traveler.travelerId}`\r\n                        )}\r\n                        lg=\"6\"\r\n                        md=\"6\"\r\n                        sm=\"12\"\r\n                      />\r\n\r\n                      {traveler.travelerId === \"1\" ? (\r\n                        <>\r\n                          <Form.Group\r\n                            controlId={`email${traveler.travelerId}`}\r\n                            as={Col}\r\n                            lg=\"6\"\r\n                            md=\"6\"\r\n                            sm=\"12\"\r\n                          >\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control\r\n                              type=\"email\"\r\n                              value={email}\r\n                              placeholder=\"Enter Email\"\r\n                              onChange={handleEmailChange}\r\n                            ></Form.Control>\r\n                          </Form.Group>\r\n\r\n                          <Form.Group\r\n                            controlId={`phonenumber${traveler.travelerId}`}\r\n                            as={Col}\r\n                            lg=\"6\"\r\n                            md=\"6\"\r\n                            sm=\"12\"\r\n                          >\r\n                            <Form.Label>Phone Number</Form.Label>\r\n                            <PhoneInput\r\n                              inputProps={{\r\n                                id: `phonenumber${traveler.travelerId}`,\r\n                                className: \"form-control phone-form-control\",\r\n                                required: true,\r\n                                autoFocus: true,\r\n                              }}\r\n                              country={\"ng\"}\r\n                              value={phone}\r\n                              onChange={(phone) => onChangePhone(phone)}\r\n                            />\r\n                          </Form.Group>\r\n                        </>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </Form.Row>\r\n                  </div>\r\n                );\r\n              })}\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                onClick={async (evt) => {\r\n                  evt.preventDefault();\r\n                  handleSubmit();\r\n                  await addTraveler({ variables: { input: props.traveler } });\r\n                }}\r\n              >\r\n                Continue\r\n              </Button>\r\n            </Form>\r\n          </Card.Body>\r\n        </Card>\r\n      )}\r\n    </Mutation>\r\n  );\r\n};\r\n\r\nexport default TravelersInfo;\r\n","import React from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\n\r\nfunction SelectedFlightInfo(props) {\r\n  const { userInfo, flightOffer } = props;\r\n\r\n  // Get the number of adults, children and infants\r\n  let countAdult = 0;\r\n  let countChildren = 0;\r\n  let countInfant = 0;\r\n  flightOffer[0].travelerPricings.map((traveler) => {\r\n    if (traveler.travelerType === \"ADULT\") countAdult += 1;\r\n    if (traveler.travelerType === \"CHILD\") countChildren += 1;\r\n    if (traveler.travelerType === \"HELD_INFANT\") countInfant += 1;\r\n    return `Adults: ${countAdult}, Children: ${countChildren}, Infants: ${countInfant}`;\r\n  });\r\n\r\n  // Get a unique flightOffer array which contains one object for adults, children, and infants each\r\n  const unique = flightOffer[0].travelerPricings.reduce(\r\n    (accumulator, traveler) =>\r\n      accumulator.concat(\r\n        accumulator.find(\r\n          (travelerObj) => travelerObj.travelerType === traveler.travelerType\r\n        )\r\n          ? []\r\n          : [traveler]\r\n      ),\r\n    []\r\n  );\r\n\r\n  const uniqueTravelerPricings = flightOffer.map((flight) =>\r\n    flight.travelerPricings.reduce(\r\n      (accumulator, traveler) =>\r\n        accumulator.concat(\r\n          accumulator.find(\r\n            (travelerObj) => travelerObj.travelerType === traveler.travelerType\r\n          )\r\n            ? []\r\n            : [traveler]\r\n        ),\r\n      []\r\n    )\r\n  );\r\n\r\n  console.log(uniqueTravelerPricings);\r\n  console.log(unique);\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header\r\n        style={{\r\n          fontSize: \"1.5em\",\r\n          backgroundColor: \"#f68220\",\r\n          color: \"white\",\r\n        }}\r\n      >\r\n        Selected Flight\r\n      </Card.Header>\r\n\r\n      <Card.Body className=\"mb-3 p-3\">\r\n        <Card.Title>\r\n          {`${userInfo.from[0][1].address.cityName} to ${\r\n            userInfo.to[userInfo.to.length - 1][1].address.cityName\r\n          } - Round Trip`}\r\n          <hr />\r\n        </Card.Title>\r\n        {uniqueTravelerPricings[0].map((traveler, index) => {\r\n          // Check if the passenger is an infant and put the name in the right format\r\n          if (traveler.travelerType === \"HELD_INFANT\")\r\n            traveler.travelerType = traveler.travelerType.split(\"_\")[1];\r\n\r\n          // Get the base flight price\r\n          let basePrice = uniqueTravelerPricings.reduce(\r\n            (total, trip) => total + Number(trip[index].price.base),\r\n            0\r\n          );\r\n\r\n          // Get the total flight price\r\n          let totalPrice = uniqueTravelerPricings.reduce(\r\n            (total, trip) => total + Number(trip[index].price.total),\r\n            0\r\n          );\r\n\r\n          // Get the total tax and other fees\r\n          let taxAndFees = totalPrice - basePrice;\r\n\r\n          // Get the refundable taxes\r\n          let refundableTaxes = uniqueTravelerPricings.reduce(\r\n            (total, trip) => total + Number(trip[index].price.refundableTaxes),\r\n            0\r\n          );\r\n\r\n          // Get the currency\r\n          let currency = traveler.price.currency;\r\n\r\n          console.log(\r\n            totalPrice,\r\n            basePrice,\r\n            taxAndFees,\r\n            refundableTaxes,\r\n            currency\r\n          );\r\n          return (\r\n            <div key={traveler.travelerId}>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  marginBottom: \"1em\",\r\n                }}\r\n              >\r\n                <span>{` Price per ${traveler.travelerType.toLowerCase()}`}</span>\r\n                <span>\r\n                  {new Intl.NumberFormat(\"en-NG\", {\r\n                    style: \"currency\",\r\n                    currency: currency,\r\n                  }).format(Number(basePrice.toFixed(2)))}\r\n                </span>\r\n                {/* <span>{traveler.price.base}</span> */}\r\n              </div>\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  marginBottom: \"1em\",\r\n                }}\r\n              >\r\n                <span>{`Taxes and fees per ${traveler.travelerType.toLowerCase()}`}</span>\r\n                <span>\r\n                  {new Intl.NumberFormat(\"en-NG\", {\r\n                    style: \"currency\",\r\n                    currency: currency,\r\n                  }).format(Number(taxAndFees.toFixed(2)))}\r\n                </span>\r\n              </div>\r\n\r\n              {traveler.price.refundableTaxes !== undefined ? (\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    marginBottom: \"1em\",\r\n                  }}\r\n                >\r\n                  <span>{`Refundable taxes per ${traveler.travelerType.toLowerCase()}`}</span>\r\n                  <span>\r\n                    {new Intl.NumberFormat(\"en-NG\", {\r\n                      style: \"currency\",\r\n                      currency: currency,\r\n                    }).format(Number(refundableTaxes.toFixed(2)))}\r\n                  </span>\r\n                </div>\r\n              ) : null}\r\n              <hr />\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            fontWeight: \"bold\",\r\n          }}\r\n        >\r\n          <span>Total Price</span>\r\n          <span>\r\n            {new Intl.NumberFormat(\"en-NG\", {\r\n              style: \"currency\",\r\n              currency: uniqueTravelerPricings[0][0].price.currency,\r\n            }).format(\r\n              flightOffer.reduce(\r\n                (total, flightPrice) =>\r\n                  total + flightPrice.price.grandTotal * 1,\r\n                0\r\n              )\r\n            )}\r\n          </span>\r\n        </div>\r\n\r\n        <hr />\r\n        {flightOffer.map((trip) =>\r\n          trip.itineraries.map((itinerary) => {\r\n            return (\r\n              <div key={itinerary.segments[0].id}>\r\n                {`${itinerary.segments[0].departure.iataCode} -\r\n                        ${\r\n                          itinerary.segments[itinerary.segments.length - 1]\r\n                            .arrival.iataCode\r\n                        }`}\r\n                <hr />\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n\r\n        <hr />\r\n        <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n          <div className=\"mr-2\">Book Online</div>\r\n          <div className=\"mr-2\">Or</div>\r\n          <div>Call +2348161128204, +2349026622600</div>\r\n        </div>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default SelectedFlightInfo;\r\n","import React from \"react\";\r\nimport { Container, Row, Col, Alert } from \"react-bootstrap\";\r\nimport TravelersInfo from \"./TravelersInfo\";\r\nimport SelectedFlightInfo from \"./SelectedFlightInfo\";\r\nimport { Map } from \"immutable\";\r\n\r\nclass OfferAvailabilityResult extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      flightOffer: this.props.data.map(\r\n        (trip) => trip.checkOffer.data.flightOffers[0]\r\n      ),\r\n      dateOfBirth: new Map(),\r\n      showAlert: true,\r\n      firstName: new Map(),\r\n      middleName: new Map(),\r\n      lastName: new Map(),\r\n      title: new Map(),\r\n      email: \"\",\r\n      phone: \"\",\r\n    };\r\n    this.traveler = {};\r\n  }\r\n\r\n  handleChangeFirstName = (evt) => {\r\n    const item = evt.target.name;\r\n    const value = evt.target.value;\r\n    this.setState((prevState) => ({\r\n      firstName: prevState.firstName.set(item, value),\r\n    }));\r\n  };\r\n\r\n  handleChangeMiddleName = (evt) => {\r\n    const item = evt.target.name;\r\n    const value = evt.target.value;\r\n    this.setState((prevState) => ({\r\n      middleName: prevState.middleName.set(item, value),\r\n    }));\r\n  };\r\n\r\n  handleChangeLastName = (evt) => {\r\n    const item = evt.target.name;\r\n    const value = evt.target.value;\r\n    this.setState((prevState) => ({\r\n      lastName: prevState.lastName.set(item, value),\r\n    }));\r\n  };\r\n\r\n  handleChangeTitle = (evt) => {\r\n    const item = evt.target.name;\r\n    const value = evt.target.value;\r\n    this.setState((prevState) => ({\r\n      title: prevState.title.set(item, value),\r\n    }));\r\n  };\r\n\r\n  handleEmailChange = (evt) => {\r\n    this.setState({ email: evt.target.value });\r\n    console.log(this.state);\r\n  };\r\n\r\n  onChangePhone = (phone) => {\r\n    this.setState({ phone });\r\n    console.log(this.state);\r\n  };\r\n\r\n  handleDateChange = (name, date) => {\r\n    const item = name;\r\n    const value = date;\r\n    this.setState((prevState) => ({\r\n      dateOfBirth: prevState.dateOfBirth.set(item, value),\r\n    }));\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    // Declare variables to store the inputted traveler info\r\n    let firstName = [];\r\n    let middleName = [];\r\n    let lastName = [];\r\n    let dateOfBirth = [];\r\n    let title = [];\r\n\r\n    // Push the key value pair of traveler details to the variables declared above\r\n    this.state.firstName.forEach((val, key) => firstName.push([key, val]));\r\n    this.state.lastName.forEach((val, key) => lastName.push([key, val]));\r\n    this.state.middleName.forEach((val, key) => middleName.push([key, val]));\r\n    this.state.dateOfBirth.forEach((val, key) => dateOfBirth.push([key, val]));\r\n    this.state.title.forEach((val, key) => title.push([key, val]));\r\n\r\n    // Store the formatted variable in an object.\r\n    this.traveler.firstName = firstName;\r\n    this.traveler.middleName = middleName;\r\n    this.traveler.lastName = lastName;\r\n    this.traveler.dateOfBirth = dateOfBirth;\r\n    this.traveler.title = title;\r\n    this.traveler.email = this.state.email;\r\n    this.traveler.phoneNum = this.state.phone;\r\n    console.log(this.traveler);\r\n    return this.traveler;\r\n  };\r\n\r\n  render() {\r\n    const flightOffer = this.state.flightOffer;\r\n    const warnings = this.props.data.map((trip) => trip.checkOffer.warnings);\r\n    const userInfo = this.props.userInfo;\r\n    console.log(this.state);\r\n    console.log(warnings);\r\n    let hasWarnings;\r\n    if (warnings.includes(null)) {\r\n      hasWarnings = false;\r\n    } else {\r\n      hasWarnings = true;\r\n    }\r\n\r\n    return (\r\n      <Container\r\n        fluid\r\n        // classname=\"p-4\"\r\n        style={{\r\n          marginTop: \"2em\",\r\n          //  padding: \"1.5em\",\r\n          paddingTop: \"0\",\r\n        }}\r\n      >\r\n        {this.state.showAlert && hasWarnings\r\n          ? warnings.map((warnList) =>\r\n              warnList.map((warn) => {\r\n                if (warn.status === 200) {\r\n                  return (\r\n                    <Alert\r\n                      key={warn.code}\r\n                      variant=\"warning\"\r\n                      onClose={() => this.setState({ showAlert: false })}\r\n                      dismissible\r\n                      className=\"mb-3\"\r\n                    >\r\n                      <Alert.Heading>\r\n                        {warn.title.split(/(?=[A-Z])/).join(\" \")}\r\n                      </Alert.Heading>\r\n                      <p>{warn.detail}</p>\r\n                    </Alert>\r\n                  );\r\n                } else {\r\n                  return \"\";\r\n                }\r\n              })\r\n            )\r\n          : \"\"}\r\n\r\n        <Row>\r\n          <Col md={12} lg={4} className=\"mb-5\">\r\n            <SelectedFlightInfo userInfo={userInfo} flightOffer={flightOffer} />\r\n          </Col>\r\n\r\n          <Col md={12} lg={8}>\r\n            <TravelersInfo\r\n              data={this.state}\r\n              handleDateChange={this.handleDateChange}\r\n              handleEmailChange={this.handleEmailChange}\r\n              handleChangeFirstName={this.handleChangeFirstName}\r\n              handleChangeMiddleName={this.handleChangeMiddleName}\r\n              handleChangeLastName={this.handleChangeLastName}\r\n              handleChangeTitle={this.handleChangeTitle}\r\n              onChangePhone={this.onChangePhone}\r\n              handleSubmit={this.handleSubmit}\r\n              traveler={this.traveler}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OfferAvailabilityResult;\r\n","import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { adopt } from \"react-adopt\";\r\nimport { checkOfferQuery } from \"../../queries\";\r\nimport OfferAvailabilityResult from \"./OfferAvailabilityResult\";\r\n\r\nconst checkOfferAvailability = (props) => {\r\n  let { joinedQueryVariable, userInfo } = props.location.state;\r\n  let queryObj = {};\r\n\r\n  console.log(userInfo);\r\n  console.log(joinedQueryVariable);\r\n  joinedQueryVariable.map((queryVariable, index) => {\r\n    let key = index;\r\n    return (queryObj[key] = ({ render }) => (\r\n      <Query query={checkOfferQuery} variables={{ input: queryVariable }}>\r\n        {render}\r\n      </Query>\r\n    ));\r\n  });\r\n\r\n  console.log(queryObj);\r\n  const Composed = adopt(queryObj);\r\n\r\n  return (\r\n    <Composed>\r\n      {(result) => {\r\n        let allData = [];\r\n        for (let name in queryObj) {\r\n          if (result[name].loading)\r\n            return (\r\n              <div className=\"query_status\">\r\n                <Spinner\r\n                  animation=\"border\"\r\n                  size=\"lg\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                >\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </Spinner>\r\n              </div>\r\n            );\r\n          if (result[name].error) {\r\n            console.log(result[name].error);\r\n            return (\r\n              <div className=\"query_status\">\r\n                Sorry, we are currently unable to check this flight\r\n                availability. Please try again.\r\n              </div>\r\n            );\r\n          }\r\n          allData.push(result[name].data);\r\n        }\r\n        console.log(allData);\r\n\r\n        if (allData.some((tripData) => tripData.checkOffer === null)) {\r\n          return (\r\n            <div className=\"query_status\">\r\n              No Result Found, please try again\r\n            </div>\r\n          );\r\n        }\r\n\r\n        return <OfferAvailabilityResult data={allData} userInfo={userInfo} />;\r\n      }}\r\n    </Composed>\r\n  );\r\n};\r\n\r\nexport default checkOfferAvailability;\r\n","import React from \"react\";\r\nimport CustomForm from \"../CustomForm\";\r\nimport { getNames } from \"country-list\";\r\nimport { Form, Col, Row } from \"react-bootstrap\";\r\nimport PhoneInput from \"react-phone-input-2\";\r\n\r\nconst PersonalInfo = props => {\r\n  return (\r\n    <Row>\r\n      <CustomForm\r\n        controlId=\"title\"\r\n        labelClassName=\"font-weight-bold\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Title\"\r\n        name=\"title\"\r\n        value={props.title}\r\n        onChange={props.handleChange}\r\n        elementType=\"select\"\r\n        option={\r\n          <>\r\n            <option>Select</option>\r\n            <option>Dr</option>\r\n            <option>Hon</option>\r\n            <option>HRH</option>\r\n            <option>Mr</option>\r\n            <option>MISS</option>\r\n            <option>Mrs</option>\r\n            <option>Prof</option>\r\n            <option>Pst</option>\r\n            <option>Sen</option>\r\n          </>\r\n        }\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"firstName\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"First Name\"\r\n        name=\"firstName\"\r\n        placeholder=\"Enter First Name\"\r\n        value={props.firstName}\r\n        onChange={props.handleChange}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"middleName\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Middle Name\"\r\n        name=\"middleName\"\r\n        placeholder=\"Enter Middle Name\"\r\n        value={props.middleName}\r\n        onChange={props.handleChange}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"lastName\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Last Name\"\r\n        name=\"lastName\"\r\n        placeholder=\"Enter Last Name\"\r\n        value={props.lastName}\r\n        onChange={props.handleChange}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"dateOfBirth\"\r\n        formGroupClassName=\"mb-3\"\r\n        elementType=\"div\"\r\n        label=\"Date of Birth\"\r\n        name=\"dateOfBirth\"\r\n        value={props.dateOfBirth}\r\n        id=\"date\"\r\n        onChange={props.handleDateChange.bind(props, \"dateOfBirth\")}\r\n        placeholderText=\"DD/MM/YYYY\"\r\n        selected={props.dateOfBirth}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"status\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Marital Status\"\r\n        name=\"status\"\r\n        value={props.status}\r\n        onChange={props.handleChange}\r\n        elementType=\"select\"\r\n        option={\r\n          <>\r\n            <option>Select</option>\r\n            <option>Single</option>\r\n            <option>Married</option>\r\n            <option>Divorced</option>\r\n          </>\r\n        }\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"gender\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Gender\"\r\n        name=\"gender\"\r\n        value={props.gender}\r\n        onChange={props.handleChange}\r\n        elementType=\"select\"\r\n        option={\r\n          <>\r\n            <option>Select</option>\r\n            <option>Male</option>\r\n            <option>Female</option>\r\n          </>\r\n        }\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <Form.Group\r\n        controlId=\"phone\"\r\n        className=\"mb-3\"\r\n        as={Col}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      >\r\n        <Form.Label className=\"font-weight-bold\">Phone Number</Form.Label>\r\n        <PhoneInput\r\n          inputProps={{\r\n            id: \"phone\",\r\n            className: \"form-control phone-form-control\",\r\n            required: true,\r\n            autoFocus: true\r\n          }}\r\n          country={\"ng\"}\r\n          value={props.phone}\r\n          onChange={phone => props.onChangePhone(phone)}\r\n        />\r\n      </Form.Group>\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"email\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Email\"\r\n        name=\"email\"\r\n        placeholder=\"Enter Email\"\r\n        value={props.email}\r\n        onChange={props.handleChange}\r\n        type=\"email\"\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        controlId=\"nationality\"\r\n        labelClassName=\"font-weight-bold\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Nationality\"\r\n        name=\"nationality\"\r\n        value={props.nationality}\r\n        onChange={props.handleChange}\r\n        elementType=\"select\"\r\n        option={\r\n          <>\r\n            {getNames().map(name => {\r\n              return <option>{name}</option>;\r\n            })}\r\n          </>\r\n        }\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"employmentStatus\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Employment Status\"\r\n        name=\"employmentStatus\"\r\n        value={props.employmentStatus}\r\n        onChange={props.handleChange}\r\n        elementType=\"select\"\r\n        option={\r\n          <>\r\n            <option>Select</option>\r\n            <option>Employed</option>\r\n            <option>Self Employed</option>\r\n            <option>Unemployed</option>\r\n          </>\r\n        }\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"address\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Address\"\r\n        name=\"address\"\r\n        placeholder=\"Enter Address\"\r\n        value={props.address}\r\n        onChange={props.handleChange}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default PersonalInfo;\r\n","import React from \"react\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport CustomForm from \"../CustomForm\";\r\n\r\nconst TravelInfo = props => {\r\n  return (\r\n    <Row>\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"departureDate\"\r\n        formGroupClassName=\"mb-3\"\r\n        elementType=\"div\"\r\n        label=\"Intended Departure Date\"\r\n        name=\"departureDate\"\r\n        value={props.departureDate}\r\n        id=\"departureDate\"\r\n        onChange={props.handleDateChange.bind(this, \"departureDate\")}\r\n        selected={props.departureDate}\r\n        minDate={new Date()}\r\n        showMore={false}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"returnDate\"\r\n        formGroupClassName=\"mb-3\"\r\n        elementType=\"div\"\r\n        label=\"Intended Return Date\"\r\n        name=\"returnDate\"\r\n        value={props.returnDate}\r\n        id=\"returnDate\"\r\n        onChange={props.handleDateChange.bind(props, \"returnDate\")}\r\n        selected={props.returnDate}\r\n        minDate={new Date()}\r\n        showMore={false}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        controlId=\"destination\"\r\n        labelClassName=\"font-weight-bold\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Destination Country\"\r\n        name=\"destination\"\r\n        value={props.destination}\r\n        plainText={true}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      {/* <CustomForm\r\n                    controlId=\"destination\"\r\n                    labelClassName=\"font-weight-bold\"\r\n                    formGroupClassName=\"mb-3\"\r\n                    label=\"Destination Country\"\r\n                    name=\"destination\"\r\n                    value={props.destination}\r\n                    // onChange={props.handleChange}\r\n                    elementType=\"select\"\r\n                    option={\r\n                      <>\r\n                        {getNames().map(name => {\r\n                          return <option>{name}</option>;\r\n                        })}\r\n                      </>\r\n                    }\r\n                    lg=\"4\"\r\n                    md=\"6\"\r\n                    sm=\"12\"\r\n                  /> */}\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"passportNum\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Passport Number\"\r\n        name=\"passportNum\"\r\n        placeholder=\"Enter Passport Number\"\r\n        value={props.passportNum}\r\n        onChange={props.handleChange}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"passportExpiryDate\"\r\n        formGroupClassName=\"mb-3\"\r\n        elementType=\"div\"\r\n        label=\"Passport Expiry Date\"\r\n        name=\"passportExpiryDate\"\r\n        value={props.passportExpiryDate}\r\n        id=\"passportExpiryDate\"\r\n        onChange={props.handleDateChange.bind(props, \"passportExpiryDate\")}\r\n        selected={props.passportExpiryDate}\r\n        placeholderText=\"DD/MM/YYYY\"\r\n        minDate={new Date()}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n\r\n      {/* <Form.Group\r\n        controlId=\"phone\"\r\n        className=\"mb-3\"\r\n        as={Col}\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      >\r\n        <Form.Label className=\"font-weight-bold\">Passport Data Page</Form.Label>\r\n        <Form.Control type=\"file\" onChange={props.onChangeFile} />\r\n      </Form.Group> */}\r\n\r\n      <CustomForm\r\n        labelClassName=\"font-weight-bold\"\r\n        controlId=\"travelHistory\"\r\n        formGroupClassName=\"mb-3\"\r\n        label=\"Have you travelled outside your country of residence in the last five years?\"\r\n        name=\"travelHistory\"\r\n        value={props.travelHistory}\r\n        onChange={props.handleChange}\r\n        elementType=\"select\"\r\n        option={\r\n          <>\r\n            <option>Select</option>\r\n            <option>Yes</option>\r\n            <option>No</option>\r\n          </>\r\n        }\r\n        lg=\"4\"\r\n        md=\"6\"\r\n        sm=\"12\"\r\n      />\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default TravelInfo;\r\n","import React from \"react\";\r\nimport { Container, Form, Button, Card } from \"react-bootstrap\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport { addVisaRequest } from \"../../queries\";\r\nimport PersonalInfo from \"./PersonalInfo\";\r\nimport TravelInfo from \"./TravelInfo\";\r\n\r\nclass VisaForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firstName: \"\",\r\n      middleName: \"\",\r\n      lastName: \"\",\r\n      title: \"\",\r\n      gender: \"\",\r\n      dateOfBirth: \"\",\r\n      status: \"\",\r\n      phoneNum: \"\",\r\n      nationality: \"Nigeria\",\r\n      employmentStatus: \"\",\r\n      address: \"\",\r\n      departureDate: new Date(),\r\n      returnDate: new Date(),\r\n      travelHistory: \"\",\r\n      destination: \"United Arab Emirates\",\r\n      passportExpiryDate: \"\",\r\n      passportNum: \"\",\r\n      email: \"\",\r\n      // selectedFile: null\r\n    };\r\n    this.handleHideFooter = this.props.handleHideFooter;\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.handleHideFooter(true);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    this.handleHideFooter(false);\r\n  };\r\n\r\n  handleChange = (evt) => {\r\n    let value = evt.target.value;\r\n    this.setState({\r\n      [evt.target.name]: value,\r\n    });\r\n  };\r\n\r\n  onChangePhone = (phone) => {\r\n    this.setState({ phoneNum: phone });\r\n  };\r\n\r\n  handleDateChange = (name, date) => {\r\n    console.log(date);\r\n    this.setState({\r\n      [name]: date,\r\n    });\r\n  };\r\n\r\n  // onChangeFile = evt => {\r\n  //   console.log(evt.target.files[0]);\r\n  //   this.setState({\r\n  //     selectedFile: evt.target.files[0]\r\n  //   });\r\n  // };\r\n\r\n  render() {\r\n    console.log(this.state);\r\n    return (\r\n      <Mutation mutation={addVisaRequest}>\r\n        {(addVisaRequest) => (\r\n          <Container fluid className=\"p-0\">\r\n            <Container>\r\n              <h2 className=\"mb-5 mt-5\">UAE Visa Application Form</h2>\r\n              <Card>\r\n                <Card.Header\r\n                  className=\"text-center\"\r\n                  style={{\r\n                    // backgroundColor: \"#f68220\",\r\n                    backgroundColor: \"#41225f\",\r\n                    color: \"white\",\r\n                    fontSize: \"18px\",\r\n                  }}\r\n                >\r\n                  <p>Fill this form to get Visa processing assistance</p>\r\n                  <p>\r\n                    We make visa processing easy,{\" \"}\r\n                    <span className=\"font-weight-bold\">NO DOWN PAYMENT</span>\r\n                  </p>\r\n                </Card.Header>\r\n                <Card.Body className=\"p-3\">\r\n                  <h3 className=\"font-weight-bold mb-4\">\r\n                    PERSONAL INFORMATION\r\n                  </h3>\r\n                  <Form\r\n                    onSubmit={async (evt) => {\r\n                      evt.preventDefault();\r\n                    }}\r\n                  >\r\n                    <PersonalInfo\r\n                      firstName={this.state.firstName}\r\n                      middleName={this.state.middleName}\r\n                      lastName={this.state.lastName}\r\n                      title={this.state.title}\r\n                      gender={this.state.gender}\r\n                      dateOfBirth={this.state.dateOfBirth}\r\n                      status={this.state.status}\r\n                      phone={this.state.phoneNum}\r\n                      nationality={this.state.nationality}\r\n                      employmentStatus={this.state.employmentStatus}\r\n                      address={this.state.address}\r\n                      email={this.state.email}\r\n                      handleChange={this.handleChange}\r\n                      handleDateChange={this.handleDateChange}\r\n                      onChangePhone={this.onChangePhone}\r\n                    />\r\n\r\n                    <h3 className=\"font-weight-bold mb-4 mt-5\">\r\n                      TRAVEL INFORMATION\r\n                    </h3>\r\n\r\n                    <TravelInfo\r\n                      departureDate={this.state.departureDate}\r\n                      returnDate={this.state.returnDate}\r\n                      travelHistory={this.state.travelHistory}\r\n                      destination={this.state.destination}\r\n                      passportExpiryDate={this.state.passportExpiryDate}\r\n                      passportNum={this.state.passportNum}\r\n                      // selectedFile={this.state.selectedFile}\r\n                      handleChange={this.handleChange}\r\n                      handleDateChange={this.handleDateChange}\r\n                      onChangePhone={this.onChangePhone}\r\n                      // onChangeFile={this.onChangeFile}\r\n                    />\r\n\r\n                    <Button\r\n                      variant=\"primary\"\r\n                      type=\"submit\"\r\n                      onClick={async (evt) => {\r\n                        evt.preventDefault();\r\n                        console.log(\"it is working\");\r\n                        await addVisaRequest({\r\n                          variables: { input: this.state },\r\n                        });\r\n                      }}\r\n                    >\r\n                      Submit\r\n                    </Button>\r\n                  </Form>\r\n                </Card.Body>\r\n              </Card>\r\n            </Container>\r\n            <div\r\n              style={{\r\n                // backgroundColor: \"rgb(123, 123, 204)\",\r\n                backgroundColor: \"#41225f\",\r\n                color: \"#fff\",\r\n                marginTop: \"8em\",\r\n                marginBottom: \"-500px\",\r\n                padding: \"2em\",\r\n              }}\r\n            >\r\n              <h3>Visa Processing Service</h3>\r\n              <p>\r\n                Ultimate travels have seasoned, specialized and experienced\r\n                experts in visa processing. Our visa processing services\r\n                includes helping you to complete your visa application forms,\r\n                vetting documents, getting appointment dates, profiling,\r\n                conducting pre-interview session where applicable and making\r\n                sure you have a very high chance of getting the visa. We do not\r\n                encourage immigration defaults and kindly note that issuance of\r\n                visas is at the discretion of the embassy. Your visa processing\r\n                is in safe hands with Ultimate travels.\r\n                <span className=\"font-weight-bold\">\r\n                  We do not accept any form of payment until your visa is ready.\r\n                </span>\r\n              </p>\r\n              <p>\r\n                Contact us for any visa related questions. Email:\r\n                ultimatetravelsltd@gmail.com, Phone: 08161128204\r\n              </p>\r\n              <p> 2019 Ultimate Travels. All Rights Reserved.</p>\r\n            </div>\r\n          </Container>\r\n        )}\r\n      </Mutation>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VisaForm;\r\n","import React from \"react\";\r\nimport { Card, Row, Col, Button, Image } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass HotelResultList extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      redirect: null,\r\n      redirectHotelData: null,\r\n    };\r\n  }\r\n\r\n  showMore = (hotel) => {\r\n    this.setState({\r\n      redirect: \"/showMore\",\r\n      redirectHotelData: hotel,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let { hotelData, userInfo } = this.props;\r\n    console.log(userInfo);\r\n\r\n    if (this.state.redirect) {\r\n      return (\r\n        <Redirect\r\n          push\r\n          to={{\r\n            pathname: this.state.redirect,\r\n            state: {\r\n              hotelData: this.state.redirectHotelData,\r\n              userInfo: { userInfo },\r\n            },\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {/* present the flight result in an array of cards */}\r\n        {hotelData.length > 0\r\n          ? hotelData.map((hotel, index) => {\r\n              if (hotel.hotel.media === null) return \"\";\r\n              // Display star ratings\r\n              let ratings = [];\r\n              let hotelRatings = hotel.hotel.rating;\r\n              let numRatings = hotelRatings ? hotelRatings * 1 : null;\r\n              if (numRatings) {\r\n                for (let i = 1; i <= 5; i++) {\r\n                  if (numRatings >= i) {\r\n                    ratings.push(\r\n                      <FontAwesomeIcon\r\n                        key={i}\r\n                        icon={[\"fas\", \"star\"]}\r\n                        style={{ color: \"orange\" }}\r\n                        size=\"lg\"\r\n                      />\r\n                    );\r\n                  } else {\r\n                    ratings.push(\r\n                      <FontAwesomeIcon\r\n                        key={i}\r\n                        icon={[\"far\", \"star\"]}\r\n                        style={{ color: \"orange\" }}\r\n                        size=\"lg\"\r\n                      />\r\n                    );\r\n                  }\r\n                }\r\n              }\r\n\r\n              return (\r\n                <Card\r\n                  key={index}\r\n                  className=\"mb-3\"\r\n                  style={{ fontWeight: \"bold\" }}\r\n                  // style={{ width: \"68%\", marginLeft: \"auto\" }}\r\n                >\r\n                  <Card.Body classname=\"p-3\">\r\n                    <Row className=\"mb-2\">\r\n                      <Col xs={3}>\r\n                        <Image src={hotel.hotel.media[0].uri} fluid />\r\n                      </Col>\r\n\r\n                      <Col\r\n                        xs={6}\r\n                        className=\"d-flex flex-column justify-content-between\"\r\n                        // className={length === 1 ? \"align-self-center\" : \"\"}\r\n                      >\r\n                        <div>\r\n                          <div className=\"md-2\" style={{ fontSize: \"16px\" }}>\r\n                            {hotel.hotel.name}\r\n                          </div>\r\n                          <span>\r\n                            <FontAwesomeIcon\r\n                              icon={[\"fas\", \"map-marker-alt\"]}\r\n                              className=\"mr-2\"\r\n                              style={{ color: \"orange\" }}\r\n                              size=\"lg\"\r\n                            />\r\n                            {hotel.hotel.address.lines.join(\", \")}\r\n                          </span>\r\n                        </div>\r\n                        {/* {hotel.hotel.description ? (\r\n                          <div>{hotel.hotel.description.text}</div>\r\n                        ) : (\r\n                          \"\"\r\n                        )} */}\r\n                        <div>\r\n                          {hotel.offers[0].room.typeEstimated &&\r\n                          hotel.offers[0].room.typeEstimated.category\r\n                            ? hotel.offers[0].room.typeEstimated.category\r\n                                .split(\"_\")\r\n                                .join(\" \")\r\n                            : \"\"}\r\n                        </div>\r\n                        <Button\r\n                          style={{\r\n                            width: \"fit-content\",\r\n                            backgroundColor: \"orange\",\r\n                            border: \"none\",\r\n                            color: \"white\",\r\n                          }}\r\n                          onClick={this.showMore.bind(this, hotel)}\r\n                        >\r\n                          View more\r\n                        </Button>\r\n                      </Col>\r\n\r\n                      <Col\r\n                        className=\"d-flex flex-column justify-content-center\"\r\n                        xs={3}\r\n                      >\r\n                        {/* <span>&#8358;</span> */}\r\n                        <div>\r\n                          {numRatings ? ratings : \"No ratings available\"}\r\n                        </div>\r\n\r\n                        <div>\r\n                          From{\" \"}\r\n                          {new Intl.NumberFormat(\"en-NG\", {\r\n                            style: \"currency\",\r\n                            currency: hotel.offers[0].price.currency,\r\n                          }).format(hotel.offers[0].price.total * 1)}\r\n                          {/* {new Intl.NumberFormat(\"en-US\", {\r\n                            style: \"currency\",\r\n                            currency: hotel.offers[0].price.currency\r\n                          }).format(hotel.offers[0].price.total * 1)} */}\r\n                        </div>\r\n\r\n                        <div>\r\n                          <Button\r\n                          // onClick={() => this.handleCheckOffer(flight.id)}\r\n                          >\r\n                            Book Now\r\n                          </Button>\r\n                        </div>\r\n                      </Col>\r\n                      <br />\r\n                      <br />\r\n                    </Row>\r\n                  </Card.Body>\r\n                </Card>\r\n              );\r\n            })\r\n          : \"No result matches your search\"}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HotelResultList;\r\n","import React from \"react\";\r\nimport { Table, Button } from \"react-bootstrap\";\r\n\r\nclass HotelResultHeading extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      redirect: null,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let info = this.props.userInfo;\r\n\r\n    return (\r\n      <Table\r\n        borderless\r\n        responsive\r\n        size=\"sm\"\r\n        style={{\r\n          backgroundColor: \"#dee2e6\",\r\n          padding: \"1.5em\",\r\n          marginTop: \"1.5em\",\r\n          marginBottom: \"1.5em\",\r\n        }}\r\n      >\r\n        <thead>\r\n          <tr>\r\n            <th>Destination</th>\r\n            <th>Check in date</th>\r\n            <th>Check out date</th>\r\n            <th>Number of rooms</th>\r\n            <th>Adults</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>{info.from.name}</td>\r\n            <td>{info.checkIn.toISOString().split(\"T\")[0]}</td>\r\n            <td>{info.checkOut.toISOString().split(\"T\")[0]}</td>\r\n            <td>{info.rooms}</td>\r\n            <td>{info.adults}</td>\r\n            <td>\r\n              <Button>Modify Search</Button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HotelResultHeading;\r\n","import React from \"react\";\r\nimport { Collapse, Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Nouislider from \"nouislider-react\";\r\nimport \"nouislider/distribute/nouislider.css\";\r\nimport CheckBox from \"../CheckBox\";\r\n\r\nclass FilterHotels extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      openStars: true,\r\n      prices: false,\r\n      priceValue: [0, 100],\r\n      priceRange: { min: 0, max: 100 }\r\n    };\r\n  }\r\n\r\n  onClickStars = () => {\r\n    this.setState(prevState => ({\r\n      openStars: !prevState.openStars\r\n    }));\r\n  };\r\n\r\n  onClickPrices = () => {\r\n    let priceList = [];\r\n    this.props.hotelData.map(data =>\r\n      priceList.push(data.offers[0].price.total * 1)\r\n    );\r\n    this.setState(prevState => ({\r\n      prices: !prevState.prices,\r\n      priceValue: [Math.min(...priceList), Math.max(...priceList)],\r\n      priceRange: {\r\n        min: Math.min(...priceList),\r\n        max: Math.max(...priceList)\r\n      }\r\n    }));\r\n  };\r\n\r\n  onPriceSlide = (render, handle, value, un, percent) => {\r\n    console.log(render);\r\n    console.log(handle);\r\n    console.log(un);\r\n    this.setState({\r\n      priceValue: [value[0].toFixed(2), value[1].toFixed(2)]\r\n    });\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state);\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          style={{\r\n            backgroundColor: \"rgb(123, 123, 204)\",\r\n            padding: \"0.5em\",\r\n            textAlign: \"center\",\r\n            color: \"white\"\r\n          }}\r\n        >\r\n          Filter Results\r\n        </div>\r\n\r\n        <div style={{ backgroundColor: \"white\", width: \"inherit\" }}>\r\n          <Button\r\n            className=\"filter-btn mb-2\"\r\n            variant=\"light\"\r\n            onClick={this.onClickPrices}\r\n            aria-expanded={this.state.prices}\r\n            aria-controls=\"prices\"\r\n            style={{\r\n              width: \"inherit\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              backgroundColor: \"white\"\r\n            }}\r\n          >\r\n            <span>Price Range</span>\r\n            <FontAwesomeIcon\r\n              icon={[\"fas\", \"sort-down\"]}\r\n              style={{ color: \"black\" }}\r\n              size=\"lg\"\r\n            />\r\n          </Button>\r\n          <Collapse in={this.state.prices}>\r\n            <div id=\"prices\">\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  marginLeft: \"2em\",\r\n                  marginRight: \"2em\"\r\n                }}\r\n              >\r\n                <span>{this.state.priceValue[0]}</span>\r\n                <span>{this.state.priceValue[1]}</span>\r\n              </div>\r\n              <Nouislider\r\n                accessibility\r\n                start={this.state.priceValue}\r\n                range={this.state.priceRange}\r\n                onSlide={this.onPriceSlide}\r\n                onChange={this.props.onChangePrice}\r\n                // pips={{ mode: \"count\", values: 5 }}\r\n                connect\r\n              />\r\n            </div>\r\n          </Collapse>\r\n\r\n          <hr />\r\n\r\n          <Button\r\n            className=\"filter-btn\"\r\n            variant=\"light\"\r\n            onClick={this.onClickStars}\r\n            aria-expanded={this.state.openStars}\r\n            aria-controls=\"stars\"\r\n            style={{\r\n              width: \"inherit\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              backgroundColor: \"white\"\r\n            }}\r\n          >\r\n            <span>Stops</span>\r\n            <FontAwesomeIcon\r\n              icon={[\"fas\", \"sort-down\"]}\r\n              style={{ color: \"black\" }}\r\n              size=\"lg\"\r\n            />\r\n          </Button>\r\n\r\n          <Collapse in={this.state.openStars}>\r\n            <div id=\"stars\" style={{ paddingLeft: \"3em\" }}>\r\n              {[\r\n                [\"1\", \"One Star and below\"],\r\n                [\"2\", \"2 Star\"],\r\n                [\"3\", \"3 Star\"],\r\n                [\"4\", \"4 Star\"],\r\n                [\"5\", \"5 Star and above\"]\r\n              ].map(star => (\r\n                <CheckBox\r\n                  key={star[0]}\r\n                  type=\"checkbox\"\r\n                  label={star[1]}\r\n                  id={star[0]}\r\n                  name={star[0]}\r\n                  checked={this.props.stars.get(star[0])}\r\n                  onChange={this.props.onChangeStars}\r\n                />\r\n              ))}\r\n            </div>\r\n          </Collapse>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FilterHotels;\r\n","import React from \"react\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\nimport HotelResultList from \"./HotelResultList\";\r\nimport HotelResultHeading from \"./HotelResultHeading\";\r\nimport FilterHotels from \"./FilterHotels\";\r\nimport { Map } from \"immutable\";\r\n\r\nclass HotelResult extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const hotelData = this.props.data.hotels.data;\r\n    const { userInfo } = this.props;\r\n    this.priceList = hotelData.map((data) => data.offers[0].price.total * 1);\r\n    this.checkedStars = hotelData.map((data) => data.hotel.rating);\r\n    this.state = {\r\n      hotelData,\r\n      userInfo,\r\n      stars: new Map(),\r\n      showAllResultBtn: false,\r\n    };\r\n  }\r\n\r\n  onChangePrice = (render, handle, value, un, percent) => {\r\n    const hotelData = this.props.data.hotels.data;\r\n    this.setState((prevState) => {\r\n      let array = hotelData.filter(\r\n        (hotel) =>\r\n          this.checkedStars.includes(hotel.hotel.rating) &&\r\n          hotel.offers[0].price.total * 1 >= value[0] &&\r\n          hotel.offers[0].price.total * 1 <= Math.round(value[1])\r\n      );\r\n      array.map(\r\n        (data) =>\r\n          (this.priceList = this.priceList.filter(\r\n            (i) => data.offers[0].price.total * 1 === i\r\n          ))\r\n      );\r\n      console.log(this.priceList);\r\n      return {\r\n        hotelData: array,\r\n        showAllResultBtn: true,\r\n      };\r\n    });\r\n  };\r\n\r\n  onChangeStars = (e) => {\r\n    const item = e.target.name;\r\n    const isChecked = e.target.checked;\r\n    const hotelData = this.props.data.hotels.data;\r\n    this.setState((prevState) => {\r\n      return {\r\n        stars: prevState.stars.set(item, isChecked),\r\n      };\r\n    });\r\n\r\n    this.setState((prevState) => {\r\n      let array = [];\r\n      // return an array of hotels that do not contain the given number of stars that are unchecked\r\n      if (!isChecked) {\r\n        array = prevState.hotelData.filter(\r\n          (hotel) => hotel.hotel.rating !== item\r\n        );\r\n        this.checkedStars = this.checkedStars.filter((i) => {\r\n          console.log(item, i);\r\n          return item != i;\r\n        });\r\n        console.log(this.checkedStars);\r\n      }\r\n\r\n      // return an array of hotels that contains the checked number of stars\r\n      if (isChecked) {\r\n        let requiredArray = hotelData.filter(\r\n          (data) =>\r\n            this.priceList.includes(data.offers[0].price.total * 1) &&\r\n            data.hotel.rating === item\r\n        );\r\n\r\n        this.checkedStars.push(item);\r\n\r\n        let newArray = prevState.hotelData.concat(requiredArray);\r\n\r\n        console.log(newArray);\r\n\r\n        // Remove duplicates\r\n        const starMap = new Map();\r\n        for (const item of newArray) {\r\n          if (!starMap.has(item.hotel.name)) {\r\n            starMap.set(item.hotel.name, true); // set any value to Map\r\n            array.push({\r\n              ...item,\r\n            });\r\n          }\r\n        }\r\n      }\r\n      return {\r\n        hotelData: array,\r\n        showAllResultBtn: true,\r\n      };\r\n    });\r\n  };\r\n\r\n  handleShowAll = () => {\r\n    this.setState({\r\n      hotelData: this.props.data.hotels.data,\r\n      showAllResultBtn: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Row>\r\n          <Col lg={12} className=\"mb-4\">\r\n            <HotelResultHeading userInfo={this.state.userInfo} />\r\n          </Col>\r\n          <Col lg={3} classname=\"mb-4\">\r\n            <FilterHotels\r\n              hotelData={this.state.hotelData}\r\n              stars={this.state.stars}\r\n              onChangeStars={this.onChangeStars}\r\n              onChangePrice={this.onChangePrice}\r\n            />\r\n          </Col>\r\n          <Col lg={9}>\r\n            {/* Show a button to display all result only if the data has been filtered or sorted */}\r\n            {this.state.showAllResultBtn ? (\r\n              <div className=\"ml-auto\">\r\n                <Button onClick={this.handleShowAll}>Show All Results</Button>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n\r\n            <HotelResultList\r\n              hotelData={this.state.hotelData}\r\n              userInfo={this.state.userInfo}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HotelResult;\r\n","import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { getHotels } from \"../../queries\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport HotelResult from \"./HotelResult\";\r\n\r\nconst HotelQuery = (props) => {\r\n  let {\r\n    from,\r\n    checkIn,\r\n    checkOut,\r\n    adults,\r\n    children,\r\n    rooms,\r\n  } = props.location.state.searchParams;\r\n  let { currency } = props;\r\n  return (\r\n    <Query\r\n      query={getHotels}\r\n      variables={{\r\n        cityCode: from.iataCode,\r\n        checkInDate: checkIn.toISOString().split(\"T\")[0],\r\n        checkOutDate: checkOut.toISOString().split(\"T\")[0],\r\n        roomQuantity: rooms,\r\n        adults: adults,\r\n        // hotelName: hotelName,\r\n        currency: currency,\r\n      }}\r\n    >\r\n      {({ error, loading, data }) => {\r\n        if (loading)\r\n          return (\r\n            <div className=\"query_status\">\r\n              <Spinner\r\n                animation=\"border\"\r\n                size=\"lg\"\r\n                variant=\"primary\"\r\n                role=\"status\"\r\n              >\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </Spinner>\r\n            </div>\r\n          );\r\n        if (error) {\r\n          console.log(error);\r\n          return (\r\n            <div className=\"query_status\">\r\n              We are currently unable to complete the hotel search. Please try\r\n              again.\r\n            </div>\r\n          );\r\n        }\r\n\r\n        let emptyData = {};\r\n        emptyData.hotels = {};\r\n        emptyData.hotels.data = [];\r\n\r\n        console.log(data);\r\n\r\n        return (\r\n          <HotelResult\r\n            data={data.hotels ? data : emptyData}\r\n            userInfo={props.location.state.searchParams}\r\n          />\r\n        );\r\n      }}\r\n    </Query>\r\n  );\r\n};\r\n\r\nexport default HotelQuery;\r\n","import React from \"react\";\r\nimport { Navbar, Nav, Container } from \"react-bootstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n// import logo from \"../../../images/logo.svg\";\r\n\r\nconst UserHeader = (props) => {\r\n  return (\r\n    <Navbar\r\n      variant=\"dark\"\r\n      fixed=\"top\"\r\n      className=\"main-nav\"\r\n      style={{ height: \"4rem\" }}\r\n    >\r\n      <Container fluid className=\"pt-3 pb-3\">\r\n        <Navbar.Brand\r\n          href=\"#\"\r\n          style={{ marginLeft: \"1.8em\" }}\r\n        >{`Hi ${props.username}`}</Navbar.Brand>\r\n        <Nav\r\n          style={{\r\n            maxWidth: \"fit-content\",\r\n            marginLeft: \"auto\",\r\n            fontSize: \"1em\",\r\n          }}\r\n        >\r\n          {/* <NavLink className=\"mr-3 header-link\" to=\"#\">\r\n            <span>\r\n              {\" \"}\r\n              <FontAwesomeIcon\r\n                icon={[\"fas\", \"bell\"]}\r\n                className=\"mr-2\"\r\n                size=\"lg\"\r\n              />\r\n              Notifications\r\n            </span>\r\n          </NavLink> */}\r\n          <NavLink className=\"mr-3 header-link\" to=\"/contact\">\r\n            <FontAwesomeIcon\r\n              icon={[\"fas\", \"user-circle\"]}\r\n              className=\"mr-2\"\r\n              size=\"lg\"\r\n            />\r\n          </NavLink>\r\n          <NavLink className=\"mr-3 header-link\" to=\"#\">\r\n            <FontAwesomeIcon\r\n              icon={[\"fas\", \"redo\"]}\r\n              className=\"mr-2\"\r\n              size=\"lg\"\r\n            />\r\n          </NavLink>\r\n        </Nav>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default UserHeader;\r\n","import React from \"react\";\r\nimport { slide as Menu } from \"react-burger-menu\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nclass SideBar extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      menuOpen: false,\r\n    };\r\n  }\r\n\r\n  isMenuOpen = (state) => {\r\n    this.setState({\r\n      menuOpen: state.isOpen,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let menuClass;\r\n    if (this.state.menuOpen) menuClass = \"burger-menu-open\";\r\n    console.log(this.props.url);\r\n\r\n    return (\r\n      <Menu\r\n        noOverlay\r\n        width={\"240px\"}\r\n        disableAutoFocus\r\n        onStateChange={this.isMenuOpen}\r\n        className={menuClass}\r\n      >\r\n        <NavLink className=\"mr-3\" to={`${this.props.url}/dashboard`}>\r\n          Dashboard\r\n        </NavLink>\r\n        <NavLink className=\"mr-3 menu-item\" to=\"/admin/travelers\">\r\n          Flights\r\n        </NavLink>\r\n        <NavLink className=\"mr-3 menu-item\" to=\"/\">\r\n          Visa Applications\r\n        </NavLink>\r\n        <NavLink className=\"mr-3 menu-item\" to=\"/admin/travelers\">\r\n          Flight Deals\r\n        </NavLink>\r\n        <NavLink className=\"mr-3 menu-item\" to=\"/admin/show-tour\">\r\n          Tours\r\n        </NavLink>\r\n      </Menu>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SideBar;\r\n","import React from \"react\";\r\nimport { Row, Col, Card, Table } from \"react-bootstrap\";\r\n\r\nconst TablesPage = () => {\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col md=\"12\">\r\n          <Card className=\"mt-5\">\r\n            {/* <MDBView className=\"gradient-card-header blue darken-2\">\r\n              <h4 className=\"h4-responsive text-white\">Basic tablesPage</h4>\r\n            </MDBView> */}\r\n            <Card.Body>\r\n              <h3 className=\"mt-5 text-left\">\r\n                <strong>Basic examples</strong>\r\n              </h3>\r\n              <p>\r\n                Using the most basic table markup, heres how .table-based\r\n                tablesPage look in Bootstrap. All table styles are inherited in\r\n                Bootstrap 4, meaning any nested tablesPage will be styled in the\r\n                same manner as the parent.\r\n              </p>\r\n              <Table>\r\n                <thead>\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>First</th>\r\n                    <th>Last</th>\r\n                    <th>Handle</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>1</td>\r\n                    <td>Mark</td>\r\n                    <td>Otto</td>\r\n                    <td>@mdo</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>2</td>\r\n                    <td>Jacob</td>\r\n                    <td>Thornton</td>\r\n                    <td>@fat</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>3</td>\r\n                    <td>Larry</td>\r\n                    <td>the Bird</td>\r\n                    <td>@twitter</td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n              <h3 className=\"mt-5 text-left\">\r\n                <strong>Table head options</strong>\r\n              </h3>\r\n              <p>\r\n                To change a background-color of thead (or any other element) use\r\n                our color classes. If you are going to use a dark background you\r\n                should also consider white text (to provide a proper contrast)\r\n                by adding .text-white class.\r\n              </p>\r\n              <Table>\r\n                <thead color=\"primary-color\">\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>First</th>\r\n                    <th>Last</th>\r\n                    <th>Handle</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>1</td>\r\n                    <td>Mark</td>\r\n                    <td>Otto</td>\r\n                    <td>@mdo</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>2</td>\r\n                    <td>Jacob</td>\r\n                    <td>Thornton</td>\r\n                    <td>@fat</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>3</td>\r\n                    <td>Larry</td>\r\n                    <td>the Bird</td>\r\n                    <td>@twitter</td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n              <Table>\r\n                <thead color=\"pink\">\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>First</th>\r\n                    <th>Last</th>\r\n                    <th>Handle</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>1</td>\r\n                    <td>Mark</td>\r\n                    <td>Otto</td>\r\n                    <td>@mdo</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>2</td>\r\n                    <td>Jacob</td>\r\n                    <td>Thornton</td>\r\n                    <td>@fat</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>3</td>\r\n                    <td>Larry</td>\r\n                    <td>the Bird</td>\r\n                    <td>@twitter</td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n              <h3 className=\"mt-5 text-left\">\r\n                <strong>Striped rows.</strong>\r\n              </h3>\r\n              <p>\r\n                Use prop striped to add zebra-striping to any table row within\r\n                the table body\r\n              </p>\r\n              <Table striped>\r\n                <thead>\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>First</th>\r\n                    <th>Last</th>\r\n                    <th>Handle</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>1</td>\r\n                    <td>Mark</td>\r\n                    <td>Otto</td>\r\n                    <td>@mdo</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>2</td>\r\n                    <td>Jacob</td>\r\n                    <td>Thornton</td>\r\n                    <td>@fat</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>3</td>\r\n                    <td>Larry</td>\r\n                    <td>the Bird</td>\r\n                    <td>@twitter</td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TablesPage;\r\n","import React from \"react\";\r\nimport { Row, Col, Card, Table } from \"react-bootstrap\";\r\n\r\nclass Travelers extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let allTravelers = this.props.data;\r\n    this.state = {\r\n      allTravelers\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { allTravelers } = this.state;\r\n    return (\r\n      <>\r\n        <Row>\r\n          <Col>\r\n            <Card className=\"mt-5\" style={{ width: \"fit-content\" }}>\r\n              <Card.Body>\r\n                <Table striped responsive>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>#</th>\r\n                      <th>First Name</th>\r\n                      <th>Middle Name</th>\r\n                      <th>Last Name</th>\r\n                      <th>DOB</th>\r\n                      <th>Email</th>\r\n                      <th>Phone no.</th>\r\n                      <th>Date Booked</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {allTravelers.map((traveler, index) => {\r\n                      return (\r\n                        <tr key={traveler.id}>\r\n                          <td>{Number(index) + 1}</td>\r\n                          <td>{traveler.firstName[0][1]}</td>\r\n                          <td>{traveler.middleName[0][1]}</td>\r\n                          <td>{traveler.lastName[0][1]}</td>\r\n                          <td>{traveler.dateOfBirth[0][1]}</td>\r\n                          <td>{traveler.email}</td>\r\n                          <td>{traveler.phoneNum}</td>\r\n                          <td>{traveler.createdAt}</td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </Table>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Travelers;\r\n","import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { getTravelers } from \"../../queries/traveler\";\r\nimport Travelers from \"./Travelers\";\r\n\r\nconst TravelersQuery = () => {\r\n  return (\r\n    <Query query={getTravelers}>\r\n      {({ error, loading, data }) => {\r\n        if (loading)\r\n          return (\r\n            <div className=\"query_status\">\r\n              <Spinner\r\n                animation=\"border\"\r\n                size=\"lg\"\r\n                variant=\"primary\"\r\n                role=\"status\"\r\n              >\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </Spinner>\r\n            </div>\r\n          );\r\n\r\n        if (error) {\r\n          console.log(error);\r\n          return (\r\n            <div className=\"query_status\">\r\n              Sorry, we are currently unable to retrieve traveler's info. Please\r\n              try again.\r\n            </div>\r\n          );\r\n        }\r\n\r\n        console.log(data);\r\n        return <Travelers data={data.allTravelers} />;\r\n      }}\r\n    </Query>\r\n  );\r\n};\r\n\r\nexport default TravelersQuery;\r\n","import React from \"react\";\r\nimport { Table, Form, Button } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass TourAvailabilityResult extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      selectedTour: [],\r\n      redirect: null\r\n    };\r\n  }\r\n\r\n  onChange = evt => {\r\n    const { name, checked } = evt.target;\r\n    console.log(checked, name);\r\n    this.setState(prevState => {\r\n      // Add selected tour to tour list\r\n      let joinedData = [];\r\n      if (checked) joinedData = prevState.selectedTour.concat(name);\r\n      if (!checked)\r\n        joinedData = prevState.selectedTour.filter(tour => tour !== name);\r\n\r\n      // Remove duplicates\r\n      let uniqueJoinedData = Array.from(new Set(joinedData));\r\n      return {\r\n        selectedTour: uniqueJoinedData\r\n      };\r\n    });\r\n  };\r\n\r\n  searchTour = () => {\r\n    const { selectedTour } = this.state;\r\n    this.setState({ redirect: `/admin/search-tour/${selectedTour.join(\"/\")}` });\r\n  };\r\n\r\n  render() {\r\n    let { selectedTour, redirect } = this.state;\r\n    let { dataArray } = this.props;\r\n    console.log(selectedTour);\r\n\r\n    if (redirect) {\r\n      return <Redirect push to={redirect} />;\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        <p style={{ textAlign: \"left\", fontWeight: \"bold\" }}>\r\n          {dataArray.length} results found\r\n        </p>\r\n        {dataArray.length && (\r\n          <>\r\n            <Table style={{ backgroundColor: \"#fff\" }} bordered>\r\n              <thead>\r\n                <tr>\r\n                  <th>Tour ID</th>\r\n                  <th>Tour name</th>\r\n                  <th>Choose</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {dataArray.map(({ id, name }, i) => {\r\n                  return (\r\n                    <tr key={i}>\r\n                      <td>{id}</td>\r\n                      <td>{name}</td>\r\n                      <td>\r\n                        <Form.Check\r\n                          type=\"checkbox\"\r\n                          name={id}\r\n                          onChange={this.onChange}\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </Table>\r\n\r\n            <Form>\r\n              {selectedTour.length ? (\r\n                <Form.Control\r\n                  plaintext\r\n                  readOnly\r\n                  className=\"selected-tour\"\r\n                  value={selectedTour.join(\", \")}\r\n                  label=\"Selected tour\"\r\n                />\r\n              ) : null}\r\n              <Button\r\n                onClick={this.searchTour}\r\n                disabled={selectedTour.length === 0}\r\n              >\r\n                Search\r\n              </Button>\r\n            </Form>\r\n          </>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TourAvailabilityResult;\r\n","import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { adopt } from \"react-adopt\";\r\nimport { Spinner, Table } from \"react-bootstrap\";\r\nimport { tourAvailabilityQuery } from \"../../queries/tour\";\r\nimport TourAvailabilityResult from \"./TourAvailabilityResult\";\r\n\r\nconst TourAvailabilityQuery = props => {\r\n  console.log(props);\r\n  let { placesUrl } = props;\r\n  let selectedPlaces = [];\r\n  console.log(placesUrl);\r\n\r\n  for (const key in placesUrl) {\r\n    if (placesUrl[key]) selectedPlaces.push(placesUrl[key]);\r\n  }\r\n\r\n  let queryObj = {};\r\n\r\n  console.log(selectedPlaces);\r\n\r\n  selectedPlaces.map(\r\n    country =>\r\n      (queryObj[country] = ({ render }) => (\r\n        <Query query={tourAvailabilityQuery} variables={{ name: country }}>\r\n          {render}\r\n        </Query>\r\n      ))\r\n  );\r\n\r\n  const Composed = adopt(queryObj);\r\n\r\n  return (\r\n    <Composed>\r\n      {result => {\r\n        let allData = [];\r\n        for (let name in queryObj) {\r\n          if (result[name].loading)\r\n            return (\r\n              <div>\r\n                <Spinner\r\n                  animation=\"border\"\r\n                  size=\"lg\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                >\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </Spinner>\r\n              </div>\r\n            );\r\n          if (result[name].error) {\r\n            console.log(result[name].error);\r\n            return (\r\n              <div>\r\n                Currently unable to check tour availability. Please try again.\r\n              </div>\r\n            );\r\n          }\r\n          allData.push(result[name].data);\r\n        }\r\n        console.log(allData);\r\n\r\n        let dataArray = [];\r\n        allData.forEach(data => {\r\n          if (data.Tour) {\r\n            dataArray.push(...data.Tour.results);\r\n          }\r\n        });\r\n\r\n        console.log(dataArray);\r\n\r\n        return <TourAvailabilityResult dataArray={dataArray} />;\r\n      }}\r\n    </Composed>\r\n  );\r\n};\r\n\r\nexport default TourAvailabilityQuery;\r\n","import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nimport { getToursFromDatabase } from \"../../queries/tour\";\r\nimport TourTable from \"./TourTable\";\r\nimport HolidayPackages from \"../../components/home/homeSubs/tour/HolidayPackages\";\r\n\r\n// TODO: Authorization to determine the component that will be showed depending on the user role\r\nexport default class TourQuery extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      isAdmin: true,\r\n    };\r\n  }\r\n  render() {\r\n    const { isAdmin } = this.state;\r\n    return (\r\n      <Query query={getToursFromDatabase}>\r\n        {({ loading, error, data }) => {\r\n          if (loading) {\r\n            return (\r\n              <div className=\"query_status\">\r\n                <Spinner\r\n                  animation=\"border\"\r\n                  size=\"lg\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                >\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </Spinner>\r\n              </div>\r\n            );\r\n          }\r\n          if (error) {\r\n            console.log(error);\r\n            return (\r\n              <div className=\"query_status\">\r\n                Sorry, we are currently unable to show available tours. Please\r\n                try again.\r\n              </div>\r\n            );\r\n          }\r\n\r\n          console.log(data);\r\n\r\n          const tours = data.getDatabaseTours;\r\n          if (!tours.length)\r\n            return (\r\n              <div className=\"query_status\">\r\n                There are currently no tours displayed on the home page.\r\n              </div>\r\n            );\r\n\r\n          if (isAdmin) return <TourTable tours={tours} />;\r\n          return <HolidayPackages tours={tours} />;\r\n        }}\r\n      </Query>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { getNames } from \"country-list\";\r\nimport {\r\n  Form,\r\n  Card,\r\n  OverlayTrigger,\r\n  Tooltip,\r\n  Button,\r\n  Col,\r\n  Row,\r\n} from \"react-bootstrap\";\r\nimport { Picky } from \"react-picky\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport TourAvailabilityQuery from \"./TourAvailabilityQuery\";\r\nimport TourQuery from \"./TourQuery\";\r\n\r\nclass ShowTour extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      countries: [\"Oman\", \"London\", \"Paris\"],\r\n      selectedCountries: [],\r\n      selectedPlaces: [],\r\n      city: \"\",\r\n      checkAvailability: false,\r\n      redirect: null,\r\n    };\r\n  }\r\n\r\n  removeCountry = (country) => {\r\n    this.setState((prevState) => {\r\n      let newCountriesList = prevState.countries.filter(\r\n        (item) => country != item\r\n      );\r\n      return {\r\n        countries: newCountriesList,\r\n      };\r\n    });\r\n  };\r\n\r\n  onSelect = (values) => {\r\n    this.setState((prevState) => {\r\n      return {\r\n        selectedCountries: values,\r\n        selectedPlaces: prevState.selectedPlaces.concat(values),\r\n        checkAvailability: false,\r\n      };\r\n    });\r\n  };\r\n\r\n  checkAvailability = async () => {\r\n    let { selectedCountries, city } = this.state;\r\n    // If countries have been selected set chekAvailability to true\r\n    if (selectedCountries.length || city.length) {\r\n      await this.setState((prevState) => {\r\n        //The city will come from the user as a string that is a comma seperated city names\r\n        // Remove any white space in the string and split by the commas to get an array of cities\r\n        let placesList = [];\r\n        if (city) placesList = city.replace(/ /g, \"\").split(\",\");\r\n\r\n        // Add selected tour to tour list\r\n        let joinedData = prevState.selectedPlaces.concat(placesList);\r\n\r\n        // Remove duplicates\r\n        let uniqueJoinedData = Array.from(new Set(joinedData));\r\n        let citiesUrl = \"/\";\r\n        uniqueJoinedData.forEach((city) => (citiesUrl += `${city}/`));\r\n        console.log(citiesUrl);\r\n        return {\r\n          selectedPlaces: uniqueJoinedData,\r\n          redirect: `/admin/show-tour${citiesUrl}`,\r\n        };\r\n      });\r\n\r\n      this.setState({ checkAvailability: true });\r\n    }\r\n  };\r\n\r\n  handleCityChange = (evt) => {\r\n    let value = evt.target.value;\r\n    this.setState({ city: value, checkAvailability: false });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      countries,\r\n      selectedCountries,\r\n      selectedPlaces,\r\n      checkAvailability,\r\n      city,\r\n      redirect,\r\n    } = this.state;\r\n    console.log(selectedPlaces);\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <h2 className=\"mt-3 mb-3\">View and change the tour countries </h2>\r\n        <Col className=\"mb-4\">\r\n          <TourQuery removeCountry={this.removeCountry} />\r\n          {/* <Card\r\n            className=\"mt-2 mb-4\"\r\n            style={{\r\n              width: \"fit-content\",\r\n              display: \"block\",\r\n              marginLeft: \"auto\",\r\n              marginRight: \"auto\"\r\n            }}\r\n          >\r\n            <Card.Header>\r\n              Countries currently displayed on the tour page are:\r\n            </Card.Header>\r\n            <Card.Body className=\"p-3\">\r\n              <ul style={{ listStyle: \"none\", paddingLeft: 0 }}>\r\n                {countries.map((country, i) => (\r\n                  <React.Fragment key={i}>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                      <li className=\"text-left\">{country}</li>\r\n                      <OverlayTrigger\r\n                        placement=\"right\"\r\n                        delay={{ show: 250, hide: 400 }}\r\n                        overlay={\r\n                          <Tooltip>\r\n                            Remove this country from tour destinations\r\n                          </Tooltip>\r\n                        }\r\n                      >\r\n                        <FontAwesomeIcon\r\n                          icon={[\"fas\", \"times\"]}\r\n                          size=\"lg\"\r\n                          style={{ color: \"rgb(168, 38, 38)\" }}\r\n                          onClick={() => this.removeCountry(country)}\r\n                        />\r\n                      </OverlayTrigger>\r\n                    </div>\r\n                    <hr />\r\n                  </React.Fragment>\r\n                ))}\r\n              </ul>\r\n            </Card.Body>\r\n          </Card> */}\r\n        </Col>\r\n\r\n        <Col className=\"mb-4\">\r\n          <Form\r\n            style={{\r\n              width: \"fit-content\",\r\n              display: \"block\",\r\n              marginLeft: \"auto\",\r\n              marginRight: \"auto\",\r\n              textAlign: \"left\",\r\n            }}\r\n          >\r\n            <Row className=\"mb-4\">\r\n              <Col sm={12} md={6}>\r\n                <Picky\r\n                  id=\"picky\"\r\n                  options={getNames()}\r\n                  value={selectedCountries}\r\n                  multiple={true}\r\n                  includeSelectAll={false}\r\n                  includeFilter={true}\r\n                  dropdownHeight={400}\r\n                  onChange={this.onSelect}\r\n                  placeholder=\"Choose Countries\"\r\n                  manySelectedPlaceholder=\"%s coutries selected\"\r\n                  clearFilterOnClose={true}\r\n                  defaultFocusFilter={true}\r\n                  filterPlaceholder=\"Type name\"\r\n                />\r\n              </Col>\r\n              <Col sm={12} md={1}>\r\n                <span className=\"d-flex justify-content-center mt-2 mb-2\">\r\n                  OR\r\n                </span>\r\n              </Col>\r\n              <Col sm={12} md={5}>\r\n                <OverlayTrigger\r\n                  placement=\"bottom\"\r\n                  delay={{ show: 250, hide: 400 }}\r\n                  overlay={\r\n                    <Tooltip>\r\n                      For more than one place seperate places names by comma e.g\r\n                      London, Safari\r\n                    </Tooltip>\r\n                  }\r\n                >\r\n                  <Form.Control\r\n                    placeholder=\"Enter city or place\"\r\n                    size=\"sm\"\r\n                    value={city}\r\n                    onChange={this.handleCityChange}\r\n                  />\r\n                </OverlayTrigger>\r\n              </Col>\r\n            </Row>\r\n            <Button\r\n              onClick={this.checkAvailability}\r\n              disabled={checkAvailability}\r\n            >\r\n              Check availability\r\n            </Button>\r\n          </Form>\r\n        </Col>\r\n        {redirect && <Redirect push to={redirect} />}\r\n        {this.props.match.params.city1 && (\r\n          <TourAvailabilityQuery placesUrl={this.props.match.params} />\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ShowTour;\r\n","import React from \"react\";\r\nimport { Card, Row, Col, Form, Button, Alert } from \"react-bootstrap\";\r\n// import { Picky } from \"react-picky\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport { saveTourToDatabase, getToursFromDatabase } from \"../../queries\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass TourDetailsResult extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      selectedTourDetails: [],\r\n      saved: false,\r\n      errorText: null,\r\n      redirect: null,\r\n    };\r\n  }\r\n\r\n  onChange = (evt) => {\r\n    const { name, checked } = evt.target;\r\n    console.log(checked, name);\r\n    this.setState((prevState) => {\r\n      // Add selected tour to tour list\r\n      let joinedData = prevState.selectedTourDetails.concat(name);\r\n\r\n      // Remove duplicates\r\n      let uniqueJoinedData = Array.from(new Set(joinedData));\r\n      return {\r\n        selectedTourDetails: checked\r\n          ? uniqueJoinedData\r\n          : prevState.selectedTourDetails,\r\n      };\r\n    });\r\n  };\r\n\r\n  handleAddTour = async (saveTour, data) => {\r\n    const { selectedTourDetails } = this.state;\r\n    const newData = this.props.allData;\r\n    const selectedTours = newData\r\n      .map((tour) => {\r\n        // Return the price in USD only, and also keep only the currency and amount info\r\n        const advertised_departures = tour.TourDetails.advertised_departures;\r\n        const formattedTour = advertised_departures.filter(\r\n          (departure) => departure.currency === \"USD\"\r\n        );\r\n        tour.TourDetails.advertised_departures = formattedTour;\r\n\r\n        console.log(advertised_departures);\r\n        console.log(formattedTour);\r\n\r\n        // Get only the tour overview link\r\n        tour.TourDetails.site_links = tour.TourDetails.site_links.filter(\r\n          (link) => link.type === \"OVERVIEW\"\r\n        );\r\n\r\n        // Get banner type image only;\r\n        tour.TourDetails.images = tour.TourDetails.images.filter(\r\n          (image) => image.type === \"BANNER\"\r\n        );\r\n\r\n        // Get the first five details of the tour\r\n        tour.TourDetails.details = tour.TourDetails.details.slice(0, 4);\r\n        return tour.TourDetails;\r\n      })\r\n      .filter((tour) => selectedTourDetails.includes(tour.id));\r\n    console.log(selectedTours);\r\n    try {\r\n      data = await saveTour({\r\n        variables: { input: selectedTours },\r\n        update: (store, { data: { saveTour } }) => {\r\n          const { ok } = saveTour;\r\n          console.log(ok);\r\n          if (!ok) return;\r\n          let data = store.readQuery({ query: getToursFromDatabase });\r\n          data.getDatabaseTours.push(...selectedTours);\r\n          console.log(data);\r\n          store.writeQuery({ query: getToursFromDatabase, data });\r\n        },\r\n      });\r\n      this.setState({ saved: true });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    console.log(data);\r\n\r\n    if (!data.data.saveTour.ok) {\r\n      this.setState({\r\n        errorText: \"Unable to save tour details. Please try again letter.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  closeSuccessAlert = () => {\r\n    this.setState({ saved: false });\r\n  };\r\n\r\n  handleShowTours = () => {\r\n    this.setState({ redirect: \"/admin/show-tour\" });\r\n  };\r\n\r\n  render() {\r\n    const { allData } = this.props;\r\n    console.log(allData);\r\n\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={this.state.redirect} />;\r\n    }\r\n    return (\r\n      <Mutation mutation={saveTourToDatabase}>\r\n        {(saveTour, { loading, error, data }) => (\r\n          <>\r\n            <Card\r\n              className=\"mt-2 mb-4\"\r\n              style={{\r\n                width: \"fit-content\",\r\n                display: \"block\",\r\n                marginLeft: \"auto\",\r\n                marginRight: \"auto\",\r\n              }}\r\n            >\r\n              <Card.Header className=\"d-none d-lg-block\">\r\n                <Row style={{ fontWeight: \"bold\" }}>\r\n                  <Col lg={2}>Name</Col>\r\n                  <Col lg={4}>Description</Col>\r\n                  <Col lg={1}>Price</Col>\r\n                  <Col lg={1}>Country</Col>\r\n                  <Col lg={1}>Visited Countries</Col>\r\n                  <Col lg={1}>Include</Col>\r\n                  <Col lg={2}>Link</Col>\r\n                </Row>\r\n              </Card.Header>\r\n              <Card.Body className=\"p-3\">\r\n                {allData.map((tour) => {\r\n                  let tourDetails = tour.TourDetails;\r\n                  let selectedCurrency = {};\r\n                  let price = \"\";\r\n                  if (tourDetails.advertised_departures) {\r\n                    if (tourDetails.advertised_departures.length) {\r\n                      selectedCurrency = tourDetails.advertised_departures.filter(\r\n                        (item) => item.currency === \"USD\"\r\n                      );\r\n\r\n                      price = new Intl.NumberFormat(\"en-NG\", {\r\n                        style: \"currency\",\r\n                        currency: selectedCurrency[0].currency,\r\n                      }).format(Number(selectedCurrency[0].amount).toFixed(2));\r\n                    }\r\n                  }\r\n\r\n                  const visitedCountries = tourDetails.geography.visited_countries.map(\r\n                    (country) => country.name\r\n                  );\r\n\r\n                  const tourOverviewLink = tourDetails.site_links.filter(\r\n                    (link) => link.type === \"OVERVIEW\"\r\n                  );\r\n\r\n                  console.log(tourOverviewLink);\r\n                  return (\r\n                    <React.Fragment key={tourDetails.id}>\r\n                      <Row>\r\n                        <Col lg={2} className=\"text-left\">\r\n                          <Row>\r\n                            <Col sm=\"2\" className=\"d-lg-none font-weight-bold\">\r\n                              Name:\r\n                            </Col>\r\n                            <Col>{tourDetails.name} </Col>\r\n                          </Row>\r\n                        </Col>\r\n\r\n                        <Col lg={4} className=\"text-left\">\r\n                          <Row>\r\n                            <Col sm=\"2\" className=\"d-lg-none font-weight-bold\">\r\n                              Description:\r\n                            </Col>\r\n                            <Col> {tourDetails.description}</Col>\r\n                          </Row>\r\n                        </Col>\r\n\r\n                        <Col lg={1} className=\"text-left\">\r\n                          <Row>\r\n                            <Col sm=\"2\" className=\"d-lg-none font-weight-bold\">\r\n                              Price:\r\n                            </Col>\r\n                            <Col> {price ? price : \"No price available\"}</Col>\r\n                          </Row>\r\n                        </Col>\r\n\r\n                        <Col lg={1} className=\"text-left\">\r\n                          <span className=\"d-lg-none\">Country</span>\r\n                          {tourDetails.geography.primary_country.name}\r\n                        </Col>\r\n                        <Col lg={1} className=\"text-left\">\r\n                          <span className=\"d-lg-none\">Visited Countries</span>\r\n                          {visitedCountries.join(\", \")}\r\n                        </Col>\r\n                        <Col lg={1} className=\"text-left\">\r\n                          <span className=\"d-lg-none\">Include</span>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            name={tourDetails.id}\r\n                            onChange={this.onChange}\r\n                          />\r\n                        </Col>\r\n                        <Col lg={2} className=\"text-left\">\r\n                          <span className=\"d-lg-none\">Link</span>\r\n                          <a\r\n                            style={{ textDecoration: \"none\" }}\r\n                            href={tourOverviewLink[0].href}\r\n                            target=\"_blank\"\r\n                          >\r\n                            {tourOverviewLink[0].href}\r\n                          </a>\r\n                        </Col>\r\n                      </Row>\r\n                      <hr />\r\n                    </React.Fragment>\r\n                  );\r\n                })}\r\n              </Card.Body>\r\n            </Card>\r\n\r\n            <Button\r\n              className=\"mb-5\"\r\n              onClick={() => this.handleAddTour(saveTour, data)}\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"saving\" : \"Add to database\"}\r\n            </Button>\r\n            {this.state.saved ? (\r\n              <Alert\r\n                dismissible\r\n                variant=\"success\"\r\n                onClose={this.closeSuccessAlert}\r\n              >\r\n                <p>\r\n                  {this.state.errorText\r\n                    ? this.state.errorText\r\n                    : \"Tour details successfully saved to database\"}\r\n                </p>\r\n                <Button onClick={this.handleShowTours}>See saved tours</Button>\r\n              </Alert>\r\n            ) : null}\r\n          </>\r\n        )}\r\n      </Mutation>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TourDetailsResult;\r\n","import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { adopt } from \"react-adopt\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { tourDetailsQuery } from \"../../queries/tour\";\r\nimport TourDetailsResult from \"./TourDetailsResult\";\r\n\r\nconst TourDetailsQuery = props => {\r\n  let { params } = props.match;\r\n  let selectedTour = [];\r\n  for (const key in params) {\r\n    if (params[key]) selectedTour.push(params[key]);\r\n  }\r\n  let queryObj = {};\r\n  selectedTour.map(id => {\r\n    return (queryObj[id] = ({ render }) => (\r\n      <Query query={tourDetailsQuery} variables={{ id }}>\r\n        {render}\r\n      </Query>\r\n    ));\r\n  });\r\n\r\n  const Composed = adopt(queryObj);\r\n\r\n  return (\r\n    <Composed>\r\n      {result => {\r\n        let allData = [];\r\n        for (let index in queryObj) {\r\n          if (result[index].loading)\r\n            return (\r\n              <div className=\"query_status\">\r\n                <Spinner\r\n                  animation=\"border\"\r\n                  size=\"lg\"\r\n                  variant=\"primary\"\r\n                  role=\"status\"\r\n                >\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </Spinner>\r\n              </div>\r\n            );\r\n\r\n          if (result[index].error) {\r\n            console.log(result[index].error);\r\n            return (\r\n              <div className=\"query_status\">\r\n                Currently unable to return tour details. Please try again.\r\n              </div>\r\n            );\r\n          }\r\n          allData.push(result[index].data);\r\n        }\r\n        console.log(allData);\r\n\r\n        if (allData.some(tourData => tourData.tourDetails === null)) {\r\n          return (\r\n            <div className=\"query_status\">\r\n              No Result Found, please try again\r\n            </div>\r\n          );\r\n        }\r\n\r\n        return <TourDetailsResult allData={allData} />;\r\n      }}\r\n    </Composed>\r\n  );\r\n};\r\n\r\nexport default TourDetailsQuery;\r\n","import React from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\n\r\nconst Dashboard = () => {\r\n  return (\r\n    <section className=\"pt-4\">\r\n      <Card style={{ marginBottom: \"3em\", borderColor: \"#f68220\" }}>\r\n        <Card.Header>Recent Booking</Card.Header>\r\n        <Card.Body></Card.Body>\r\n      </Card>\r\n\r\n      <Card style={{ marginBottom: \"3em\", borderColor: \"#f68220\" }}>\r\n        <Card.Header>Visa processing applications</Card.Header>\r\n        <Card.Body></Card.Body>\r\n      </Card>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport UserHeader from \"./UserHeader\";\r\nimport SideBar from \"../SideBar\";\r\nimport TablesPage from \"../../admin/TablesPage\";\r\nimport TravelersQuery from \"../../admin/TravelersQuery\";\r\nimport ShowTour from \"../../admin/ShowTour\";\r\nimport TourDetailsQuery from \"../../admin/TourDetailsQuery\";\r\nimport Dashboard from \"./Dashboard\";\r\n\r\nclass UserPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleHideHeader = this.props.handleHideHeader;\r\n    this.handleHideFooter = this.props.handleHideFooter;\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.handleHideHeader(true);\r\n    this.handleHideFooter(true);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    this.props.handleHideHeader(false);\r\n    this.props.handleHideFooter(false);\r\n  };\r\n\r\n  render() {\r\n    let { url } = this.props.match;\r\n    console.log(url);\r\n    const { username } = this.props.match.params;\r\n    return (\r\n      <React.Fragment>\r\n        <UserHeader username={username} />\r\n        <div id=\"outer-container\">\r\n          <SideBar username={username} url={url} />\r\n          <Container\r\n            id=\"page-wrap\"\r\n            style={{\r\n              transition: \"all 0.5s ease 0s\",\r\n            }}\r\n          >\r\n            <Switch>\r\n              <Route path={`${url}/`} exact component={TablesPage} />\r\n              <Route path={`${url}/dashboard`} component={Dashboard} />\r\n              <Route path={`${url}/travelers`} component={TravelersQuery} />\r\n              <Route\r\n                path={`${url}/show-tour/:city1?/:city2?/:city3?/:city4?/:city5?/:city6?`}\r\n                render={(props) => <ShowTour {...props} />}\r\n              />\r\n              <Route\r\n                path={`${url}/search-tour:tourId1?/:tourId2?/:tourId3?/:tourId4?/:tourId5?/:tourId6?`}\r\n                component={TourDetailsQuery}\r\n              />\r\n            </Switch>\r\n          </Container>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default UserPage;\r\n","import React from \"react\";\r\nimport { Table, Card, Button, Carousel } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass HotelOffers extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      redirect: null,\r\n      redirectOffer: null\r\n    };\r\n  }\r\n\r\n  handleBook = offer => {\r\n    this.setState({\r\n      redirect: \"/guestInfo\",\r\n      redirectOffer: offer\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let hotelOffers = this.props.hotelOffers;\r\n    if (this.state.redirect) {\r\n      return (\r\n        <Redirect\r\n          push\r\n          to={{\r\n            pathname: this.state.redirect,\r\n            state: { offerId: this.state.redirectOffer.id }\r\n          }}\r\n        />\r\n      );\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        {hotelOffers\r\n          ? hotelOffers.hotel.media.map(photo => {\r\n              return (\r\n                <Carousel className=\"mb-4\" key={photo.uri} interval={7000}>\r\n                  <Carousel.Item>\r\n                    <img\r\n                      className=\"d-block w-100\"\r\n                      style={{ height: \"fit-content\", width: \"250px\" }}\r\n                      src={photo.uri}\r\n                      alt={photo.category}\r\n                    />\r\n                    <Carousel.Caption>\r\n                      <h3 style={{ color: \"orange\" }}>{photo.category}</h3>\r\n                    </Carousel.Caption>\r\n                  </Carousel.Item>\r\n                </Carousel>\r\n              );\r\n            })\r\n          : null}\r\n\r\n        {hotelOffers ? (\r\n          <Card className=\"mt-4\">\r\n            <Card.Header style={{ backgroundColor: \"#f68220\", color: \"white\" }}>\r\n              Available Room Types\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <Table>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Room type</th>\r\n                    {/* <th>Max guest per room</th> */}\r\n                    <th>Price per night</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {hotelOffers.offers.map(offer => {\r\n                    return (\r\n                      <tr key={offer.id}>\r\n                        <td>\r\n                          {offer.room.description.text\r\n                            .split(\"\\n\")\r\n                            .map((text, i) => (\r\n                              <p key={i}>{text}</p>\r\n                            ))}\r\n                        </td>\r\n                        <td>\r\n                          <p>\r\n                            {new Intl.NumberFormat(\"en-NG\", {\r\n                              style: \"currency\",\r\n                              currency: offer.price.currency\r\n                            }).format(Number(offer.price.total))}\r\n                          </p>\r\n                          <Button onClick={this.handleBook.bind(this, offer)}>\r\n                            Book\r\n                          </Button>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </Table>\r\n            </Card.Body>\r\n          </Card>\r\n        ) : (\r\n          <div className=\"query_status\">\r\n            No Rooms available for this property\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HotelOffers;\r\n","import React from \"react\";\r\nimport { Container, Row, Col, Card, Spinner, Table } from \"react-bootstrap\";\r\nimport { Query } from \"react-apollo\";\r\nimport { getHotelOffers } from \"../../queries\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport HotelOffers from \"./HotelOffers\";\r\n\r\nconst ShowMore = (props) => {\r\n  let { hotelData, userInfo } = props.location.state;\r\n  let args = {};\r\n  let searchParams = hotelData.self.split(\"?\")[1].split(\"&\");\r\n  searchParams.map((item) => {\r\n    let str = item.split(\"=\");\r\n    if (str[0] === \"adults\") str[1] = str[1] * 1;\r\n    if (str[0] === \"roomQuantity\") str[1] = str[1] * 1;\r\n    args[str[0]] = str[1];\r\n    return item;\r\n  });\r\n  console.log(userInfo);\r\n\r\n  // Display star ratings\r\n  let ratings = [];\r\n  let hotelRatings = hotelData.hotel.rating;\r\n  let numRatings = hotelRatings ? hotelRatings * 1 : null;\r\n  if (numRatings) {\r\n    for (let i = 1; i <= 5; i++) {\r\n      if (numRatings >= i) {\r\n        ratings.push(\r\n          <FontAwesomeIcon\r\n            key={i}\r\n            icon={[\"fas\", \"star\"]}\r\n            style={{ color: \"orange\" }}\r\n            size=\"lg\"\r\n          />\r\n        );\r\n      } else {\r\n        ratings.push(\r\n          <FontAwesomeIcon\r\n            key={i}\r\n            icon={[\"far\", \"star\"]}\r\n            style={{ color: \"orange\" }}\r\n            size=\"lg\"\r\n          />\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container fluid>\r\n      <Row>\r\n        <Col lg={5}>\r\n          <Card className=\"mb-3\">\r\n            <Card.Body>\r\n              <h2 className=\"font-weight-bold\">{hotelData.hotel.name}</h2>\r\n              <h3>{hotelData.hotel.address.lines.join(\", \")}</h3>\r\n              <p className=\"mb-3\">\r\n                {numRatings ? ratings : \"No ratings available\"}\r\n              </p>\r\n              {hotelData.hotel.description ? (\r\n                <p className=\"mb-3\">{hotelData.hotel.description.text}</p>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n\r\n              <Table>\r\n                <tbody>\r\n                  <tr>\r\n                    <td className=\"font-weight-bold\">From</td>\r\n                    <td className=\"font-weight-bold\">\r\n                      {new Intl.NumberFormat(\"en-NG\", {\r\n                        style: \"currency\",\r\n                        currency: hotelData.offers[0].price.currency,\r\n                      }).format(Number(hotelData.offers[0].price.total))}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Check In</td>\r\n                    <td>\r\n                      {userInfo.userInfo.checkIn.toISOString().split(\"T\")[0]}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Check Out</td>\r\n                    <td>\r\n                      {userInfo.userInfo.checkOut.toISOString().split(\"T\")[0]}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Number of Rooms</td>\r\n                    <td>{userInfo.userInfo.rooms}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Number of Adults</td>\r\n                    <td>{userInfo.userInfo.adult}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Number of Children</td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          <Card className=\"mb-2\">\r\n            <Card.Body>\r\n              <h3 className=\"mb-3 font-weight-bold\">Amenities</h3>\r\n              {hotelData.hotel.amenities.map((amenity, i) => (\r\n                <ol key={i}>{amenity.split(\"_\").join(\" \")}</ol>\r\n              ))}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        <Col lg={7}>\r\n          <Query query={getHotelOffers} variables={args}>\r\n            {({ error, loading, data }) => {\r\n              if (loading)\r\n                return (\r\n                  <div className=\"query_status\">\r\n                    <Spinner\r\n                      animation=\"border\"\r\n                      size=\"lg\"\r\n                      variant=\"primary\"\r\n                      role=\"status\"\r\n                    >\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner>\r\n                  </div>\r\n                );\r\n              if (error) {\r\n                console.log(error);\r\n                return (\r\n                  <div className=\"query_status\">\r\n                    More info not available presently, please try again\r\n                  </div>\r\n                );\r\n              }\r\n\r\n              console.log(data);\r\n\r\n              return <HotelOffers hotelOffers={data.hotelOffers.data} />;\r\n            }}\r\n          </Query>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ShowMore;\r\n","import React from \"react\";\r\nimport { Container, Form, Col } from \"react-bootstrap\";\r\n\r\nconst GuestInfo = props => {\r\n  const { offerId } = props.location.state;\r\n  return (\r\n    <Container>\r\n      <Form>\r\n        <Form.Group as={Col}></Form.Group>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default GuestInfo;\r\n","import React from \"react\";\r\nimport { Form, Col, Button } from \"react-bootstrap\";\r\n\r\n// TEST5e385fc39921f\r\n// test_e228562ea21f6c989ca21474e4778c05\r\n\r\nclass NetplusPayment extends React.Component {\r\n  render() {\r\n    return (\r\n      <Form\r\n        class=\"demo-fm\"\r\n        id=\"netpluspay_form\"\r\n        name=\"netpluspay_form\"\r\n        action=\"https://netpluspay.com/testpayment/paysrc/\"\r\n      >\r\n        <Form.Group as={Col} sm=\"12\" controlId=\"full=name\">\r\n          <Form.Label>Full Name</Form.Label>\r\n          <Form.Control\r\n            name=\"full_name\"\r\n            placeholder=\"Enter Full Name\"\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group as={Col} sm=\"12\" controlId=\"email\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            name=\"email\"\r\n            type=\"email\"\r\n            placeholder=\"Enter email\"\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group as={Col} sm=\"6\" controlId=\"total_amount\">\r\n          <Form.Label>Total Amount</Form.Label>\r\n          <Form.Control\r\n            type=\"number\"\r\n            name=\"total_amount\"\r\n            placeholder=\"&#8358;1000\"\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group as={Col} sm=\"6\" controlId=\"submit_btn\">\r\n          <Button type=\"submit\">Pay</Button>\r\n        </Form.Group>\r\n\r\n        <Form.Group as={Col} sm=\"12\">\r\n          <Form.Control\r\n            type=\"hidden\"\r\n            name=\"merchant_id\"\r\n            value=\"merchantid\"\r\n            placeholder=\"Enter merchant id\"\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group as={Col} sm=\"12\">\r\n          <Form.Control\r\n            type=\"hidden\"\r\n            name=\"currency_code\"\r\n            value=\"NGN\"\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group as={Col} sm=\"12\">\r\n          <Form.Control\r\n            type=\"hidden\"\r\n            name=\"narration\"\r\n            value=\"item payment test\"\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group as={Col} sm=\"12\">\r\n          <Form.Control\r\n            type=\"hidden\"\r\n            name=\"order_id\"\r\n            value=\"universal unique id\"\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group as={Col} sm=\"12\">\r\n          <Form.Control\r\n            type=\"hidden\"\r\n            name=\"return_url\"\r\n            value=\"https://yourreturnurl.com/\"\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group as={Col} sm=\"12\">\r\n          <Form.Control\r\n            type=\"hidden\"\r\n            name=\"recurring\"\r\n            value=\"no\"\r\n          ></Form.Control>\r\n        </Form.Group>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NetplusPayment;\r\n","import React from \"react\";\r\nimport { Container, Form, Card, Button, Spinner } from \"react-bootstrap\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport { ReCaptcha } from \"react-recaptcha-google\";\r\nimport { loginMutation } from \"../../queries\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Login extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      token: \"\",\r\n      redirect: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.captchaUltimate) {\r\n      this.captchaUltimate.reset();\r\n    }\r\n  }\r\n\r\n  onloadRecaptcha = () => {\r\n    if (this.captchaUltimate) {\r\n      this.captchaUltimate.reset();\r\n    }\r\n  };\r\n\r\n  verifyRecaptcha = (recaptchaToken) => {\r\n    // console.log(`my recaptcha token is ${recaptchaToken}`);\r\n    this.setState({ token: recaptchaToken });\r\n  };\r\n\r\n  handleChange = (evt) => {\r\n    const { name, value } = evt.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = async (evt, signIn, data) => {\r\n    const { email, password, token } = this.state;\r\n    // Sign user in and redirect them to the user page if sign in was successfull\r\n    try {\r\n      evt.preventDefault();\r\n      data = await signIn({ variables: { email, password, token } });\r\n      console.log(data);\r\n      this.setState({ redirect: `/users/${data.data.signIn.username}` });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { email, password, redirect } = this.state;\r\n    if (redirect) {\r\n      return <Redirect push to={redirect} />;\r\n    }\r\n    return (\r\n      <Mutation mutation={loginMutation}>\r\n        {(signIn, { loading, error, data }) => (\r\n          <Container\r\n            className=\"d-block ml-auto mr-auto\"\r\n            style={{ maxWidth: \"700px\" }}\r\n          >\r\n            <h3 className=\"text-center pt-5 mb-4\">Login to your account</h3>\r\n            <Card>\r\n              <Card.Body className=\"p-4\">\r\n                <Form onSubmit={(evt) => this.handleSubmit(evt, signIn, data)}>\r\n                  <Form.Group controlId=\"email\">\r\n                    <Form.Label className=\"font-weight-bold\">Email</Form.Label>\r\n                    <Form.Control\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      value={email}\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId=\"password\">\r\n                    <Form.Label className=\"font-weight-bold\">\r\n                      Password\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      type=\"password\"\r\n                      name=\"password\"\r\n                      value={password}\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </Form.Group>\r\n                  <Button type=\"submit\" disabled={loading}>\r\n                    {loading ? (\r\n                      <>\r\n                        <span className=\"mr-2\">Loading</span>{\" \"}\r\n                        <Spinner\r\n                          as=\"span\"\r\n                          animation=\"border\"\r\n                          size=\"sm\"\r\n                          style={{ width: \"1em\", height: \"1em\" }}\r\n                          role=\"status\"\r\n                          aria-hidden=\"true\"\r\n                        />\r\n                      </>\r\n                    ) : (\r\n                      \"Sign in\"\r\n                    )}\r\n                  </Button>\r\n                </Form>\r\n\r\n                <p style={{ marginTop: \"1em\", color: \"#15498d\" }}>\r\n                  Forgot password?\r\n                </p>\r\n\r\n                <ReCaptcha\r\n                  ref={(el) => (this.captchaUltimate = el)}\r\n                  size=\"normal\"\r\n                  render=\"explicit\"\r\n                  sitekey=\"6LfvXOcUAAAAAD8lHPr-cKOtXVhQRiBkVydOpr9X\"\r\n                  onloadCallback={this.onloadRecaptcha}\r\n                  verifyCallback={this.verifyRecaptcha}\r\n                />\r\n              </Card.Body>\r\n            </Card>\r\n          </Container>\r\n        )}\r\n      </Mutation>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { ApolloClient } from \"apollo-client\";\r\nimport { createUploadLink } from \"apollo-upload-client\";\r\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\r\nimport { ApolloProvider } from \"react-apollo\";\r\nimport { loadReCaptcha } from \"react-recaptcha-google\";\r\n//import { ApolloLink, Observable } from 'apollo-link';\r\nimport Header from \"./components/Header\";\r\nimport Home from \"./components/home/Home\";\r\nimport Footer from \"./components/Footer\";\r\nimport TourDetails from \"./components/home/homeSubs/tour/TourDetails\";\r\nimport FlightQuery from \"./components/flightDetails/FlightQuery\";\r\nimport checkOfferAvailability from \"./components/flightDetails/checkOfferAvailability\";\r\nimport VisaForm from \"./components/visa/VisaForm\";\r\nimport HotelQuery from \"./components/hotel/HotelQuery\";\r\nimport UserPage from \"./components/users/userPage/UserPage\";\r\nimport ShowMore from \"./components/hotel/ShowMore\";\r\nimport GuestInfo from \"./components/hotel/GuestInfo\";\r\nimport NetplusPayment from \"./components/NetplusPayment\";\r\nimport Login from \"./components/users/Login\";\r\n\r\nconst uploadLink = createUploadLink({\r\n  uri: \"/graphql\",\r\n  //includeExtensions: true\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: uploadLink,\r\n  cache: new InMemoryCache({\r\n    addTypename: false,\r\n  }),\r\n});\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      currency: \"NGN\",\r\n      hideFooter: false,\r\n      hideHeader: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    loadReCaptcha();\r\n  }\r\n\r\n  handleCurrencyToggle = (selected) => {\r\n    console.log(selected);\r\n    this.setState({ currency: selected });\r\n  };\r\n\r\n  handleHideFooter = (choice) => {\r\n    this.setState({\r\n      hideFooter: choice,\r\n    });\r\n  };\r\n\r\n  handleHideHeader = (choice) => {\r\n    this.setState({\r\n      hideHeader: choice,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ApolloProvider client={client}>\r\n        <Router>\r\n          {this.state.hideHeader ? null : (\r\n            <Header\r\n              handleCurrencyToggle={this.handleCurrencyToggle}\r\n              currency={this.state.currency}\r\n            />\r\n          )}\r\n\r\n          <Switch>\r\n            <Route\r\n              exact\r\n              path=\"/\"\r\n              render={(props) => (\r\n                <Home {...props} currency={this.state.currency} />\r\n              )}\r\n            />\r\n            <Route path=\"/tourDetails/:slug\" component={TourDetails} />\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route\r\n              path=\"/flightDetails\"\r\n              render={(props) => (\r\n                <FlightQuery {...props} currency={this.state.currency} />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/checkOfferAvailability\"\r\n              component={checkOfferAvailability}\r\n            />\r\n            <Route\r\n              path=\"/visaApplicationForm\"\r\n              render={(props) => (\r\n                <VisaForm {...props} handleHideFooter={this.handleHideFooter} />\r\n              )}\r\n            />\r\n\r\n            <Route\r\n              path=\"/hotels\"\r\n              render={(props) => (\r\n                <HotelQuery {...props} currency={this.state.currency} />\r\n              )}\r\n            />\r\n\r\n            <Route\r\n              path=\"/users/:username\"\r\n              render={(props) => (\r\n                <UserPage\r\n                  {...props}\r\n                  handleHideHeader={this.handleHideHeader}\r\n                  handleHideFooter={this.handleHideFooter}\r\n                />\r\n              )}\r\n            />\r\n\r\n            <Route path=\"/showMore\" component={ShowMore} />\r\n            <Route path=\"/guestInfo\" component={GuestInfo} />\r\n            <Route path=\"/netplusPayment\" component={NetplusPayment} />\r\n          </Switch>\r\n          <br />\r\n          <br />\r\n          {this.state.hideFooter ? null : <Footer />}\r\n        </Router>\r\n      </ApolloProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { library } from \"@fortawesome/fontawesome-svg-core\";\r\n\r\nimport {\r\n  faPhoneAlt,\r\n  faEnvelope,\r\n  faBed,\r\n  faBookOpen,\r\n  faCar,\r\n  faCalendarAlt,\r\n  faChair,\r\n  faUsers,\r\n  faExchangeAlt,\r\n  faSortDown,\r\n  faCity,\r\n  faPlane,\r\n  faPlaneDeparture,\r\n  faPlaneArrival,\r\n  faPlus,\r\n  faMinus,\r\n  faLongArrowAltLeft,\r\n  faLongArrowAltRight,\r\n  faStar,\r\n  faMapMarkerAlt,\r\n  faChevronCircleLeft,\r\n  faChevronCircleRight,\r\n  faBell,\r\n  faUserCircle,\r\n  faRedo,\r\n  faTimes,\r\n  faBars,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faStar as faStarRegular } from \"@fortawesome/free-regular-svg-icons\";\r\nimport { faWhatsappSquare } from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nlibrary.add(\r\n  faPhoneAlt,\r\n  faEnvelope,\r\n  faWhatsappSquare,\r\n  faBed,\r\n  faBookOpen,\r\n  faCar,\r\n  faCalendarAlt,\r\n  faChair,\r\n  faUsers,\r\n  faExchangeAlt,\r\n  faSortDown,\r\n  faCity,\r\n  faPlane,\r\n  faPlaneDeparture,\r\n  faPlaneArrival,\r\n  faPlus,\r\n  faMinus,\r\n  faLongArrowAltLeft,\r\n  faLongArrowAltRight,\r\n  faStar,\r\n  faStarRegular,\r\n  faMapMarkerAlt,\r\n  faChevronCircleLeft,\r\n  faChevronCircleRight,\r\n  faBell,\r\n  faUserCircle,\r\n  faRedo,\r\n  faTimes,\r\n  faBars\r\n);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"react-bootstrap-typeahead/css/Typeahead.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"./fontawesome\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}